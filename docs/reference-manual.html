<!DOCTYPE html>
<!--[if lt IE 7 ]><html class="ie ie6" lang="en"> <![endif]-->
<!--[if IE 7 ]><html class="ie ie7" lang="en"> <![endif]-->
<!--[if IE 8 ]><html class="ie ie8" lang="en"> <![endif]-->
<!--[if (gte IE 9)|!(IE)]><!--><html lang="en"> <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
  <title>LuaRadio - Reference Manual</title>
  
  <meta name="author" content="Vanya A. Sergeev" />
  <meta name="description" content="LuaRadio" />
  <link rel="canonical" href="https://luaradio.io/docs/reference-manual.html" />
  <link rel="icon" type="image/x-icon" href="../favicon.ico" />

  <link rel="stylesheet" href="../assets/css/all.css">
  <script type="text/javascript" src="../assets/js/tocbot.min.js"></script>
  <script type="text/javascript" src="../assets/js/toc.js"></script>

  
  <script type="text/javascript" async src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML"></script>
  
  
</head>
<body id="top">
  <div class="reference-manual-sidebar">
    <nav class="menu">
  <h1 class="title"><a href="..">LuaRadio</a></h1>
  <div class="links">
      <a href="https://github.com/vsergeev/luaradio/blob/master/CHANGELOG.md"><i class="fa fa-link fa-fw" aria-hidden="true"></i> <code class="version">v0.11.0</code></a><br />
      <a href="https://github.com/vsergeev/luaradio"><i class="fa fa-github fa-fw" aria-hidden="true"></i> GitHub</a><br />
      <a href="https://groups.io/g/luaradio"><i class="fa fa-envelope fa-fw" aria-hidden="true"></i> Mailing List</a>
  </div>
  <div class="toc">
    <ul id="toc" class="section-nav">
<li class="toc-entry toc-h2"><a href="#example">Example</a></li>
<li class="toc-entry toc-h2"><a href="#running">Running</a>
<ul>
<li class="toc-entry toc-h3"><a href="#luaradio-runner">luaradio runner</a></li>
<li class="toc-entry toc-h3"><a href="#environment-variables">Environment Variables</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#blocks">Blocks</a>
<ul>
<li class="toc-entry toc-h3"><a href="#composition">Composition</a>
<ul>
<li class="toc-entry toc-h4"><a href="#compositeblock">CompositeBlock</a></li>
</ul>
</li>
<li class="toc-entry toc-h3"><a href="#sources">Sources</a>
<ul>
<li class="toc-entry toc-h4"><a href="#airspyhfsource">AirspyHFSource</a></li>
<li class="toc-entry toc-h4"><a href="#airspysource">AirspySource</a></li>
<li class="toc-entry toc-h4"><a href="#bladerfsource">BladeRFSource</a></li>
<li class="toc-entry toc-h4"><a href="#hackrfsource">HackRFSource</a></li>
<li class="toc-entry toc-h4"><a href="#iqfilesource">IQFileSource</a></li>
<li class="toc-entry toc-h4"><a href="#jsonsource">JSONSource</a></li>
<li class="toc-entry toc-h4"><a href="#networkclientsource">NetworkClientSource</a></li>
<li class="toc-entry toc-h4"><a href="#networkserversource">NetworkServerSource</a></li>
<li class="toc-entry toc-h4"><a href="#portaudiosource">PortAudioSource</a></li>
<li class="toc-entry toc-h4"><a href="#pulseaudiosource">PulseAudioSource</a></li>
<li class="toc-entry toc-h4"><a href="#rawfilesource">RawFileSource</a></li>
<li class="toc-entry toc-h4"><a href="#realfilesource">RealFileSource</a></li>
<li class="toc-entry toc-h4"><a href="#rtlsdrsource">RtlSdrSource</a></li>
<li class="toc-entry toc-h4"><a href="#sdrplaysource">SDRplaySource</a></li>
<li class="toc-entry toc-h4"><a href="#signalsource">SignalSource</a></li>
<li class="toc-entry toc-h4"><a href="#soapysdrsource">SoapySDRSource</a></li>
<li class="toc-entry toc-h4"><a href="#uhdsource">UHDSource</a></li>
<li class="toc-entry toc-h4"><a href="#uniformrandomsource">UniformRandomSource</a></li>
<li class="toc-entry toc-h4"><a href="#wavfilesource">WAVFileSource</a></li>
<li class="toc-entry toc-h4"><a href="#zerosource">ZeroSource</a></li>
</ul>
</li>
<li class="toc-entry toc-h3"><a href="#sinks">Sinks</a>
<ul>
<li class="toc-entry toc-h4"><a href="#benchmarksink">BenchmarkSink</a></li>
<li class="toc-entry toc-h4"><a href="#bladerfsink">BladeRFSink</a></li>
<li class="toc-entry toc-h4"><a href="#gnuplotplotsink">GnuplotPlotSink</a></li>
<li class="toc-entry toc-h4"><a href="#gnuplotspectrumsink">GnuplotSpectrumSink</a></li>
<li class="toc-entry toc-h4"><a href="#gnuplotwaterfallsink">GnuplotWaterfallSink</a></li>
<li class="toc-entry toc-h4"><a href="#gnuplotxyplotsink">GnuplotXYPlotSink</a></li>
<li class="toc-entry toc-h4"><a href="#hackrfsink">HackRFSink</a></li>
<li class="toc-entry toc-h4"><a href="#iqfilesink">IQFileSink</a></li>
<li class="toc-entry toc-h4"><a href="#jsonsink">JSONSink</a></li>
<li class="toc-entry toc-h4"><a href="#networkclientsink">NetworkClientSink</a></li>
<li class="toc-entry toc-h4"><a href="#networkserversink">NetworkServerSink</a></li>
<li class="toc-entry toc-h4"><a href="#nopsink">NopSink</a></li>
<li class="toc-entry toc-h4"><a href="#portaudiosink">PortAudioSink</a></li>
<li class="toc-entry toc-h4"><a href="#printsink">PrintSink</a></li>
<li class="toc-entry toc-h4"><a href="#pulseaudiosink">PulseAudioSink</a></li>
<li class="toc-entry toc-h4"><a href="#rawfilesink">RawFileSink</a></li>
<li class="toc-entry toc-h4"><a href="#realfilesink">RealFileSink</a></li>
<li class="toc-entry toc-h4"><a href="#soapysdrsink">SoapySDRSink</a></li>
<li class="toc-entry toc-h4"><a href="#uhdsink">UHDSink</a></li>
<li class="toc-entry toc-h4"><a href="#wavfilesink">WAVFileSink</a></li>
</ul>
</li>
<li class="toc-entry toc-h3"><a href="#filtering">Filtering</a>
<ul>
<li class="toc-entry toc-h4"><a href="#bandpassfilterblock">BandpassFilterBlock</a></li>
<li class="toc-entry toc-h4"><a href="#bandstopfilterblock">BandstopFilterBlock</a></li>
<li class="toc-entry toc-h4"><a href="#complexbandpassfilterblock">ComplexBandpassFilterBlock</a></li>
<li class="toc-entry toc-h4"><a href="#complexbandstopfilterblock">ComplexBandstopFilterBlock</a></li>
<li class="toc-entry toc-h4"><a href="#firfilterblock">FIRFilterBlock</a></li>
<li class="toc-entry toc-h4"><a href="#fmdeemphasisfilterblock">FMDeemphasisFilterBlock</a></li>
<li class="toc-entry toc-h4"><a href="#fmpreemphasisfilterblock">FMPreemphasisFilterBlock</a></li>
<li class="toc-entry toc-h4"><a href="#highpassfilterblock">HighpassFilterBlock</a></li>
<li class="toc-entry toc-h4"><a href="#iirfilterblock">IIRFilterBlock</a></li>
<li class="toc-entry toc-h4"><a href="#lowpassfilterblock">LowpassFilterBlock</a></li>
<li class="toc-entry toc-h4"><a href="#manchestermatchedfilterblock">ManchesterMatchedFilterBlock</a></li>
<li class="toc-entry toc-h4"><a href="#pulsematchedfilterblock">PulseMatchedFilterBlock</a></li>
<li class="toc-entry toc-h4"><a href="#rootraisedcosinefilterblock">RootRaisedCosineFilterBlock</a></li>
<li class="toc-entry toc-h4"><a href="#singlepolehighpassfilterblock">SinglepoleHighpassFilterBlock</a></li>
<li class="toc-entry toc-h4"><a href="#singlepolelowpassfilterblock">SinglepoleLowpassFilterBlock</a></li>
</ul>
</li>
<li class="toc-entry toc-h3"><a href="#math-operations">Math Operations</a>
<ul>
<li class="toc-entry toc-h4"><a href="#absolutevalueblock">AbsoluteValueBlock</a></li>
<li class="toc-entry toc-h4"><a href="#addblock">AddBlock</a></li>
<li class="toc-entry toc-h4"><a href="#addconstantblock">AddConstantBlock</a></li>
<li class="toc-entry toc-h4"><a href="#complexconjugateblock">ComplexConjugateBlock</a></li>
<li class="toc-entry toc-h4"><a href="#complexmagnitudeblock">ComplexMagnitudeBlock</a></li>
<li class="toc-entry toc-h4"><a href="#complexphaseblock">ComplexPhaseBlock</a></li>
<li class="toc-entry toc-h4"><a href="#multiplyblock">MultiplyBlock</a></li>
<li class="toc-entry toc-h4"><a href="#multiplyconjugateblock">MultiplyConjugateBlock</a></li>
<li class="toc-entry toc-h4"><a href="#multiplyconstantblock">MultiplyConstantBlock</a></li>
<li class="toc-entry toc-h4"><a href="#subtractblock">SubtractBlock</a></li>
</ul>
</li>
<li class="toc-entry toc-h3"><a href="#level-control">Level Control</a>
<ul>
<li class="toc-entry toc-h4"><a href="#agcblock">AGCBlock</a></li>
<li class="toc-entry toc-h4"><a href="#powersquelchblock">PowerSquelchBlock</a></li>
</ul>
</li>
<li class="toc-entry toc-h3"><a href="#sample-rate-manipulation">Sample Rate Manipulation</a>
<ul>
<li class="toc-entry toc-h4"><a href="#decimatorblock">DecimatorBlock</a></li>
<li class="toc-entry toc-h4"><a href="#downsamplerblock">DownsamplerBlock</a></li>
<li class="toc-entry toc-h4"><a href="#interpolatorblock">InterpolatorBlock</a></li>
<li class="toc-entry toc-h4"><a href="#rationalresamplerblock">RationalResamplerBlock</a></li>
<li class="toc-entry toc-h4"><a href="#upsamplerblock">UpsamplerBlock</a></li>
</ul>
</li>
<li class="toc-entry toc-h3"><a href="#spectrum-manipulation">Spectrum Manipulation</a>
<ul>
<li class="toc-entry toc-h4"><a href="#frequencytranslatorblock">FrequencyTranslatorBlock</a></li>
<li class="toc-entry toc-h4"><a href="#hilberttransformblock">HilbertTransformBlock</a></li>
<li class="toc-entry toc-h4"><a href="#tunerblock">TunerBlock</a></li>
</ul>
</li>
<li class="toc-entry toc-h3"><a href="#carrier-and-clock-recovery">Carrier and Clock Recovery</a>
<ul>
<li class="toc-entry toc-h4"><a href="#pllblock">PLLBlock</a></li>
<li class="toc-entry toc-h4"><a href="#zerocrossingclockrecoveryblock">ZeroCrossingClockRecoveryBlock</a></li>
</ul>
</li>
<li class="toc-entry toc-h3"><a href="#digital">Digital</a>
<ul>
<li class="toc-entry toc-h4"><a href="#binaryphasecorrectorblock">BinaryPhaseCorrectorBlock</a></li>
<li class="toc-entry toc-h4"><a href="#differentialdecoderblock">DifferentialDecoderBlock</a></li>
<li class="toc-entry toc-h4"><a href="#manchesterdecoderblock">ManchesterDecoderBlock</a></li>
<li class="toc-entry toc-h4"><a href="#preamblesamplerblock">PreambleSamplerBlock</a></li>
<li class="toc-entry toc-h4"><a href="#samplerblock">SamplerBlock</a></li>
<li class="toc-entry toc-h4"><a href="#slicerblock">SlicerBlock</a></li>
</ul>
</li>
<li class="toc-entry toc-h3"><a href="#type-conversion">Type Conversion</a>
<ul>
<li class="toc-entry toc-h4"><a href="#complextofloatblock">ComplexToFloatBlock</a></li>
<li class="toc-entry toc-h4"><a href="#complextoimagblock">ComplexToImagBlock</a></li>
<li class="toc-entry toc-h4"><a href="#complextorealblock">ComplexToRealBlock</a></li>
<li class="toc-entry toc-h4"><a href="#floattocomplexblock">FloatToComplexBlock</a></li>
<li class="toc-entry toc-h4"><a href="#realtocomplexblock">RealToComplexBlock</a></li>
</ul>
</li>
<li class="toc-entry toc-h3"><a href="#miscellaneous">Miscellaneous</a>
<ul>
<li class="toc-entry toc-h4"><a href="#deinterleaveblock">DeinterleaveBlock</a></li>
<li class="toc-entry toc-h4"><a href="#delayblock">DelayBlock</a></li>
<li class="toc-entry toc-h4"><a href="#interleaveblock">InterleaveBlock</a></li>
<li class="toc-entry toc-h4"><a href="#nopblock">NopBlock</a></li>
<li class="toc-entry toc-h4"><a href="#throttleblock">ThrottleBlock</a></li>
</ul>
</li>
<li class="toc-entry toc-h3"><a href="#modulation">Modulation</a>
<ul>
<li class="toc-entry toc-h4"><a href="#frequencymodulatorblock">FrequencyModulatorBlock</a></li>
<li class="toc-entry toc-h4"><a href="#pulseamplitudemodulatorblock">PulseAmplitudeModulatorBlock</a></li>
<li class="toc-entry toc-h4"><a href="#quadratureamplitudemodulatorblock">QuadratureAmplitudeModulatorBlock</a></li>
<li class="toc-entry toc-h4"><a href="#ssbmodulator">SSBModulator</a></li>
</ul>
</li>
<li class="toc-entry toc-h3"><a href="#demodulation">Demodulation</a>
<ul>
<li class="toc-entry toc-h4"><a href="#amenvelopedemodulator">AMEnvelopeDemodulator</a></li>
<li class="toc-entry toc-h4"><a href="#amsynchronousdemodulator">AMSynchronousDemodulator</a></li>
<li class="toc-entry toc-h4"><a href="#frequencydiscriminatorblock">FrequencyDiscriminatorBlock</a></li>
<li class="toc-entry toc-h4"><a href="#nbfmdemodulator">NBFMDemodulator</a></li>
<li class="toc-entry toc-h4"><a href="#ssbdemodulator">SSBDemodulator</a></li>
<li class="toc-entry toc-h4"><a href="#wbfmmonodemodulator">WBFMMonoDemodulator</a></li>
<li class="toc-entry toc-h4"><a href="#wbfmstereodemodulator">WBFMStereoDemodulator</a></li>
</ul>
</li>
<li class="toc-entry toc-h3"><a href="#protocol">Protocol</a>
<ul>
<li class="toc-entry toc-h4"><a href="#ax25framerblock">AX25FramerBlock</a></li>
<li class="toc-entry toc-h4"><a href="#ax25framerblockax25frametype">AX25FramerBlock.AX25FrameType</a></li>
<li class="toc-entry toc-h4"><a href="#idmframerblock">IDMFramerBlock</a></li>
<li class="toc-entry toc-h4"><a href="#idmframerblockidmframetype">IDMFramerBlock.IDMFrameType</a></li>
<li class="toc-entry toc-h4"><a href="#pocsagdecoderblock">POCSAGDecoderBlock</a></li>
<li class="toc-entry toc-h4"><a href="#pocsagdecoderblockpocsagmessagetype">POCSAGDecoderBlock.POCSAGMessageType</a></li>
<li class="toc-entry toc-h4"><a href="#pocsagframerblock">POCSAGFramerBlock</a></li>
<li class="toc-entry toc-h4"><a href="#pocsagframerblockpocsagframetype">POCSAGFramerBlock.POCSAGFrameType</a></li>
<li class="toc-entry toc-h4"><a href="#rdsdecoderblock">RDSDecoderBlock</a></li>
<li class="toc-entry toc-h4"><a href="#rdsdecoderblockrdspackettype">RDSDecoderBlock.RDSPacketType</a></li>
<li class="toc-entry toc-h4"><a href="#rdsframerblock">RDSFramerBlock</a></li>
<li class="toc-entry toc-h4"><a href="#rdsframerblockrdsframetype">RDSFramerBlock.RDSFrameType</a></li>
<li class="toc-entry toc-h4"><a href="#scmframerblock">SCMFramerBlock</a></li>
<li class="toc-entry toc-h4"><a href="#scmframerblockscmframetype">SCMFramerBlock.SCMFrameType</a></li>
<li class="toc-entry toc-h4"><a href="#scmplusframerblock">SCMPlusFramerBlock</a></li>
<li class="toc-entry toc-h4"><a href="#scmplusframerblockscmplusframetype">SCMPlusFramerBlock.SCMPlusFrameType</a></li>
<li class="toc-entry toc-h4"><a href="#varicodedecoderblock">VaricodeDecoderBlock</a></li>
</ul>
</li>
<li class="toc-entry toc-h3"><a href="#receivers">Receivers</a>
<ul>
<li class="toc-entry toc-h4"><a href="#ax25receiver">AX25Receiver</a></li>
<li class="toc-entry toc-h4"><a href="#bpsk31receiver">BPSK31Receiver</a></li>
<li class="toc-entry toc-h4"><a href="#ertreceiver">ERTReceiver</a></li>
<li class="toc-entry toc-h4"><a href="#pocsagreceiver">POCSAGReceiver</a></li>
<li class="toc-entry toc-h4"><a href="#rdsreceiver">RDSReceiver</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#infrastructure">Infrastructure</a>
<ul>
<li class="toc-entry toc-h3"><a href="#package">Package</a></li>
<li class="toc-entry toc-h3"><a href="#basic-types">Basic Types</a>
<ul>
<li class="toc-entry toc-h4"><a href="#complexfloat32">ComplexFloat32</a></li>
<li class="toc-entry toc-h4"><a href="#float32">Float32</a></li>
<li class="toc-entry toc-h4"><a href="#bit">Bit</a></li>
<li class="toc-entry toc-h4"><a href="#byte">Byte</a></li>
</ul>
</li>
<li class="toc-entry toc-h3"><a href="#type-factories">Type Factories</a>
<ul>
<li class="toc-entry toc-h4"><a href="#cstructtype">CStructType</a></li>
<li class="toc-entry toc-h4"><a href="#objecttype">ObjectType</a></li>
</ul>
</li>
<li class="toc-entry toc-h3"><a href="#vector">Vector</a>
<ul>
<li class="toc-entry toc-h4"><a href="#vector">Vector</a></li>
<li class="toc-entry toc-h4"><a href="#objectvector">ObjectVector</a></li>
</ul>
</li>
<li class="toc-entry toc-h3"><a href="#block">Block</a>
<ul>
<li class="toc-entry toc-h4"><a href="#input">Input</a></li>
<li class="toc-entry toc-h4"><a href="#output">Output</a></li>
<li class="toc-entry toc-h4"><a href="#block">Block</a></li>
</ul>
</li>
<li class="toc-entry toc-h3"><a href="#debug">Debug</a></li>
<li class="toc-entry toc-h3"><a href="#platform">Platform</a></li>
</ul>
</li>
</ul>
  </div>
  <a class="contact" href="mailto:v@sergeev.io"><i class="fa fa-envelope-o" aria-hidden="true"></i> v@sergeev.io</a>
</nav>

  </div>
  <div class="reference-manual">
  <div class="container">
  <div class="row">
    <div class="three columns sidebar">
    </div>
    <div class="nine columns content">
        <h1 id="luaradio-reference-manual">LuaRadio Reference Manual</h1>

<p>Generated from LuaRadio <code class="language-plaintext highlighter-rouge">v0.11.0</code>.</p>

<h2 id="example">Example</h2>

<p align="center">
<img src="figures/flowgraph_rtlsdr_wbfm_stereo_composite.png" />
</p>

<div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">local</span> <span class="n">radio</span> <span class="o">=</span> <span class="nb">require</span><span class="p">(</span><span class="s1">'radio'</span><span class="p">)</span>

<span class="c1">-- RTL-SDR Source, frequency 88.5 MHz - 250 kHz, sample rate 1102500 Hz</span>
<span class="kd">local</span> <span class="n">source</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">RtlSdrSource</span><span class="p">(</span><span class="mi">88</span><span class="p">.</span><span class="mf">5e6</span> <span class="o">-</span> <span class="mf">250e3</span><span class="p">,</span> <span class="mi">1102500</span><span class="p">)</span>
<span class="c1">-- Tuner block, translate -250 kHz, filter 200 kHz, decimate by 5</span>
<span class="kd">local</span> <span class="n">tuner</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">TunerBlock</span><span class="p">(</span><span class="o">-</span><span class="mf">250e3</span><span class="p">,</span> <span class="mf">200e3</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="c1">-- Wideband FM Stereo Demodulator block</span>
<span class="kd">local</span> <span class="n">demodulator</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">WBFMStereoDemodulator</span><span class="p">()</span>
<span class="c1">-- Left and right AF downsampler blocks</span>
<span class="kd">local</span> <span class="n">l_downsampler</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">DownsamplerBlock</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="kd">local</span> <span class="n">r_downsampler</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">DownsamplerBlock</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="c1">-- Audio sink, 2 channels for left and right audio</span>
<span class="kd">local</span> <span class="n">sink</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">PulseAudioSink</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="c1">-- Top-level block</span>
<span class="kd">local</span> <span class="n">top</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">CompositeBlock</span><span class="p">()</span>

<span class="c1">-- Connect blocks in top block</span>
<span class="n">top</span><span class="p">:</span><span class="n">connect</span><span class="p">(</span><span class="n">source</span><span class="p">,</span> <span class="n">tuner</span><span class="p">,</span> <span class="n">demodulator</span><span class="p">)</span>
<span class="n">top</span><span class="p">:</span><span class="n">connect</span><span class="p">(</span><span class="n">demodulator</span><span class="p">,</span> <span class="s1">'left'</span><span class="p">,</span> <span class="n">l_downsampler</span><span class="p">,</span> <span class="s1">'in'</span><span class="p">)</span>
<span class="n">top</span><span class="p">:</span><span class="n">connect</span><span class="p">(</span><span class="n">demodulator</span><span class="p">,</span> <span class="s1">'right'</span><span class="p">,</span> <span class="n">r_downsampler</span><span class="p">,</span> <span class="s1">'in'</span><span class="p">)</span>
<span class="n">top</span><span class="p">:</span><span class="n">connect</span><span class="p">(</span><span class="n">l_downsampler</span><span class="p">,</span> <span class="s1">'out'</span><span class="p">,</span> <span class="n">sink</span><span class="p">,</span> <span class="s1">'in1'</span><span class="p">)</span>
<span class="n">top</span><span class="p">:</span><span class="n">connect</span><span class="p">(</span><span class="n">r_downsampler</span><span class="p">,</span> <span class="s1">'out'</span><span class="p">,</span> <span class="n">sink</span><span class="p">,</span> <span class="s1">'in2'</span><span class="p">)</span>

<span class="c1">-- Run top block</span>
<span class="n">top</span><span class="p">:</span><span class="n">run</span><span class="p">()</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ luaradio example.lua
</code></pre></div></div>

<h2 id="running">Running</h2>

<p>LuaRadio scripts can be run with the <code class="language-plaintext highlighter-rouge">luaradio</code> runner, or directly with
<code class="language-plaintext highlighter-rouge">luajit</code>, if the <code class="language-plaintext highlighter-rouge">radio</code> package is installed in your Lua path.</p>

<h3 id="luaradio-runner"><code class="language-plaintext highlighter-rouge">luaradio</code> runner</h3>

<p>The <code class="language-plaintext highlighter-rouge">luaradio</code> runner is a simple wrapper script for running LuaRadio scripts.
It can also print version information, dump relevant platform information, and
adjust the runtime debug verbosity of scripts. The runner modifies the Lua path
to support importing the <code class="language-plaintext highlighter-rouge">radio</code> package locally, so it can be used to run
LuaRadio scripts directly from the repository without installation.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ ./luaradio
Usage: luaradio [options] &lt;script&gt; [args]

Options:
   -h, --help      Print help and exit
   --version       Print version and exit
   --platform      Dump platform and exit
   -v, --verbose   Enable debug verbosity
$
</code></pre></div></div>

<p>To run a script, use <code class="language-plaintext highlighter-rouge">luaradio</code> as you would use <code class="language-plaintext highlighter-rouge">luajit</code>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ luaradio script.lua
</code></pre></div></div>

<p>To run a script with debug verbosity:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ luaradio -v script.lua
</code></pre></div></div>

<h3 id="environment-variables">Environment Variables</h3>

<p>LuaRadio interprets several environment variables to adjust runtime settings.
These environment variables are treated as flags that can be enabled with value
<code class="language-plaintext highlighter-rouge">1</code> (or values <code class="language-plaintext highlighter-rouge">y</code>, <code class="language-plaintext highlighter-rouge">yes</code>, <code class="language-plaintext highlighter-rouge">true</code>).</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">LUARADIO_DEBUG</code> - Enable debug verbosity</li>
  <li><code class="language-plaintext highlighter-rouge">LUARADIO_DISABLE_LIQUID</code> - Disable liquid-dsp library</li>
  <li><code class="language-plaintext highlighter-rouge">LUARADIO_DISABLE_VOLK</code> - Disable volk library</li>
  <li><code class="language-plaintext highlighter-rouge">LUARADIO_DISABLE_FFTW3F</code> - Disable fftw3f library</li>
</ul>

<p>For example, to enable debug verbosity:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ LUARADIO_DEBUG=1 luaradio script.lua
</code></pre></div></div>

<p>To disable use of the VOLK library:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ LUARADIO_DISABLE_VOLK=1 luaradio script.lua
</code></pre></div></div>

<p>To run a script with no external libraries for acceleration:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ LUARADIO_DISABLE_LIQUID=1 LUARADIO_DISABLE_VOLK=1 LUARADIO_DISABLE_FFTW3F=1 luaradio script.lua
</code></pre></div></div>

<h2 id="blocks">Blocks</h2>

<h3 id="composition">Composition</h3>

<div class="class">
  <h4 id="compositeblock">CompositeBlock</h4>

  <h5 id="radiocompositeblock"><code class="language-plaintext highlighter-rouge">radio.CompositeBlock()</code></h5>

  <p>Create a block to hold a flow graph composition, for either top-level or
hierarchical purposes. Top-level blocks may be run with the <code class="language-plaintext highlighter-rouge">run()</code> method.</p>

  <div class="function">
    <h5 id="compositeblockconnect"><code class="language-plaintext highlighter-rouge">CompositeBlock:connect(...)</code></h5>

    <p>Connect blocks.</p>

    <p>This method can be used in three ways:</p>

    <p><strong>Linear block connections.</strong> Connect the first output to the first input of
each adjacent block. This usage is convenient for connecting blocks that
only have one input port and output port (which is most blocks).</p>

    <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">top</span><span class="p">:</span><span class="n">connect</span><span class="p">(</span><span class="n">b1</span><span class="p">,</span> <span class="n">b2</span><span class="p">,</span> <span class="n">b3</span><span class="p">)</span>
</code></pre></div>    </div>

    <p><strong>Explicit block connections.</strong> Connect a particular output of the first
block to a particular input of the second block. The output and input ports
are specified by name. This invocation is used to connect a block to another
block with multiple input ports.</p>

    <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">top</span><span class="p">:</span><span class="n">connect</span><span class="p">(</span><span class="n">b1</span><span class="p">,</span> <span class="s1">'out'</span><span class="p">,</span> <span class="n">b2</span><span class="p">,</span> <span class="s1">'in2'</span><span class="p">)</span>
</code></pre></div>    </div>

    <p><strong>Alias port connections.</strong> Alias a composite block’s input or output port
to a concrete block’s input or output port. This invocation is used for
connecting the boundary inputs and outputs of a hierarchical block.</p>

    <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">function</span> <span class="nf">MyHierarchicalBlock</span><span class="p">:</span><span class="n">instantiate</span><span class="p">()</span>
    <span class="kd">local</span> <span class="n">b1</span><span class="p">,</span> <span class="n">b2</span><span class="p">,</span> <span class="n">b3</span> <span class="o">=</span> <span class="o">...</span>

    <span class="o">...</span>

    <span class="n">self</span><span class="p">:</span><span class="n">connect</span><span class="p">(</span><span class="n">b1</span><span class="p">,</span> <span class="n">b2</span><span class="p">,</span> <span class="n">b3</span><span class="p">)</span>

    <span class="n">self</span><span class="p">:</span><span class="n">connect</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="s1">'in'</span><span class="p">,</span> <span class="n">b1</span><span class="p">,</span> <span class="s1">'in'</span><span class="p">)</span>
    <span class="n">self</span><span class="p">:</span><span class="n">connect</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="s1">'out'</span><span class="p">,</span> <span class="n">b3</span><span class="p">,</span> <span class="s1">'out'</span><span class="p">)</span>
<span class="k">end</span>
</code></pre></div>    </div>

    <h6 id="arguments">Arguments</h6>

    <ul>
      <li><code class="language-plaintext highlighter-rouge">...</code>: Blocks [and ports] to connect</li>
    </ul>

    <h6 id="returns">Returns</h6>

    <ul>
      <li>self (<em>CompositeBlock</em>)</li>
    </ul>

    <h6 id="raises">Raises</h6>

    <ul>
      <li>Output port of block not found error.</li>
      <li>Input port of block not found error.</li>
      <li>Input port of block already connected error.</li>
      <li>Unexpected number of output ports in block error.</li>
      <li>Unexpected number of input ports in block error.</li>
    </ul>

  </div>
  <div class="function">
    <h5 id="compositeblockrun"><code class="language-plaintext highlighter-rouge">CompositeBlock:run()</code></h5>

    <p>Run a top-level block. This is equivalent to calling <code class="language-plaintext highlighter-rouge">start()</code> followed by
<code class="language-plaintext highlighter-rouge">wait()</code> on the top-level block.</p>

    <h6 id="returns-1">Returns</h6>

    <ul>
      <li>self (<em>CompositeBlock</em>)</li>
    </ul>

    <h6 id="raises-1">Raises</h6>

    <ul>
      <li>Block already running error.</li>
      <li>Block input port unconnected error.</li>
      <li>Block input port sample rate mismatch error.</li>
      <li>No compatible type signatures found for block error.</li>
    </ul>

    <h6 id="example">Example</h6>

    <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- Run a top-level block</span>
<span class="n">top</span><span class="p">:</span><span class="n">run</span><span class="p">()</span>
</code></pre></div>    </div>

  </div>
  <div class="function">
    <h5 id="compositeblockstart"><code class="language-plaintext highlighter-rouge">CompositeBlock:start()</code></h5>

    <p>Start a top-level block.</p>

    <h6 id="returns-2">Returns</h6>

    <ul>
      <li>self (<em>CompositeBlock</em>)</li>
    </ul>

    <h6 id="raises-2">Raises</h6>

    <ul>
      <li>Block already running error.</li>
      <li>Block input port unconnected error.</li>
      <li>Block input port sample rate mismatch error.</li>
      <li>No compatible type signatures found for block error.</li>
    </ul>

    <h6 id="example-1">Example</h6>

    <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- Start a top-level block</span>
<span class="n">top</span><span class="p">:</span><span class="n">start</span><span class="p">()</span>
</code></pre></div>    </div>

  </div>
  <div class="function">
    <h5 id="compositeblockstatus"><code class="language-plaintext highlighter-rouge">CompositeBlock:status()</code></h5>

    <p>Get the status of a top-level block.</p>

    <h6 id="returns-3">Returns</h6>

    <ul>
      <li>Status information with fields: <code class="language-plaintext highlighter-rouge">running</code> (bool). (<em>table</em>)</li>
    </ul>

    <h6 id="example-2">Example</h6>

    <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">if</span> <span class="n">top</span><span class="p">:</span><span class="n">status</span><span class="p">().</span><span class="n">running</span> <span class="k">then</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">'Still running...'</span><span class="p">)</span>
<span class="k">end</span>
</code></pre></div>    </div>

  </div>
  <div class="function">
    <h5 id="compositeblockstop"><code class="language-plaintext highlighter-rouge">CompositeBlock:stop()</code></h5>

    <p>Stop a top-level block and wait until it has finished.</p>

    <h6 id="returns-4">Returns</h6>

    <ul>
      <li>Successful exit (<em>bool</em>)</li>
    </ul>

    <h6 id="example-3">Example</h6>

    <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- Start a top-level block</span>
<span class="n">top</span><span class="p">:</span><span class="n">start</span><span class="p">()</span>
<span class="c1">-- Stop a top-level block</span>
<span class="n">top</span><span class="p">:</span><span class="n">stop</span><span class="p">()</span>
</code></pre></div>    </div>

  </div>
  <div class="function">
    <h5 id="compositeblockwait"><code class="language-plaintext highlighter-rouge">CompositeBlock:wait()</code></h5>

    <p>Wait for a top-level block to finish, either by natural termination or by
<code class="language-plaintext highlighter-rouge">SIGINT</code>.</p>

    <h6 id="returns-5">Returns</h6>

    <ul>
      <li>Successful exit (<em>bool</em>)</li>
    </ul>

    <h6 id="example-4">Example</h6>

    <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- Start a top-level block</span>
<span class="n">top</span><span class="p">:</span><span class="n">start</span><span class="p">()</span>
<span class="c1">-- Wait for the top-level block to finish</span>
<span class="kd">local</span> <span class="n">success</span> <span class="o">=</span> <span class="n">top</span><span class="p">:</span><span class="n">wait</span><span class="p">()</span>
</code></pre></div>    </div>

  </div>
</div>
<hr />

<h3 id="sources">Sources</h3>

<div class="block">
  <h4 id="airspyhfsource">AirspyHFSource</h4>

  <p>Source a complex-valued signal from an Airspy HF+. This source requires the
libairspyhf library.</p>

  <h5 id="radioairspyhfsourcefrequency-rate-options"><code class="language-plaintext highlighter-rouge">radio.AirspyHFSource(frequency, rate[, options={}])</code></h5>

  <h6 id="arguments-1">Arguments</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">frequency</code> (<em>number</em>): Tuning frequency in Hz</li>
    <li><code class="language-plaintext highlighter-rouge">rate</code> (<em>number</em>): Sample rate in Hz (192 kHz, 256 kHz, 384 kHz, 768 kHz)</li>
    <li><code class="language-plaintext highlighter-rouge">options</code> (<em>table</em>): Additional options, specifying:
      <ul>
        <li><code class="language-plaintext highlighter-rouge">hf_agc</code> (bool, default true)</li>
        <li><code class="language-plaintext highlighter-rouge">hf_agc_threshold</code> (string, default “low”, choice of “low” or “high”)</li>
        <li><code class="language-plaintext highlighter-rouge">hf_att</code> (int, default 0 dB, for manual attenuation when HF AGC is
disabled, range of 0 to 48 dB, 6 dB step)</li>
        <li><code class="language-plaintext highlighter-rouge">hf_lna</code> (bool, default false)</li>
      </ul>
    </li>
  </ul>

  <h6 id="type-signatures">Type Signatures</h6>

  <ul>
    <li>❑➔ <code class="language-plaintext highlighter-rouge">out</code> <em>ComplexFloat32</em></li>
  </ul>

  <h6 id="example-5">Example</h6>

  <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- Source samples from 91.1 MHz sampled at 768 kHz</span>
<span class="kd">local</span> <span class="n">src</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">AirspyHFSource</span><span class="p">(</span><span class="mi">91</span><span class="p">.</span><span class="mf">1e6</span><span class="p">,</span> <span class="mf">768e3</span><span class="p">)</span>

<span class="c1">-- Source samples from 7.150 MHz sampled at 192 kHz, with HF AGC</span>
<span class="c1">-- enabled (default) and HF LNA enabled</span>
<span class="kd">local</span> <span class="n">src</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">AirspyHFSource</span><span class="p">(</span><span class="mi">7</span><span class="p">.</span><span class="mf">150e6</span><span class="p">,</span> <span class="mf">192e3</span><span class="p">,</span> <span class="p">{</span><span class="n">hf_lna</span> <span class="o">=</span> <span class="kc">true</span><span class="p">})</span>

<span class="c1">-- Source samples from 14.175 MHz sampled at 192 kHz, with HF AGC disabled</span>
<span class="c1">-- and 24 dB HF attenuation</span>
<span class="kd">local</span> <span class="n">src</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">AirspyHFSource</span><span class="p">(</span><span class="mi">14</span><span class="p">.</span><span class="mf">175e6</span><span class="p">,</span> <span class="mf">192e3</span><span class="p">,</span> <span class="p">{</span><span class="n">hf_agc</span> <span class="o">=</span> <span class="kc">false</span><span class="p">,</span> <span class="n">hf_att</span> <span class="o">=</span> <span class="mi">24</span><span class="p">})</span>
</code></pre></div>  </div>

</div>
<hr />

<div class="block">
  <h4 id="airspysource">AirspySource</h4>

  <p>Source a complex-valued signal from an Airspy. This source requires the
libairspy library. The Airspy R2 and Airspy Mini dongles are supported.</p>

  <h5 id="radioairspysourcefrequency-rate-options"><code class="language-plaintext highlighter-rouge">radio.AirspySource(frequency, rate[, options={}])</code></h5>

  <h6 id="arguments-2">Arguments</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">frequency</code> (<em>number</em>): Tuning frequency in Hz</li>
    <li><code class="language-plaintext highlighter-rouge">rate</code> (<em>number</em>): Sample rate in Hz (3 MHz or 6 MHz for Airspy Mini,
                                      2.5 MHz or 10 MHz for Airspy R2)</li>
    <li><code class="language-plaintext highlighter-rouge">options</code> (<em>table</em>): Additional options, specifying:
      <ul>
        <li><code class="language-plaintext highlighter-rouge">gain_mode</code> (string, default “linearity”, choice of “custom”, “linearity”, “sensitivity”)</li>
        <li><code class="language-plaintext highlighter-rouge">lna_gain</code> (int, default 5 dB, for custom gain mode, range 0 to 15 dB)</li>
        <li><code class="language-plaintext highlighter-rouge">mixer_gain</code> (int, default 1 dB, for custom gain mode, range 0 to 15 dB)</li>
        <li><code class="language-plaintext highlighter-rouge">vga_gain</code> (int, default 5 dB, for custom gain mode, range 0 to 15 dB)</li>
        <li><code class="language-plaintext highlighter-rouge">lna_agc</code> (bool, default false, for custom gain mode)</li>
        <li><code class="language-plaintext highlighter-rouge">mixer_agc</code> (bool, default false, for custom gain mode)</li>
        <li><code class="language-plaintext highlighter-rouge">linearity_gain</code> (int, default 10, for linearity gain mode, range 0 to 21)</li>
        <li><code class="language-plaintext highlighter-rouge">sensitivity_gain</code> (int, default 10, for sensitivity gain mode, range 0 to 21)</li>
        <li><code class="language-plaintext highlighter-rouge">biastee_enable</code> (bool, default false)</li>
      </ul>
    </li>
  </ul>

  <h6 id="type-signatures-1">Type Signatures</h6>

  <ul>
    <li>❑➔ <code class="language-plaintext highlighter-rouge">out</code> <em>ComplexFloat32</em></li>
  </ul>

  <h6 id="example-6">Example</h6>

  <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- Source samples from 135 MHz sampled at 6 MHz</span>
<span class="kd">local</span> <span class="n">src</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">AirspySource</span><span class="p">(</span><span class="mf">135e6</span><span class="p">,</span> <span class="mf">6e6</span><span class="p">)</span>

<span class="c1">-- Source samples from 91.1 MHz sampled at 3 MHz, with custom gain settings</span>
<span class="kd">local</span> <span class="n">src</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">AirspySource</span><span class="p">(</span><span class="mi">91</span><span class="p">.</span><span class="mf">1e6</span><span class="p">,</span> <span class="mf">3e6</span><span class="p">,</span> <span class="p">{</span><span class="n">gain_mode</span> <span class="o">=</span> <span class="s2">"custom"</span><span class="p">,</span> <span class="n">lna_gain</span> <span class="o">=</span> <span class="mi">4</span><span class="p">,</span>
                                             <span class="n">mixer_gain</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">vga_gain</span> <span class="o">=</span> <span class="mi">6</span><span class="p">})</span>

<span class="c1">-- Source samples from 91.1 MHz sampled at 2.5 MHz, with linearity gain mode</span>
<span class="kd">local</span> <span class="n">src</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">AirspySource</span><span class="p">(</span><span class="mi">91</span><span class="p">.</span><span class="mf">1e6</span><span class="p">,</span> <span class="mi">2</span><span class="p">.</span><span class="mf">5e6</span><span class="p">,</span> <span class="p">{</span><span class="n">gain_mode</span> <span class="o">=</span> <span class="s2">"linearity"</span><span class="p">,</span> <span class="n">linearity_gain</span> <span class="o">=</span> <span class="mi">8</span><span class="p">})</span>

<span class="c1">-- Source samples from 91.1 MHz sampled at 2.5 MHz, with sensitivity gain mode</span>
<span class="kd">local</span> <span class="n">src</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">AirspySource</span><span class="p">(</span><span class="mi">91</span><span class="p">.</span><span class="mf">1e6</span><span class="p">,</span> <span class="mi">2</span><span class="p">.</span><span class="mf">5e6</span><span class="p">,</span> <span class="p">{</span><span class="n">gain_mode</span> <span class="o">=</span> <span class="s2">"sensitivity"</span><span class="p">,</span> <span class="n">sensitivity_gain</span> <span class="o">=</span> <span class="mi">8</span><span class="p">})</span>

<span class="c1">-- Source samples from 144.390 MHz sampled at 2.5 MHz, with bias tee enabled</span>
<span class="kd">local</span> <span class="n">src</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">AirspySource</span><span class="p">(</span><span class="mi">144</span><span class="p">.</span><span class="mf">390e6</span><span class="p">,</span> <span class="mi">2</span><span class="p">.</span><span class="mf">5e6</span><span class="p">,</span> <span class="p">{</span><span class="n">biastee_enable</span> <span class="o">=</span> <span class="kc">true</span><span class="p">})</span>
</code></pre></div>  </div>

</div>
<hr />

<div class="block">
  <h4 id="bladerfsource">BladeRFSource</h4>

  <p>Source a complex-valued signal from a BladeRF. This source requires the
libbladeRF library.</p>

  <h5 id="radiobladerfsourcefrequency-rate-options"><code class="language-plaintext highlighter-rouge">radio.BladeRFSource(frequency, rate[, options={}])</code></h5>

  <h6 id="arguments-3">Arguments</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">frequency</code> (<em>number</em>): Tuning frequency in Hz</li>
    <li><code class="language-plaintext highlighter-rouge">rate</code> (<em>number</em>): Sample rate in Hz</li>
    <li><code class="language-plaintext highlighter-rouge">options</code> (<em>table</em>): Additional options, specifying:
      <ul>
        <li><code class="language-plaintext highlighter-rouge">device_id</code> (string, default “”)</li>
        <li><code class="language-plaintext highlighter-rouge">channel</code> (int, default 0)</li>
        <li><code class="language-plaintext highlighter-rouge">gain</code> (number in dB, manual gain, default nil)</li>
        <li><code class="language-plaintext highlighter-rouge">bandwidth</code> (number in Hz, default 80% of sample rate)</li>
        <li><code class="language-plaintext highlighter-rouge">autogain</code> (bool, default true if manual gain is nil)</li>
      </ul>
    </li>
  </ul>

  <h6 id="type-signatures-2">Type Signatures</h6>

  <ul>
    <li>❑➔ <code class="language-plaintext highlighter-rouge">out</code> <em>ComplexFloat32</em></li>
  </ul>

  <h6 id="example-7">Example</h6>

  <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- Source samples from a BladeRF at 91.1 MHz sampled at 2 MHz</span>
<span class="kd">local</span> <span class="n">src</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">BladeRFSource</span><span class="p">(</span><span class="mi">91</span><span class="p">.</span><span class="mf">1e6</span><span class="p">,</span> <span class="mf">2e6</span><span class="p">)</span>

<span class="c1">-- Source samples from a BladeRF at 915 MHz sampled at 10 MHz, with 20 dB</span>
<span class="c1">-- overall gain</span>
<span class="kd">local</span> <span class="n">src</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">BladeRFSource</span><span class="p">(</span><span class="mf">915e6</span><span class="p">,</span> <span class="mf">10e6</span><span class="p">,</span> <span class="p">{</span><span class="n">gain</span> <span class="o">=</span> <span class="mi">20</span><span class="p">})</span>

<span class="c1">-- Source samples from a BladeRF at 144.390 MHz sampled at 8 MHz, with</span>
<span class="c1">-- 2.5 MHz baseband bandwidth</span>
<span class="kd">local</span> <span class="n">src</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">BladeRFSource</span><span class="p">(</span><span class="mi">144</span><span class="p">.</span><span class="mf">390e6</span><span class="p">,</span> <span class="mf">8e6</span><span class="p">,</span> <span class="p">{</span><span class="n">bandwidth</span> <span class="o">=</span> <span class="mi">2</span><span class="p">.</span><span class="mf">5e6</span><span class="p">})</span>
</code></pre></div>  </div>

</div>
<hr />

<div class="block">
  <h4 id="hackrfsource">HackRFSource</h4>

  <p>Source a complex-valued signal from a HackRF One. This source requires the
libhackrf library.</p>

  <h5 id="radiohackrfsourcefrequency-rate-options"><code class="language-plaintext highlighter-rouge">radio.HackRFSource(frequency, rate[, options={}])</code></h5>

  <h6 id="arguments-4">Arguments</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">frequency</code> (<em>number</em>): Tuning frequency in Hz</li>
    <li><code class="language-plaintext highlighter-rouge">rate</code> (<em>number</em>): Sample rate in Hz</li>
    <li><code class="language-plaintext highlighter-rouge">options</code> (<em>table</em>): Additional options, specifying:
      <ul>
        <li><code class="language-plaintext highlighter-rouge">lna_gain</code> (int, default 8 dB, range 0 to 40 dB, 8 dB step)</li>
        <li><code class="language-plaintext highlighter-rouge">vga_gain</code> (int, default 40 dB, range 0 to 62 dB, 2 dB step)</li>
        <li><code class="language-plaintext highlighter-rouge">bandwidth</code> (number in Hz, default round down from sample rate)</li>
        <li><code class="language-plaintext highlighter-rouge">rf_amplifier_enable</code> (bool, default false)</li>
        <li><code class="language-plaintext highlighter-rouge">antenna_power_enable</code> (bool, default false)</li>
      </ul>
    </li>
  </ul>

  <h6 id="type-signatures-3">Type Signatures</h6>

  <ul>
    <li>❑➔ <code class="language-plaintext highlighter-rouge">out</code> <em>ComplexFloat32</em></li>
  </ul>

  <h6 id="example-8">Example</h6>

  <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- Source samples from 135 MHz sampled at 10 MHz</span>
<span class="kd">local</span> <span class="n">src</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">HackRFSource</span><span class="p">(</span><span class="mf">135e6</span><span class="p">,</span> <span class="mf">10e6</span><span class="p">)</span>

<span class="c1">-- Source samples from 135 MHz sampled at 10 MHz, with 2.5 MHz bandwidth</span>
<span class="kd">local</span> <span class="n">src</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">HackRFSource</span><span class="p">(</span><span class="mf">135e6</span><span class="p">,</span> <span class="mf">10e6</span><span class="p">,</span> <span class="p">{</span><span class="n">bandwidth</span> <span class="o">=</span> <span class="mi">2</span><span class="p">.</span><span class="mf">5e6</span><span class="p">})</span>

<span class="c1">-- Source samples from 91.1 MHz sampled at 8 MHz, with custom gain settings</span>
<span class="kd">local</span> <span class="n">src</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">HackRFSource</span><span class="p">(</span><span class="mi">91</span><span class="p">.</span><span class="mf">1e6</span><span class="p">,</span> <span class="mf">8e6</span><span class="p">,</span> <span class="p">{</span><span class="n">lna_gain</span> <span class="o">=</span> <span class="mi">16</span><span class="p">,</span> <span class="n">vga_gain</span> <span class="o">=</span> <span class="mi">22</span><span class="p">})</span>

<span class="c1">-- Source samples from 144.390 MHz sampled at 8 MHz, with antenna power enabled</span>
<span class="kd">local</span> <span class="n">src</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">HackRFSource</span><span class="p">(</span><span class="mi">144</span><span class="p">.</span><span class="mf">390e6</span><span class="p">,</span> <span class="mf">8e6</span><span class="p">,</span> <span class="p">{</span><span class="n">antenna_power_enable</span> <span class="o">=</span> <span class="kc">true</span><span class="p">})</span>
</code></pre></div>  </div>

</div>
<hr />

<div class="block">
  <h4 id="iqfilesource">IQFileSource</h4>

  <p>Source a complex-valued signal from a binary “IQ” file. The file format may
be 8/16/32-bit signed/unsigned integers or 32/64-bit floats, in little or
big endianness, and interleaved as real component followed by imaginary
component.</p>

  <h5 id="radioiqfilesourcefile-format-rate-repeatoneoffalse"><code class="language-plaintext highlighter-rouge">radio.IQFileSource(file, format, rate[, repeat_on_eof=false])</code></h5>

  <h6 id="arguments-5">Arguments</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">file</code> (<em>string</em>|<em>file</em>|<em>int</em>): Filename, file object, or file descriptor</li>
    <li><code class="language-plaintext highlighter-rouge">format</code> (<em>string</em>): File format specifying signedness, bit width, and
                     endianness of samples. Choice of “s8”, “u8”, “u16le”,
                     “u16be”, “s16le”, “s16be”, “u32le”, “u32be”, “s32le”,
                     “s32be”, “f32le”, “f32be”, “f64le”, “f64be”.</li>
    <li><code class="language-plaintext highlighter-rouge">rate</code> (<em>number</em>): Sample rate in Hz</li>
    <li><code class="language-plaintext highlighter-rouge">repeat_on_eof</code> (<em>bool</em>): Repeat on end of file</li>
  </ul>

  <h6 id="type-signatures-4">Type Signatures</h6>

  <ul>
    <li>❑➔ <code class="language-plaintext highlighter-rouge">out</code> <em>ComplexFloat32</em></li>
  </ul>

  <h6 id="example-9">Example</h6>

  <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- Source signed 8-bit IQ samples from a file sampled at 1 MHz</span>
<span class="kd">local</span> <span class="n">src</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">IQFileSource</span><span class="p">(</span><span class="s1">'samples.s8.iq'</span><span class="p">,</span> <span class="s1">'s8'</span><span class="p">,</span> <span class="mf">1e6</span><span class="p">)</span>

<span class="c1">-- Source little-endian 32-bit IQ samples from a file sampled at 1 MHz, repeating on EOF</span>
<span class="kd">local</span> <span class="n">src</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">IQFileSource</span><span class="p">(</span><span class="s1">'samples.f32le.iq'</span><span class="p">,</span> <span class="s1">'f32le'</span><span class="p">,</span> <span class="mf">1e6</span><span class="p">,</span> <span class="kc">true</span><span class="p">)</span>

<span class="c1">-- Source little-endian signed 16-bit IQ samples from stdin sampled at 500 kHz</span>
<span class="kd">local</span> <span class="n">src</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">IQFileSource</span><span class="p">(</span><span class="nb">io.stdin</span><span class="p">,</span> <span class="s1">'s16le'</span><span class="p">,</span> <span class="mf">500e3</span><span class="p">)</span>
</code></pre></div>  </div>

</div>
<hr />

<div class="block">
  <h4 id="jsonsource">JSONSource</h4>

  <p>Source a signal from a JSON file. Samples are deserialized from individual,
newline delimited objects. This source supports any data type that
implements <code class="language-plaintext highlighter-rouge">from_json()</code>.</p>

  <h5 id="radiojsonsourcefile-datatype-rate-repeatoneoffalse"><code class="language-plaintext highlighter-rouge">radio.JSONSource(file, data_type, rate[, repeat_on_eof=false])</code></h5>

  <h6 id="arguments-6">Arguments</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">file</code> (<em>string</em>|<em>file</em>|<em>int</em>): Filename, file object, or file descriptor</li>
    <li><code class="language-plaintext highlighter-rouge">data_type</code> (<em>type</em>): LuaRadio data type that implements <code class="language-plaintext highlighter-rouge">from_json()</code></li>
    <li><code class="language-plaintext highlighter-rouge">rate</code> (<em>number</em>): Sample rate of file</li>
    <li><code class="language-plaintext highlighter-rouge">repeat_on_eof</code> (<em>bool</em>): Repeat on end of file</li>
  </ul>

  <h6 id="type-signatures-5">Type Signatures</h6>

  <ul>
    <li>❑➔ <code class="language-plaintext highlighter-rouge">out</code> <em>data_type</em></li>
  </ul>

  <h6 id="example-10">Example</h6>

  <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- Source AX25FrameType samples sampled at 1 Hz from a file descriptor</span>
<span class="kd">local</span> <span class="n">src</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">JSONSource</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="n">radio</span><span class="p">.</span><span class="n">AX25FramerBlock</span><span class="p">.</span><span class="n">AX25FrameType</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>

<span class="c1">-- Source AX25FrameType samples sampled at 1 Hz from a file, repeating on EOF</span>
<span class="kd">local</span> <span class="n">src</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">JSONSource</span><span class="p">(</span><span class="s1">'data.bin'</span><span class="p">,</span> <span class="n">radio</span><span class="p">.</span><span class="n">AX25FramerBlock</span><span class="p">.</span><span class="n">AX25FrameType</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="kc">true</span><span class="p">)</span>
</code></pre></div>  </div>

</div>
<hr />

<div class="block">
  <h4 id="networkclientsource">NetworkClientSource</h4>

  <p>Source a signal from a network client. The source supports TCP and UNIX
socket transports. The samples are deserialized according to the specified
signedness, bit width, and endianness format.  Complex-valued signals are
deinterleaved as real component followed by imaginary component.  C
structure types may be deserialized raw with the “raw” format. Object types
may be deserialized from newline delimited JSON with the “json” format.
The source can be configured to automatically reconnect (default) or
terminate on connection loss.</p>

  <h5 id="radionetworkclientsourcedatatype-rate-format-transport-address-options"><code class="language-plaintext highlighter-rouge">radio.NetworkClientSource(data_type, rate, format, transport, address[, options={}])</code></h5>

  <h6 id="arguments-7">Arguments</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">data_type</code> (<em>string</em>): LuaRadio data type</li>
    <li><code class="language-plaintext highlighter-rouge">rate</code> (<em>number</em>): Sample rate of data</li>
    <li><code class="language-plaintext highlighter-rouge">format</code> (<em>string</em>): Binary format of the samples specifying signedness,
                     bit width, and endianness of samples, or “raw” (for
                     raw serialization, useful for C structure types), or
                     “json” (for JSON serialization, useful for Object
                     types). Choice of “s8”, “u8”, “u16le”, “u16be”,
                     “s16le”, “s16be”, “u32le”, “u32be”, “s32le”, “s32be”,
                     “f32le”, “f32be”, “f64le”, “f64be”, “raw”, “json”.</li>
    <li><code class="language-plaintext highlighter-rouge">transport</code> (<em>string</em>): Transport type. Choice of “tcp” or “unix”.</li>
    <li><code class="language-plaintext highlighter-rouge">address</code> (<em>string</em>): Address, as host:port for TCP, or as a file path for
                      UNIX.</li>
    <li><code class="language-plaintext highlighter-rouge">options</code> (<em>table</em>): Additional options, specifying:
      <ul>
        <li><code class="language-plaintext highlighter-rouge">reconnect</code> (bool, default true, reconnect on
connection loss)</li>
      </ul>
    </li>
  </ul>

  <h6 id="type-signatures-6">Type Signatures</h6>

  <ul>
    <li>❑➔ <code class="language-plaintext highlighter-rouge">out</code> <em>data_type</em></li>
  </ul>

  <h6 id="example-11">Example</h6>

  <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- Source ComplexFloat32 samples sampled at 1 MHz decoded from little-endian</span>
<span class="c1">-- 32-bit float format from a TCP client connected to 192.168.1.105:5000</span>
<span class="kd">local</span> <span class="n">src</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">NetworkClientSource</span><span class="p">(</span><span class="n">radio</span><span class="p">.</span><span class="n">types</span><span class="p">.</span><span class="n">ComplexFloat32</span><span class="p">,</span> <span class="mf">1e6</span><span class="p">,</span> <span class="s1">'f32le'</span><span class="p">,</span> <span class="s1">'tcp'</span><span class="p">,</span> <span class="s1">'192.168.1.105:5000'</span><span class="p">)</span>

<span class="c1">-- Source Float32 samples sampled at 100 kHz decoded from little-endian</span>
<span class="c1">-- signed 16-bit real format from a UNIX socket client connected to</span>
<span class="c1">-- /tmp/radio.sock</span>
<span class="kd">local</span> <span class="n">src</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">NetworkClientSource</span><span class="p">(</span><span class="n">radio</span><span class="p">.</span><span class="n">types</span><span class="p">.</span><span class="n">Float32</span><span class="p">,</span> <span class="mf">100e3</span><span class="p">,</span> <span class="s1">'s16le'</span><span class="p">,</span> <span class="s1">'unix'</span><span class="p">,</span> <span class="s1">'/tmp/radio.sock'</span><span class="p">)</span>

<span class="c1">-- Source RDSFrameType samples decoded from their C structure from a TCP</span>
<span class="c1">-- client connected to 192.168.1.105:5000</span>
<span class="kd">local</span> <span class="n">src</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">NetworkClientSource</span><span class="p">(</span><span class="n">radio</span><span class="p">.</span><span class="n">RDSFramerBlock</span><span class="p">.</span><span class="n">RDSFrameType</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">'raw'</span><span class="p">,</span> <span class="s1">'tcp'</span><span class="p">,</span> <span class="s1">'192.168.1.105:5000'</span><span class="p">)</span>

<span class="c1">-- Source RDSPacketType samples decoded from their JSON format from a TCP</span>
<span class="c1">-- client connected to 192.168.1.105:5000</span>
<span class="kd">local</span> <span class="n">src</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">NetworkClientSource</span><span class="p">(</span><span class="n">radio</span><span class="p">.</span><span class="n">RDSDecoderBlock</span><span class="p">.</span><span class="n">RDSPacketType</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">'json'</span><span class="p">,</span> <span class="s1">'tcp'</span><span class="p">,</span> <span class="s1">'192.168.1.105:5000'</span><span class="p">)</span>
</code></pre></div>  </div>

</div>
<hr />

<div class="block">
  <h4 id="networkserversource">NetworkServerSource</h4>

  <p>Source a signal from a network server. The source supports TCP and UNIX
socket transports. The samples are deserialized according to the specified
signedness, bit width, and endianness format.  Complex-valued signals are
deinterleaved as real component followed by imaginary component.  C
structure types may be deserialized raw with the “raw” format. Object types
may be deserialized from newline delimited JSON with the “json” format.
The source can be configured to automatically reconnect (default) or
terminate on connection loss.</p>

  <h5 id="radionetworkserversourcedatatype-rate-format-transport-address-options"><code class="language-plaintext highlighter-rouge">radio.NetworkServerSource(data_type, rate, format, transport, address[, options={}])</code></h5>

  <h6 id="arguments-8">Arguments</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">data_type</code> (<em>string</em>): LuaRadio data type</li>
    <li><code class="language-plaintext highlighter-rouge">rate</code> (<em>number</em>): Sample rate of data</li>
    <li><code class="language-plaintext highlighter-rouge">format</code> (<em>string</em>): Binary format of the samples specifying signedness,
                     bit width, and endianness of samples, or “raw” (for
                     raw serialization, useful for C structure types), or
                     “json” (for JSON serialization, useful for Object
                     types). Choice of “s8”, “u8”, “u16le”, “u16be”,
                     “s16le”, “s16be”, “u32le”, “u32be”, “s32le”, “s32be”,
                     “f32le”, “f32be”, “f64le”, “f64be”, “raw”, “json”.</li>
    <li><code class="language-plaintext highlighter-rouge">transport</code> (<em>string</em>): Transport type. Choice of “tcp” or “unix”.</li>
    <li><code class="language-plaintext highlighter-rouge">address</code> (<em>string</em>): Address, as host:port for TCP, or as a file path for
                      UNIX.</li>
    <li><code class="language-plaintext highlighter-rouge">options</code> (<em>table</em>): Additional options, specifying:
      <ul>
        <li><code class="language-plaintext highlighter-rouge">reconnect</code> (bool, default true, reconnect on
connection loss)</li>
      </ul>
    </li>
  </ul>

  <h6 id="type-signatures-7">Type Signatures</h6>

  <ul>
    <li>❑➔ <code class="language-plaintext highlighter-rouge">out</code> <em>data_type</em></li>
  </ul>

  <h6 id="example-12">Example</h6>

  <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- Source ComplexFloat32 samples sampled at 1 MHz decoded from little-endian</span>
<span class="c1">-- 32-bit float format from a TCP server listening on 0.0.0.0:5000</span>
<span class="kd">local</span> <span class="n">src</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">NetworkServerSource</span><span class="p">(</span><span class="n">radio</span><span class="p">.</span><span class="n">types</span><span class="p">.</span><span class="n">ComplexFloat32</span><span class="p">,</span> <span class="mf">1e6</span><span class="p">,</span> <span class="s1">'f32le'</span><span class="p">,</span> <span class="s1">'tcp'</span><span class="p">,</span> <span class="s1">'0.0.0.0:5000'</span><span class="p">)</span>

<span class="c1">-- Source Float32 samples sampled at 100 kHz decoded from little-endian</span>
<span class="c1">-- signed 16-bit real format from a UNIX socket server listening on</span>
<span class="c1">-- /tmp/radio.sock</span>
<span class="kd">local</span> <span class="n">src</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">NetworkServerSource</span><span class="p">(</span><span class="n">radio</span><span class="p">.</span><span class="n">types</span><span class="p">.</span><span class="n">Float32</span><span class="p">,</span> <span class="mf">100e3</span><span class="p">,</span> <span class="s1">'s16le'</span><span class="p">,</span> <span class="s1">'unix'</span><span class="p">,</span> <span class="s1">'/tmp/radio.sock'</span><span class="p">)</span>

<span class="c1">-- Source RDSFrameType samples decoded from their C structure from a TCP</span>
<span class="c1">-- server listening on 0.0.0.0:5000</span>
<span class="kd">local</span> <span class="n">src</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">NetworkServerSource</span><span class="p">(</span><span class="n">radio</span><span class="p">.</span><span class="n">RDSFramerBlock</span><span class="p">.</span><span class="n">RDSFrameType</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">'raw'</span><span class="p">,</span> <span class="s1">'tcp'</span><span class="p">,</span> <span class="s1">'0.0.0.0:5000'</span><span class="p">)</span>

<span class="c1">-- Source RDSPacketType samples decoded from their JSON format from a TCP</span>
<span class="c1">-- server listening on 0.0.0.0:5000</span>
<span class="kd">local</span> <span class="n">src</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">NetworkServerSource</span><span class="p">(</span><span class="n">radio</span><span class="p">.</span><span class="n">RDSDecoderBlock</span><span class="p">.</span><span class="n">RDSPacketType</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">'json'</span><span class="p">,</span> <span class="s1">'tcp'</span><span class="p">,</span> <span class="s1">'0.0.0.0:5000'</span><span class="p">)</span>
</code></pre></div>  </div>

</div>
<hr />

<div class="block">
  <h4 id="portaudiosource">PortAudioSource</h4>

  <p>Source one or more real-valued signals from the system’s audio device with
PortAudio. This source requires PortAudio.</p>

  <h5 id="radioportaudiosourcenumchannels-rate"><code class="language-plaintext highlighter-rouge">radio.PortAudioSource(num_channels, rate)</code></h5>

  <h6 id="arguments-9">Arguments</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">num_channels</code> (<em>int</em>): Number of channels (e.g. 1 for mono, 2 for stereo)</li>
    <li><code class="language-plaintext highlighter-rouge">rate</code> (<em>int</em>): Sample rate in Hz</li>
  </ul>

  <h6 id="type-signatures-8">Type Signatures</h6>

  <ul>
    <li>❑➔ <code class="language-plaintext highlighter-rouge">out</code> <em>Float32</em></li>
    <li>❑➔ <code class="language-plaintext highlighter-rouge">out1</code> <em>Float32</em>, <code class="language-plaintext highlighter-rouge">out2</code> <em>Float32</em>, <code class="language-plaintext highlighter-rouge">...</code></li>
  </ul>

  <h6 id="example-13">Example</h6>

  <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- Source one channel (mono) audio sampled at 44100 Hz</span>
<span class="kd">local</span> <span class="n">src</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">PortAudioSource</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">44100</span><span class="p">)</span>

<span class="c1">-- Source two channel (stereo) audio sampled at 48000 Hz</span>
<span class="kd">local</span> <span class="n">src</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">PortAudioSource</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">48000</span><span class="p">)</span>
<span class="c1">-- Compose the two channels into a complex-valued signal</span>
<span class="kd">local</span> <span class="n">floattocomplex</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">FloatToComplex</span><span class="p">()</span>
<span class="n">top</span><span class="p">:</span><span class="n">connect</span><span class="p">(</span><span class="n">src</span><span class="p">,</span> <span class="s1">'out1'</span><span class="p">,</span> <span class="n">floattocomplex</span><span class="p">,</span> <span class="s1">'real'</span><span class="p">)</span>
<span class="n">top</span><span class="p">:</span><span class="n">connect</span><span class="p">(</span><span class="n">src</span><span class="p">,</span> <span class="s1">'out2'</span><span class="p">,</span> <span class="n">floattocomplex</span><span class="p">,</span> <span class="s1">'imag'</span><span class="p">)</span>
<span class="n">top</span><span class="p">:</span><span class="n">connect</span><span class="p">(</span><span class="n">floattocomplex</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>
</code></pre></div>  </div>

</div>
<hr />

<div class="block">
  <h4 id="pulseaudiosource">PulseAudioSource</h4>

  <p>Source one or more real-valued signals from the system’s audio device with
PulseAudio. This source requires PulseAudio.</p>

  <h5 id="radiopulseaudiosourcenumchannels-rate"><code class="language-plaintext highlighter-rouge">radio.PulseAudioSource(num_channels, rate)</code></h5>

  <h6 id="arguments-10">Arguments</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">num_channels</code> (<em>int</em>): Number of channels (e.g. 1 for mono, 2 for stereo)</li>
    <li><code class="language-plaintext highlighter-rouge">rate</code> (<em>int</em>): Sample rate in Hz</li>
  </ul>

  <h6 id="type-signatures-9">Type Signatures</h6>

  <ul>
    <li>❑➔ <code class="language-plaintext highlighter-rouge">out</code> <em>Float32</em></li>
    <li>❑➔ <code class="language-plaintext highlighter-rouge">out1</code> <em>Float32</em>, <code class="language-plaintext highlighter-rouge">out2</code> <em>Float32</em>, <code class="language-plaintext highlighter-rouge">...</code></li>
  </ul>

  <h6 id="example-14">Example</h6>

  <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- Source one channel (mono) audio sampled at 44100 Hz</span>
<span class="kd">local</span> <span class="n">src</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">PulseAudioSource</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">44100</span><span class="p">)</span>

<span class="c1">-- Source two channel (stereo) audio sampled at 48000 Hz</span>
<span class="kd">local</span> <span class="n">src</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">PulseAudioSource</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">48000</span><span class="p">)</span>
<span class="c1">-- Compose the two channels into a complex-valued signal</span>
<span class="kd">local</span> <span class="n">floattocomplex</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">FloatToComplex</span><span class="p">()</span>
<span class="n">top</span><span class="p">:</span><span class="n">connect</span><span class="p">(</span><span class="n">src</span><span class="p">,</span> <span class="s1">'out1'</span><span class="p">,</span> <span class="n">floattocomplex</span><span class="p">,</span> <span class="s1">'real'</span><span class="p">)</span>
<span class="n">top</span><span class="p">:</span><span class="n">connect</span><span class="p">(</span><span class="n">src</span><span class="p">,</span> <span class="s1">'out2'</span><span class="p">,</span> <span class="n">floattocomplex</span><span class="p">,</span> <span class="s1">'imag'</span><span class="p">)</span>
<span class="n">top</span><span class="p">:</span><span class="n">connect</span><span class="p">(</span><span class="n">floattocomplex</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>
</code></pre></div>  </div>

</div>
<hr />

<div class="block">
  <h4 id="rawfilesource">RawFileSource</h4>

  <p>Source a signal of the specified data type from a binary file. The raw
binary samples are cast to the specified data type with no signedness
conversion, endian conversion, or interpretation. This is useful for
serializing data types across a pipe or other file descriptor based IPC.</p>

  <h5 id="radiorawfilesourcefile-datatype-rate-repeatoneoffalse"><code class="language-plaintext highlighter-rouge">radio.RawFileSource(file, data_type, rate[, repeat_on_eof=false])</code></h5>

  <h6 id="arguments-11">Arguments</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">file</code> (<em>string</em>|<em>file</em>|<em>int</em>): Filename, file object, or file descriptor</li>
    <li><code class="language-plaintext highlighter-rouge">data_type</code> (<em>type</em>): LuaRadio data type</li>
    <li><code class="language-plaintext highlighter-rouge">rate</code> (<em>number</em>): Sample rate of file</li>
    <li><code class="language-plaintext highlighter-rouge">repeat_on_eof</code> (<em>bool</em>): Repeat on end of file</li>
  </ul>

  <h6 id="type-signatures-10">Type Signatures</h6>

  <ul>
    <li>❑➔ <code class="language-plaintext highlighter-rouge">out</code> <em>data_type</em></li>
  </ul>

  <h6 id="example-15">Example</h6>

  <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- Source ComplexFloat32 samples sampled at 1 MHz from a file descriptor</span>
<span class="kd">local</span> <span class="n">src</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">RawFileSource</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="n">radio</span><span class="p">.</span><span class="n">types</span><span class="p">.</span><span class="n">ComplexFloat32</span><span class="p">,</span> <span class="mf">1e6</span><span class="p">)</span>

<span class="c1">-- Source Byte samples sampled at 100 kHz from a file, repeating on EOF</span>
<span class="kd">local</span> <span class="n">src</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">RawFileSource</span><span class="p">(</span><span class="s1">'data.bin'</span><span class="p">,</span> <span class="n">radio</span><span class="p">.</span><span class="n">types</span><span class="p">.</span><span class="n">Byte</span><span class="p">,</span> <span class="mf">100e3</span><span class="p">,</span> <span class="kc">true</span><span class="p">)</span>
</code></pre></div>  </div>

</div>
<hr />

<div class="block">
  <h4 id="realfilesource">RealFileSource</h4>

  <p>Source a real-valued signal from a binary file. The file format may be
8/16/32-bit signed/unsigned integers or 32/64-bit floats, in little or big
endianness. This is the real-valued counterpart of
<a href="#iqfilesource"><code class="language-plaintext highlighter-rouge">IQFileSource</code></a>.</p>

  <h5 id="radiorealfilesourcefile-format-rate-repeatoneoffalse"><code class="language-plaintext highlighter-rouge">radio.RealFileSource(file, format, rate[, repeat_on_eof=false])</code></h5>

  <h6 id="arguments-12">Arguments</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">file</code> (<em>string</em>|<em>file</em>|<em>int</em>): Filename, file object, or file descriptor</li>
    <li><code class="language-plaintext highlighter-rouge">format</code> (<em>string</em>): File format specifying signedness, bit width, and
                     endianness of samples. Choice of “s8”, “u8”, “u16le”,
                     “u16be”, “s16le”, “s16be”, “u32le”, “u32be”, “s32le”,
                     “s32be”, “f32le”, “f32be”, “f64le”, “f64be”.</li>
    <li><code class="language-plaintext highlighter-rouge">rate</code> (<em>number</em>): Sample rate in Hz</li>
    <li><code class="language-plaintext highlighter-rouge">repeat_on_eof</code> (<em>bool</em>): Repeat on end of file</li>
  </ul>

  <h6 id="type-signatures-11">Type Signatures</h6>

  <ul>
    <li>❑➔ <code class="language-plaintext highlighter-rouge">out</code> <em>Float32</em></li>
  </ul>

  <h6 id="example-16">Example</h6>

  <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- Source signed 8-bit real samples from a file sampled at 1 MHz</span>
<span class="kd">local</span> <span class="n">src</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">RealFileSource</span><span class="p">(</span><span class="s1">'samples.s8.real'</span><span class="p">,</span> <span class="s1">'s8'</span><span class="p">,</span> <span class="mf">1e6</span><span class="p">)</span>

<span class="c1">-- Source little-endian 32-bit real samples from a file sampled at 1 MHz, repeating on EOF</span>
<span class="kd">local</span> <span class="n">src</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">RealFileSource</span><span class="p">(</span><span class="s1">'samples.f32le.real'</span><span class="p">,</span> <span class="s1">'f32le'</span><span class="p">,</span> <span class="mf">1e6</span><span class="p">,</span> <span class="kc">true</span><span class="p">)</span>

<span class="c1">-- Source little-endian signed 16-bit real samples from stdin sampled at 500 kHz</span>
<span class="kd">local</span> <span class="n">src</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">RealFileSource</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s1">'s16le'</span><span class="p">,</span> <span class="mf">500e3</span><span class="p">)</span>
</code></pre></div>  </div>

</div>
<hr />

<div class="block">
  <h4 id="rtlsdrsource">RtlSdrSource</h4>

  <p>Source a complex-valued signal from an RTL-SDR dongle. This source requires
the librtlsdr library.</p>

  <h5 id="radiortlsdrsourcefrequency-rate-options"><code class="language-plaintext highlighter-rouge">radio.RtlSdrSource(frequency, rate[, options={}])</code></h5>

  <h6 id="arguments-13">Arguments</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">frequency</code> (<em>number</em>): Tuning frequency in Hz</li>
    <li><code class="language-plaintext highlighter-rouge">rate</code> (<em>number</em>): Sample rate in Hz</li>
    <li><code class="language-plaintext highlighter-rouge">options</code> (<em>table</em>): Additional options, specifying:
      <ul>
        <li><code class="language-plaintext highlighter-rouge">biastee</code> (bool, default false)</li>
        <li><code class="language-plaintext highlighter-rouge">direct_sampling</code> (string, default “disabled”, choice of “disabled”, “i”, “q”)</li>
        <li><code class="language-plaintext highlighter-rouge">bandwidth</code> (number, default equal to sample rate)</li>
        <li><code class="language-plaintext highlighter-rouge">autogain</code> (bool, default true if manual gain is nil)</li>
        <li><code class="language-plaintext highlighter-rouge">rf_gain</code> (number in dB, manual gain, default nil)</li>
        <li><code class="language-plaintext highlighter-rouge">freq_correction</code> PPM (number, default 0.0)</li>
        <li><code class="language-plaintext highlighter-rouge">device_index</code> (integer, default 0)</li>
      </ul>
    </li>
  </ul>

  <h6 id="type-signatures-12">Type Signatures</h6>

  <ul>
    <li>❑➔ <code class="language-plaintext highlighter-rouge">out</code> <em>ComplexFloat32</em></li>
  </ul>

  <h6 id="example-17">Example</h6>

  <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- Source samples from 162.400 MHz sampled at 1 MHz, with autogain enabled</span>
<span class="kd">local</span> <span class="n">src</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">RtlSdrSource</span><span class="p">(</span><span class="mi">162</span><span class="p">.</span><span class="mf">400e6</span><span class="p">,</span> <span class="mf">1e6</span><span class="p">,</span> <span class="p">{</span><span class="n">autogain</span> <span class="o">=</span> <span class="kc">true</span><span class="p">})</span>

<span class="c1">-- Source samples from 91.1 MHz sampled at 1.102500 MHz, with -1 PPM correction</span>
<span class="kd">local</span> <span class="n">src</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">RtlSdrSource</span><span class="p">(</span><span class="mi">91</span><span class="p">.</span><span class="mf">1e6</span><span class="p">,</span> <span class="mi">1102500</span><span class="p">,</span> <span class="p">{</span><span class="n">freq_correction</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">.</span><span class="mi">0</span><span class="p">})</span>

<span class="c1">-- Source samples from 144.390 MHz sampled at 1 MHz, with RF gain of 15dB</span>
<span class="kd">local</span> <span class="n">src</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">RtlSdrSource</span><span class="p">(</span><span class="mi">144</span><span class="p">.</span><span class="mf">390e6</span><span class="p">,</span> <span class="mf">1e6</span><span class="p">,</span> <span class="p">{</span><span class="n">rf_gain</span> <span class="o">=</span> <span class="mi">15</span><span class="p">.</span><span class="mi">0</span><span class="p">})</span>
</code></pre></div>  </div>

</div>
<hr />

<div class="block">
  <h4 id="sdrplaysource">SDRplaySource</h4>

  <p>Source a complex-valued signal from an SDRplay RSP (1, 1A, 2, Duo, or Dx).
This source requires the libsdrplay_api or libmirsdrapi-rsp library.</p>

  <h5 id="radiosdrplaysourcefrequency-rate-options"><code class="language-plaintext highlighter-rouge">radio.SDRplaySource(frequency, rate[, options={}])</code></h5>

  <h6 id="arguments-14">Arguments</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">frequency</code> (<em>number</em>): Tuning frequency in Hz</li>
    <li><code class="language-plaintext highlighter-rouge">rate</code> (<em>number</em>): Sample rate in Hz</li>
    <li><code class="language-plaintext highlighter-rouge">options</code> (<em>table</em>): Additional options, specifying:
      <ul>
        <li><code class="language-plaintext highlighter-rouge">gain_reduction</code> (int, default 40 dB, range of 20 to 59 dB)</li>
        <li><code class="language-plaintext highlighter-rouge">bandwidth</code> (number, default closest, choice of 0.200 MHz, 0.300 MHz,
0.600 MHz, 1.536 MHz, 5.000 MHz, 6.000 MHz, 7.000 MHz, 8.000 MHz)</li>
      </ul>
    </li>
  </ul>

  <h6 id="type-signatures-13">Type Signatures</h6>

  <ul>
    <li>❑➔ <code class="language-plaintext highlighter-rouge">out</code> <em>ComplexFloat32</em></li>
  </ul>

  <h6 id="example-18">Example</h6>

  <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- Source samples from 91.1 MHz sampled at 2 MHz</span>
<span class="kd">local</span> <span class="n">src</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">SDRplaySource</span><span class="p">(</span><span class="mi">91</span><span class="p">.</span><span class="mf">1e6</span><span class="p">,</span> <span class="mf">2e6</span><span class="p">)</span>

<span class="c1">-- Source samples from 144.390 MHz sampled at 4 MHz, with 0.6 MHz bandwidth</span>
<span class="kd">local</span> <span class="n">src</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">SDRplaySource</span><span class="p">(</span><span class="mi">144</span><span class="p">.</span><span class="mf">390e6</span><span class="p">,</span> <span class="mf">4e6</span><span class="p">,</span> <span class="p">{</span><span class="n">bandwidth</span> <span class="o">=</span> <span class="mi">0</span><span class="p">.</span><span class="mf">6e6</span><span class="p">})</span>

<span class="c1">-- Source samples from 15 MHz sampled at 10 MHz, with 30 dB gain reduction</span>
<span class="kd">local</span> <span class="n">src</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">SDRplaySource</span><span class="p">(</span><span class="mf">15e6</span><span class="p">,</span> <span class="mf">10e6</span><span class="p">,</span> <span class="p">{</span><span class="n">gain_reduction</span> <span class="o">=</span> <span class="mi">30</span><span class="p">})</span>
</code></pre></div>  </div>

</div>
<hr />

<div class="block">
  <h4 id="signalsource">SignalSource</h4>

  <p>Source a complex or real valued signal from a signal generator.</p>

  <p>Note: the “exponential” waveform generates a complex-valued signal, all
other waveform types generate a real-valued signal.</p>

  <h5 id="radiosignalsourcesignal-frequency-rate-options"><code class="language-plaintext highlighter-rouge">radio.SignalSource(signal, frequency, rate[, options={}])</code></h5>

  <h6 id="arguments-15">Arguments</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">signal</code> (<em>string</em>): Waveform type, either “exponential”, “cosine”, “sine”,
                     “square”, “triangle”, “sawtooth”, “constant”.</li>
    <li><code class="language-plaintext highlighter-rouge">frequency</code> (<em>number</em>): Frequency in Hz</li>
    <li><code class="language-plaintext highlighter-rouge">rate</code> (<em>number</em>|<em>nil</em>): Sample rate in Hz</li>
    <li><code class="language-plaintext highlighter-rouge">options</code> (<em>table</em>): Additional options, specifying:
      <ul>
        <li><code class="language-plaintext highlighter-rouge">amplitude</code> (number, default 1.0)</li>
        <li><code class="language-plaintext highlighter-rouge">offset</code> (number, default 0.0)</li>
        <li><code class="language-plaintext highlighter-rouge">phase</code> (number in radians, default 0.0)</li>
      </ul>
    </li>
  </ul>

  <h6 id="type-signatures-14">Type Signatures</h6>

  <ul>
    <li>❑➔ <code class="language-plaintext highlighter-rouge">out</code> <em>ComplexFloat32</em></li>
    <li>❑➔ <code class="language-plaintext highlighter-rouge">out</code> <em>Float32</em></li>
  </ul>

  <h6 id="example-19">Example</h6>

  <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- Source a 250 kHz complex exponential sampled at 2 MHz</span>
<span class="kd">local</span> <span class="n">src</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">SignalSource</span><span class="p">(</span><span class="s1">'exponential'</span><span class="p">,</span> <span class="mf">250e3</span><span class="p">,</span> <span class="mf">2e6</span><span class="p">)</span>

<span class="c1">-- Source a 100 kHz cosine sampled at 1 MHz, with amplitude 2.5</span>
<span class="kd">local</span> <span class="n">src</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">SignalSource</span><span class="p">(</span><span class="s1">'cosine'</span><span class="p">,</span> <span class="mf">100e3</span><span class="p">,</span> <span class="mf">1e6</span><span class="p">,</span> <span class="p">{</span><span class="n">amplitude</span> <span class="o">=</span> <span class="mi">2</span><span class="p">.</span><span class="mi">5</span><span class="p">})</span>

<span class="c1">-- Source a 1 kHz square wave sampled at 2 MHz, with offset 1.0</span>
<span class="kd">local</span> <span class="n">src</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">SignalSource</span><span class="p">(</span><span class="s1">'square'</span><span class="p">,</span> <span class="mf">1e3</span><span class="p">,</span> <span class="mf">2e6</span><span class="p">,</span> <span class="p">{</span><span class="n">offset</span> <span class="o">=</span> <span class="mi">1</span><span class="p">.</span><span class="mi">0</span><span class="p">})</span>
</code></pre></div>  </div>

</div>
<hr />

<div class="block">
  <h4 id="soapysdrsource">SoapySDRSource</h4>

  <p>Source a complex-valued signal from a SoapySDR device. This source requires
<a href="https://github.com/pothosware/SoapySDR">SoapySDR</a>.</p>

  <h5 id="radiosoapysdrsourcedriver-frequency-rate-options"><code class="language-plaintext highlighter-rouge">radio.SoapySDRSource(driver, frequency, rate[, options={}])</code></h5>

  <h6 id="arguments-16">Arguments</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">driver</code> (<em>string</em>|<em>table</em>): Driver string or key-value table</li>
    <li><code class="language-plaintext highlighter-rouge">frequency</code> (<em>number</em>): Tuning frequency in Hz</li>
    <li><code class="language-plaintext highlighter-rouge">rate</code> (<em>number</em>): Sample rate in Hz</li>
    <li><code class="language-plaintext highlighter-rouge">options</code> (<em>table</em>): Additional options, specifying:
      <ul>
        <li><code class="language-plaintext highlighter-rouge">channel</code> (int, default 0)</li>
        <li><code class="language-plaintext highlighter-rouge">bandwidth</code> (number in Hz)</li>
        <li><code class="language-plaintext highlighter-rouge">autogain</code> (bool)</li>
        <li><code class="language-plaintext highlighter-rouge">antenna</code> (string)</li>
        <li><code class="language-plaintext highlighter-rouge">gain</code> (number in dB, overall gain)</li>
        <li><code class="language-plaintext highlighter-rouge">gains</code> (table, gain element name to value in dB)</li>
        <li><code class="language-plaintext highlighter-rouge">frequencies</code> (table, frequency element name to value in Hz)</li>
        <li><code class="language-plaintext highlighter-rouge">settings</code> (table, string key-value pairs of driver-specific settings)</li>
      </ul>
    </li>
  </ul>

  <h6 id="type-signatures-15">Type Signatures</h6>

  <ul>
    <li>❑➔ <code class="language-plaintext highlighter-rouge">out</code> <em>ComplexFloat32</em></li>
  </ul>

  <h6 id="example-20">Example</h6>

  <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- Source samples from an RTL-SDR at 91.1 MHz sampled at 1 MHz</span>
<span class="kd">local</span> <span class="n">src</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">SoapySDRSource</span><span class="p">(</span><span class="s2">"driver=rtlsdr"</span><span class="p">,</span> <span class="mi">91</span><span class="p">.</span><span class="mf">1e6</span><span class="p">,</span> <span class="mf">1e6</span><span class="p">)</span>

<span class="c1">-- Source samples from an Airspy at 15 MHz sampled at 6 MHz, with 10 dB overall gain</span>
<span class="kd">local</span> <span class="n">src</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">SoapySDRSource</span><span class="p">(</span><span class="s2">"driver=airspy"</span><span class="p">,</span> <span class="mf">15e6</span><span class="p">,</span> <span class="mf">6e6</span><span class="p">,</span> <span class="p">{</span><span class="n">gain</span> <span class="o">=</span> <span class="mi">10</span><span class="p">})</span>

<span class="c1">-- Source samples from a LimeSDR at 915 MHz sampled at 10 MHz,</span>
<span class="c1">-- with 20 dB overall gain and 4 MHz baseband bandwidth</span>
<span class="kd">local</span> <span class="n">src</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">SoapySDRSource</span><span class="p">(</span><span class="s2">"driver=limesdr"</span><span class="p">,</span> <span class="mf">915e6</span><span class="p">,</span> <span class="mf">10e6</span><span class="p">,</span> <span class="p">{</span><span class="n">gain</span> <span class="o">=</span> <span class="mi">20</span><span class="p">,</span> <span class="n">bandwidth</span> <span class="o">=</span> <span class="mf">4e6</span><span class="p">})</span>

<span class="c1">-- Source samples from a HackRF at 144.390 MHz sampled at 8 MHz,</span>
<span class="c1">-- with 2.5 MHz baseband bandwidth</span>
<span class="kd">local</span> <span class="n">src</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">SoapySDRSource</span><span class="p">(</span><span class="s2">"driver=hackrf"</span><span class="p">,</span> <span class="mi">144</span><span class="p">.</span><span class="mf">390e6</span><span class="p">,</span> <span class="mf">8e6</span><span class="p">,</span> <span class="p">{</span><span class="n">bandwidth</span> <span class="o">=</span> <span class="mi">2</span><span class="p">.</span><span class="mf">5e6</span><span class="p">})</span>
</code></pre></div>  </div>

</div>
<hr />

<div class="block">
  <h4 id="uhdsource">UHDSource</h4>

  <p>Source a complex-valued signal from a USRP. This source requires the libuhd
library.</p>

  <h5 id="radiouhdsourcedeviceaddress-frequency-rate-options"><code class="language-plaintext highlighter-rouge">radio.UHDSource(device_address, frequency, rate[, options={}])</code></h5>

  <h6 id="arguments-17">Arguments</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">device_address</code> (<em>string</em>): Device address string</li>
    <li><code class="language-plaintext highlighter-rouge">frequency</code> (<em>number</em>): Tuning frequency in Hz</li>
    <li><code class="language-plaintext highlighter-rouge">rate</code> (<em>number</em>): Sample rate in Hz</li>
    <li><code class="language-plaintext highlighter-rouge">options</code> (<em>table</em>): Additional options, specifying:
      <ul>
        <li><code class="language-plaintext highlighter-rouge">channel</code> (int, default 0)</li>
        <li><code class="language-plaintext highlighter-rouge">gain</code> (number in dB, manual overall gain, default nil)</li>
        <li><code class="language-plaintext highlighter-rouge">bandwidth</code> (number in Hz)</li>
        <li><code class="language-plaintext highlighter-rouge">antenna</code> (string)</li>
        <li><code class="language-plaintext highlighter-rouge">autogain</code> (bool, default true if manual gain is nil)</li>
        <li><code class="language-plaintext highlighter-rouge">gains</code> (table, gain element name to value in dB)</li>
      </ul>
    </li>
  </ul>

  <h6 id="type-signatures-16">Type Signatures</h6>

  <ul>
    <li>❑➔ <code class="language-plaintext highlighter-rouge">out</code> <em>ComplexFloat32</em></li>
  </ul>

  <h6 id="example-21">Example</h6>

  <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- Source samples from a B200 at 91.1 MHz sampled at 2 MHz</span>
<span class="kd">local</span> <span class="n">src</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">UHDSource</span><span class="p">(</span><span class="s2">"type=b200"</span><span class="p">,</span> <span class="mi">91</span><span class="p">.</span><span class="mf">1e6</span><span class="p">,</span> <span class="mf">2e6</span><span class="p">)</span>

<span class="c1">-- Source samples from a B200 at 915 MHz sampled at 10 MHz, with 20 dB</span>
<span class="c1">-- overall gain</span>
<span class="kd">local</span> <span class="n">src</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">UHDSource</span><span class="p">(</span><span class="s2">"type=b200"</span><span class="p">,</span> <span class="mf">915e6</span><span class="p">,</span> <span class="mf">10e6</span><span class="p">,</span> <span class="p">{</span><span class="n">gain</span> <span class="o">=</span> <span class="mi">20</span><span class="p">})</span>

<span class="c1">-- Source samples from a B200 at 144.390 MHz sampled at 8 MHz, with 2.5 MHz</span>
<span class="c1">-- baseband bandwidth</span>
<span class="kd">local</span> <span class="n">src</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">UHDSource</span><span class="p">(</span><span class="s2">"type=b200"</span><span class="p">,</span> <span class="mi">144</span><span class="p">.</span><span class="mf">390e6</span><span class="p">,</span> <span class="mf">8e6</span><span class="p">,</span> <span class="p">{</span><span class="n">bandwidth</span> <span class="o">=</span> <span class="mi">2</span><span class="p">.</span><span class="mf">5e6</span><span class="p">})</span>
</code></pre></div>  </div>

</div>
<hr />

<div class="block">
  <h4 id="uniformrandomsource">UniformRandomSource</h4>

  <p>Source a signal with values drawn from a uniform random distribution.</p>

  <h5 id="radiouniformrandomsourcedatatype-rate-range-options"><code class="language-plaintext highlighter-rouge">radio.UniformRandomSource(data_type, rate[, range={}, options={}])</code></h5>

  <h6 id="arguments-18">Arguments</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">data_type</code> (<em>type</em>): LuaRadio data type, choice of
                      <code class="language-plaintext highlighter-rouge">radio.types.ComplexFloat32</code>, <code class="language-plaintext highlighter-rouge">radio.types.Float32</code>,
                      <code class="language-plaintext highlighter-rouge">radio.types.Byte</code>, or <code class="language-plaintext highlighter-rouge">radio.types.Bit</code> data types.</li>
    <li><code class="language-plaintext highlighter-rouge">rate</code> (<em>number</em>): Sample rate in Hz</li>
    <li><code class="language-plaintext highlighter-rouge">range</code> (<em>array</em>): Value range as an array, e.g <code class="language-plaintext highlighter-rouge">{10, 100}</code>.</li>
    <li><code class="language-plaintext highlighter-rouge">options</code> (<em>table</em>): Additional options, specifying:
      <ul>
        <li><code class="language-plaintext highlighter-rouge">seed</code> (number)</li>
      </ul>
    </li>
  </ul>

  <h6 id="type-signatures-17">Type Signatures</h6>

  <ul>
    <li>❑➔ <code class="language-plaintext highlighter-rouge">out</code> <em>ComplexFloat32</em></li>
    <li>❑➔ <code class="language-plaintext highlighter-rouge">out</code> <em>Float32</em></li>
    <li>❑➔ <code class="language-plaintext highlighter-rouge">out</code> <em>Byte</em></li>
    <li>❑➔ <code class="language-plaintext highlighter-rouge">out</code> <em>Bit</em></li>
  </ul>

  <h6 id="example-22">Example</h6>

  <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- Source a random ComplexFloat32 signal sampled at 1 MHz</span>
<span class="kd">local</span> <span class="n">src</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">UniformRandomSource</span><span class="p">(</span><span class="n">radio</span><span class="p">.</span><span class="n">types</span><span class="p">.</span><span class="n">ComplexFloat32</span><span class="p">,</span> <span class="mf">1e6</span><span class="p">)</span>

<span class="c1">-- Source a random Float32 signal sampled at 1 MHz</span>
<span class="kd">local</span> <span class="n">src</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">UniformRandomSource</span><span class="p">(</span><span class="n">radio</span><span class="p">.</span><span class="n">types</span><span class="p">.</span><span class="n">Float32</span><span class="p">,</span> <span class="mf">1e6</span><span class="p">)</span>

<span class="c1">-- Source a random Byte signal sampled at 1 kHz, ranging from 65 to 90</span>
<span class="kd">local</span> <span class="n">src</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">UniformRandomSource</span><span class="p">(</span><span class="n">radio</span><span class="p">.</span><span class="n">types</span><span class="p">.</span><span class="n">Byte</span><span class="p">,</span> <span class="mf">1e3</span><span class="p">,</span> <span class="p">{</span><span class="mi">65</span><span class="p">,</span> <span class="mi">90</span><span class="p">})</span>

<span class="c1">-- Source a random bit stream sampled at 1 kHz</span>
<span class="kd">local</span> <span class="n">src</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">UniformRandomSource</span><span class="p">(</span><span class="n">radio</span><span class="p">.</span><span class="n">types</span><span class="p">.</span><span class="n">Bit</span><span class="p">,</span> <span class="mf">1e3</span><span class="p">)</span>
</code></pre></div>  </div>

</div>
<hr />

<div class="block">
  <h4 id="wavfilesource">WAVFileSource</h4>

  <p>Source one or more real-valued signals from a WAV file. The supported sample
formats are 8-bit unsigned integer, 16-bit signed integer, and 32-bit signed
integer.</p>

  <h5 id="radiowavfilesourcefile-numchannels-repeatoneoffalse"><code class="language-plaintext highlighter-rouge">radio.WAVFileSource(file, num_channels[, repeat_on_eof=false])</code></h5>

  <h6 id="arguments-19">Arguments</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">file</code> (<em>string</em>|<em>file</em>|<em>int</em>): Filename, file object, or file descriptor</li>
    <li><code class="language-plaintext highlighter-rouge">num_channels</code> (<em>int</em>): Number of channels (e.g. 1 for mono, 2 for stereo, etc.)</li>
    <li><code class="language-plaintext highlighter-rouge">repeat_on_eof</code> (<em>bool</em>): Repeat on end of file</li>
  </ul>

  <h6 id="type-signatures-18">Type Signatures</h6>

  <ul>
    <li>❑➔ <code class="language-plaintext highlighter-rouge">out</code> <em>Float32</em></li>
    <li>❑➔ <code class="language-plaintext highlighter-rouge">out1</code> <em>Float32</em>, <code class="language-plaintext highlighter-rouge">out2</code> <em>Float32</em>, <code class="language-plaintext highlighter-rouge">...</code></li>
  </ul>

  <h6 id="example-23">Example</h6>

  <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- Source one channel WAV file</span>
<span class="kd">local</span> <span class="n">src</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">WAVFileSource</span><span class="p">(</span><span class="s1">'test.wav'</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>

<span class="c1">-- Source two channel WAV file</span>
<span class="kd">local</span> <span class="n">src</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">WAVFileSource</span><span class="p">(</span><span class="s1">'test.wav'</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="c1">-- Compose the two channels into a complex-valued signal</span>
<span class="n">top</span><span class="p">:</span><span class="n">connect</span><span class="p">(</span><span class="n">src</span><span class="p">,</span> <span class="s1">'out1'</span><span class="p">,</span> <span class="n">floattocomplex</span><span class="p">,</span> <span class="s1">'real'</span><span class="p">)</span>
<span class="n">top</span><span class="p">:</span><span class="n">connect</span><span class="p">(</span><span class="n">src</span><span class="p">,</span> <span class="s1">'out2'</span><span class="p">,</span> <span class="n">floattocomplex</span><span class="p">,</span> <span class="s1">'imag'</span><span class="p">)</span>
<span class="n">top</span><span class="p">:</span><span class="n">connect</span><span class="p">(</span><span class="n">floattocomplex</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="n">snk</span><span class="p">)</span>
</code></pre></div>  </div>

</div>
<hr />

<div class="block">
  <h4 id="zerosource">ZeroSource</h4>

  <p>Source a zero-valued signal of the specified data type.</p>

  <h5 id="radiozerosourcedatatype-rate"><code class="language-plaintext highlighter-rouge">radio.ZeroSource(data_type, rate)</code></h5>

  <h6 id="arguments-20">Arguments</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">data_type</code> (<em>type</em>): LuaRadio data type</li>
    <li><code class="language-plaintext highlighter-rouge">rate</code> (<em>number</em>): Sample rate in Hz</li>
  </ul>

  <h6 id="type-signatures-19">Type Signatures</h6>

  <ul>
    <li>❑➔ <code class="language-plaintext highlighter-rouge">out</code> <em>data_type</em></li>
  </ul>

  <h6 id="example-24">Example</h6>

  <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- Source a zero complex-valued signal sampled at 1 MHz</span>
<span class="kd">local</span> <span class="n">src</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">ZeroSource</span><span class="p">(</span><span class="n">radio</span><span class="p">.</span><span class="n">types</span><span class="p">.</span><span class="n">ComplexFloat32</span><span class="p">,</span> <span class="mf">1e6</span><span class="p">)</span>

<span class="c1">-- Source a zero real-valued signal sampled at 500 kHz</span>
<span class="kd">local</span> <span class="n">src</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">ZeroSource</span><span class="p">(</span><span class="n">radio</span><span class="p">.</span><span class="n">types</span><span class="p">.</span><span class="n">Bit</span><span class="p">,</span> <span class="mf">500e3</span><span class="p">)</span>

<span class="c1">-- Source a zero bit stream sampled at 2 kHz</span>
<span class="kd">local</span> <span class="n">src</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">ZeroSource</span><span class="p">(</span><span class="n">radio</span><span class="p">.</span><span class="n">types</span><span class="p">.</span><span class="n">Bit</span><span class="p">,</span> <span class="mf">2e3</span><span class="p">)</span>
</code></pre></div>  </div>

</div>
<hr />

<h3 id="sinks">Sinks</h3>

<div class="block">
  <h4 id="benchmarksink">BenchmarkSink</h4>

  <p>Report the average rate of samples delivered to the sink.</p>

  <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[BenchmarkSink] 314.38 MS/s (2.52 GB/s)
[BenchmarkSink] 313.32 MS/s (2.51 GB/s)
[BenchmarkSink] 313.83 MS/s (2.51 GB/s)
...
</code></pre></div>  </div>

  <h5 id="radiobenchmarksinkfileiostderr-usejsonfalse-titlebenchmarksink"><code class="language-plaintext highlighter-rouge">radio.BenchmarkSink([file=io.stderr, use_json=false, title="BenchmarkSink"])</code></h5>

  <h6 id="arguments-21">Arguments</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">file</code> (<em>string</em>|<em>file</em>|<em>int</em>): Filename, file object, or file descriptor</li>
    <li><code class="language-plaintext highlighter-rouge">use_json</code> (<em>bool</em>): Serialize aggregate results in JSON on termination</li>
    <li><code class="language-plaintext highlighter-rouge">title</code> (<em>string</em>): Title in reporting</li>
  </ul>

  <h6 id="type-signatures-20">Type Signatures</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">in</code> <em>any</em> ➔❑</li>
  </ul>

  <h6 id="example-25">Example</h6>

  <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- Benchmark a source, writing periodic results to stderr</span>
<span class="kd">local</span> <span class="n">snk</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">BenchmarkSink</span><span class="p">()</span>
<span class="n">top</span><span class="p">:</span><span class="n">connect</span><span class="p">(</span><span class="n">src</span><span class="p">,</span> <span class="n">snk</span><span class="p">)</span>

<span class="c1">-- Benchmark a source and a block, writing final results in JSON to fd 3</span>
<span class="kd">local</span> <span class="n">snk</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">BenchmarkSink</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="kc">true</span><span class="p">)</span>
<span class="n">top</span><span class="p">:</span><span class="n">connect</span><span class="p">(</span><span class="n">src</span><span class="p">,</span> <span class="n">blk</span><span class="p">,</span> <span class="n">snk</span><span class="p">)</span>
</code></pre></div>  </div>

</div>
<hr />

<div class="block">
  <h4 id="bladerfsink">BladeRFSink</h4>

  <p>Sink a complex-valued signal to a BladeRF. This sink requires the libbladeRF
library.</p>

  <h5 id="radiobladerfsinkfrequency-options"><code class="language-plaintext highlighter-rouge">radio.BladeRFSink(frequency[, options={}])</code></h5>

  <h6 id="arguments-22">Arguments</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">frequency</code> (<em>number</em>): Tuning frequency in Hz</li>
    <li><code class="language-plaintext highlighter-rouge">options</code> (<em>table</em>): Additional options, specifying:
      <ul>
        <li><code class="language-plaintext highlighter-rouge">device_id</code> (string, default “”)</li>
        <li><code class="language-plaintext highlighter-rouge">channel</code> (int, default 0)</li>
        <li><code class="language-plaintext highlighter-rouge">gain</code> (number in dB, manual gain, default nil)</li>
        <li><code class="language-plaintext highlighter-rouge">bandwidth</code> (number in Hz, default 80% of sample rate)</li>
        <li><code class="language-plaintext highlighter-rouge">autogain</code> (bool, default true if manual gain is nil)</li>
      </ul>
    </li>
  </ul>

  <h6 id="type-signatures-21">Type Signatures</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">in</code> <em>ComplexFloat32</em> ➔❑</li>
  </ul>

  <h6 id="example-26">Example</h6>

  <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- Sink samples to a BladeRF at 433.92 MHz</span>
<span class="kd">local</span> <span class="n">snk</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">BladeRFSink</span><span class="p">(</span><span class="mi">433</span><span class="p">.</span><span class="mf">92e6</span><span class="p">)</span>

<span class="c1">-- Sink samples to a BladeRF at 915 MHz, with 10 dB overall gain and 5 MHz baseband bandwidth</span>
<span class="kd">local</span> <span class="n">snk</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">BladeRFSink</span><span class="p">(</span><span class="mf">915e6</span><span class="p">,</span> <span class="p">{</span><span class="n">gain</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span> <span class="n">bandwidth</span> <span class="o">=</span> <span class="mf">5e6</span><span class="p">})</span>
</code></pre></div>  </div>

</div>
<hr />

<div class="block">
  <h4 id="gnuplotplotsink">GnuplotPlotSink</h4>

  <p>Plot a real-valued signal in a gnuplot time plot. This sink requires the
gnuplot program. This sink should be used with relatively low sample rates,
as it does not skip any samples, or it may otherwise throttle a flow graph.</p>

  <h5 id="radiognuplotplotsinknumsamples-title-options"><code class="language-plaintext highlighter-rouge">radio.GnuplotPlotSink(num_samples[, title="", options={}])</code></h5>

  <h6 id="arguments-23">Arguments</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">num_samples</code> (<em>int</em>): Number of samples to plot</li>
    <li><code class="language-plaintext highlighter-rouge">title</code> (<em>string</em>): Title of plot</li>
    <li><code class="language-plaintext highlighter-rouge">options</code> (<em>table</em>): Additional options, specifying:
      <ul>
        <li><code class="language-plaintext highlighter-rouge">xlabel</code> (string, default “Sample Number”)</li>
        <li><code class="language-plaintext highlighter-rouge">ylabel</code> (string, default “Value”)</li>
        <li><code class="language-plaintext highlighter-rouge">yrange</code> (array of two numbers, default <code class="language-plaintext highlighter-rouge">nil</code>
for autoscale)</li>
        <li><code class="language-plaintext highlighter-rouge">extra_settings</code> (array of strings containing
gnuplot commands)</li>
      </ul>
    </li>
  </ul>

  <h6 id="type-signatures-22">Type Signatures</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">in</code> <em>Float32</em> ➔❑</li>
  </ul>

  <h6 id="example-27">Example</h6>

  <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- Plot a 1 kHz cosine sampled at 250 kHz</span>
<span class="kd">local</span> <span class="n">src</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">SignalSource</span><span class="p">(</span><span class="s1">'cosine'</span><span class="p">,</span> <span class="mf">1e3</span><span class="p">,</span> <span class="mf">250e3</span><span class="p">)</span>
<span class="kd">local</span> <span class="n">throttle</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">ThrottleBlock</span><span class="p">()</span>
<span class="kd">local</span> <span class="n">snk</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">GnuplotPlotSink</span><span class="p">(</span><span class="mi">1000</span><span class="p">,</span> <span class="s1">'Cosine'</span><span class="p">)</span>
<span class="n">top</span><span class="p">:</span><span class="n">connect</span><span class="p">(</span><span class="n">src</span><span class="p">,</span> <span class="n">throttle</span><span class="p">,</span> <span class="n">snk</span><span class="p">)</span>
</code></pre></div>  </div>

</div>
<hr />

<div class="block">
  <h4 id="gnuplotspectrumsink">GnuplotSpectrumSink</h4>

  <p>Plot the power spectrum of a complex or real-valued signal. This sink
requires the gnuplot program. The power spectral density is estimated with
Bartlett’s or Welch’s method of averaging periodograms.</p>

  <h5 id="radiognuplotspectrumsinknumsamples1024-title-options"><code class="language-plaintext highlighter-rouge">radio.GnuplotSpectrumSink([num_samples=1024, title="", options={}])</code></h5>

  <h6 id="arguments-24">Arguments</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">num_samples</code> (<em>int</em>): Number of samples in periodogram</li>
    <li><code class="language-plaintext highlighter-rouge">title</code> (<em>string</em>): Title of plot</li>
    <li><code class="language-plaintext highlighter-rouge">options</code> (<em>table</em>): Additional options, specifying:
      <ul>
        <li><code class="language-plaintext highlighter-rouge">update_time</code> (number, default 0.10 seconds)</li>
        <li><code class="language-plaintext highlighter-rouge">overlap</code> fraction (number from 0.0 to 1.0,
default 0.0)</li>
        <li><code class="language-plaintext highlighter-rouge">reference_level</code> (number, default 0.0 dB)</li>
        <li><code class="language-plaintext highlighter-rouge">window</code> (string, default “hamming”)</li>
        <li><code class="language-plaintext highlighter-rouge">onesided</code> (bool, default true)</li>
        <li><code class="language-plaintext highlighter-rouge">xrange</code> (array of two numbers, default <code class="language-plaintext highlighter-rouge">nil</code>
for autoscale)</li>
        <li><code class="language-plaintext highlighter-rouge">yrange</code> (array of two numbers, default <code class="language-plaintext highlighter-rouge">nil</code>
for autoscale)</li>
        <li><code class="language-plaintext highlighter-rouge">extra_settings</code> (array of strings containing
gnuplot commands)</li>
      </ul>
    </li>
  </ul>

  <h6 id="type-signatures-23">Type Signatures</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">in</code> <em>ComplexFloat32</em> ➔❑</li>
    <li><code class="language-plaintext highlighter-rouge">in</code> <em>Float32</em> ➔❑</li>
  </ul>

  <h6 id="example-28">Example</h6>

  <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- Plot the spectrum of a 1 kHz complex exponential sampled at 250 kHz</span>
<span class="kd">local</span> <span class="n">src</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">SignalSource</span><span class="p">(</span><span class="s1">'exponential'</span><span class="p">,</span> <span class="mf">1e3</span><span class="p">,</span> <span class="mf">250e3</span><span class="p">)</span>
<span class="kd">local</span> <span class="n">throttle</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">ThrottleBlock</span><span class="p">()</span>
<span class="kd">local</span> <span class="n">snk</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">GnuplotSpectrumSink</span><span class="p">()</span>
<span class="n">top</span><span class="p">:</span><span class="n">connect</span><span class="p">(</span><span class="n">src</span><span class="p">,</span> <span class="n">throttle</span><span class="p">,</span> <span class="n">snk</span><span class="p">)</span>
</code></pre></div>  </div>

</div>
<hr />

<div class="block">
  <h4 id="gnuplotwaterfallsink">GnuplotWaterfallSink</h4>

  <p>Plot the vertical power spectrogram (waterfall) of a complex or real-valued
signal. This sink requires the gnuplot program. The power spectral density
is estimated with Bartlett’s or Welch’s method of averaging periodograms.</p>

  <p>Note: this sink’s performance is currently limited and should only be used
with very low sample rates, or it may otherwise throttle a flow graph.</p>

  <h5 id="radiognuplotwaterfallsinknumsamples1024-title-options"><code class="language-plaintext highlighter-rouge">radio.GnuplotWaterfallSink([num_samples=1024, title="", options={}])</code></h5>

  <h6 id="arguments-25">Arguments</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">num_samples</code> (<em>int</em>): Number of samples in periodogram</li>
    <li><code class="language-plaintext highlighter-rouge">title</code> (<em>string</em>): Title of plot</li>
    <li><code class="language-plaintext highlighter-rouge">options</code> (<em>table</em>): Additional options, specifying:
      <ul>
        <li><code class="language-plaintext highlighter-rouge">update_time</code> (number, default 0.10 seconds)</li>
        <li><code class="language-plaintext highlighter-rouge">overlap</code> fraction (number from 0.0 to 1.0,
default 0.0)</li>
        <li><code class="language-plaintext highlighter-rouge">height</code> in rows (number, default 64)</li>
        <li><code class="language-plaintext highlighter-rouge">min_magnitude</code> (number, default -150.0 dB)</li>
        <li><code class="language-plaintext highlighter-rouge">max_magnitude</code> (number, default 0.0 dB)</li>
        <li><code class="language-plaintext highlighter-rouge">window</code> (string, default “hamming”)</li>
        <li><code class="language-plaintext highlighter-rouge">onesided</code> (boolean, default true)</li>
        <li><code class="language-plaintext highlighter-rouge">xrange</code> (array of two numbers, default <code class="language-plaintext highlighter-rouge">nil</code>
for autoscale)</li>
        <li><code class="language-plaintext highlighter-rouge">yrange</code> (array of two numbers, default <code class="language-plaintext highlighter-rouge">nil</code>
for autoscale)</li>
        <li><code class="language-plaintext highlighter-rouge">extra_settings</code> (array of strings containing
gnuplot commands)</li>
      </ul>
    </li>
  </ul>

  <h6 id="type-signatures-24">Type Signatures</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">in</code> <em>ComplexFloat32</em> ➔❑</li>
    <li><code class="language-plaintext highlighter-rouge">in</code> <em>Float32</em> ➔❑</li>
  </ul>

  <h6 id="example-29">Example</h6>

  <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- Plot the waterfall of a 1 kHz complex exponential sampled at 250 kHz</span>
<span class="kd">local</span> <span class="n">src</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">SignalSource</span><span class="p">(</span><span class="s1">'exponential'</span><span class="p">,</span> <span class="mf">1e3</span><span class="p">,</span> <span class="mf">250e3</span><span class="p">)</span>
<span class="kd">local</span> <span class="n">throttle</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">ThrottleBlock</span><span class="p">()</span>
<span class="kd">local</span> <span class="n">snk</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">GnuplotWaterfallSink</span><span class="p">()</span>
<span class="n">top</span><span class="p">:</span><span class="n">connect</span><span class="p">(</span><span class="n">src</span><span class="p">,</span> <span class="n">throttle</span><span class="p">,</span> <span class="n">snk</span><span class="p">)</span>
</code></pre></div>  </div>

</div>
<hr />

<div class="block">
  <h4 id="gnuplotxyplotsink">GnuplotXYPlotSink</h4>

  <p>Plot two real-valued signals, or the real and imaginary components of one
complex-valued signal, in a gnuplot XY plot. This sink requires the gnuplot
program. This sink should be used with relatively low sample rates, as it
does not skip any samples, or it may otherwise throttle a flow graph.</p>

  <h5 id="radiognuplotxyplotsinknumsamples-title-options"><code class="language-plaintext highlighter-rouge">radio.GnuplotXYPlotSink(num_samples[, title="", options={}])</code></h5>

  <h6 id="arguments-26">Arguments</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">num_samples</code> (<em>int</em>): Number of samples to plot</li>
    <li><code class="language-plaintext highlighter-rouge">title</code> (<em>string</em>): Title of plot</li>
    <li><code class="language-plaintext highlighter-rouge">options</code> (<em>table</em>): Additional options, specifying:
      <ul>
        <li><code class="language-plaintext highlighter-rouge">complex</code> (bool, default false)</li>
        <li><code class="language-plaintext highlighter-rouge">xlabel</code> (string, default “”)</li>
        <li><code class="language-plaintext highlighter-rouge">ylabel</code> (string, default “”)</li>
        <li><code class="language-plaintext highlighter-rouge">xrange</code> (array of two numbers, default <code class="language-plaintext highlighter-rouge">nil</code>
for autoscale)</li>
        <li><code class="language-plaintext highlighter-rouge">yrange</code> (array of two numbers, default <code class="language-plaintext highlighter-rouge">nil</code>
for autoscale)</li>
        <li><code class="language-plaintext highlighter-rouge">extra_settings</code> (array of strings containing
gnuplot commands)</li>
      </ul>
    </li>
  </ul>

  <h6 id="type-signatures-25">Type Signatures</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">x</code> <em>Float32</em>, <code class="language-plaintext highlighter-rouge">y</code> <em>Float32</em> ➔❑</li>
    <li><code class="language-plaintext highlighter-rouge">in</code> <em>ComplexFloat32</em> ➔❑</li>
  </ul>

  <h6 id="example-30">Example</h6>

  <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- Plot a 1 kHz complex exponential sampled at 250 kHz</span>
<span class="kd">local</span> <span class="n">src</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">SignalSource</span><span class="p">(</span><span class="s1">'exponential'</span><span class="p">,</span> <span class="mf">1e3</span><span class="p">,</span> <span class="mf">250e3</span><span class="p">)</span>
<span class="kd">local</span> <span class="n">throttle</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">ThrottleBlock</span><span class="p">()</span>
<span class="kd">local</span> <span class="n">snk</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">GnuplotXYPlotSink</span><span class="p">(</span><span class="mi">1000</span><span class="p">,</span> <span class="s1">'Complex Exponential'</span><span class="p">,</span> <span class="p">{</span><span class="n">complex</span> <span class="o">=</span> <span class="kc">true</span><span class="p">})</span>
<span class="n">top</span><span class="p">:</span><span class="n">connect</span><span class="p">(</span><span class="n">src</span><span class="p">,</span> <span class="n">throttle</span><span class="p">,</span> <span class="n">snk</span><span class="p">)</span>

<span class="c1">-- Plot two real-valued signals</span>
<span class="kd">local</span> <span class="n">snk</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">GnuplotXYPlotSink</span><span class="p">(</span><span class="mi">1000</span><span class="p">,</span> <span class="s1">'XY'</span><span class="p">)</span>
<span class="n">top</span><span class="p">:</span><span class="n">connect</span><span class="p">(</span><span class="n">src1</span><span class="p">,</span> <span class="s1">'out'</span><span class="p">,</span> <span class="n">snk</span><span class="p">,</span> <span class="s1">'x'</span><span class="p">)</span>
<span class="n">top</span><span class="p">:</span><span class="n">connect</span><span class="p">(</span><span class="n">src2</span><span class="p">,</span> <span class="s1">'out'</span><span class="p">,</span> <span class="n">snk</span><span class="p">,</span> <span class="s1">'y'</span><span class="p">)</span>
</code></pre></div>  </div>

</div>
<hr />

<div class="block">
  <h4 id="hackrfsink">HackRFSink</h4>

  <p>Sink a complex-valued signal to a HackRF One. This sink requires the
libhackrf library.</p>

  <h5 id="radiohackrfsinkfrequency-options"><code class="language-plaintext highlighter-rouge">radio.HackRFSink(frequency[, options={}])</code></h5>

  <h6 id="arguments-27">Arguments</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">frequency</code> (<em>number</em>): Tuning frequency in Hz</li>
    <li><code class="language-plaintext highlighter-rouge">options</code> (<em>table</em>): Additional options, specifying:
      <ul>
        <li><code class="language-plaintext highlighter-rouge">vga_gain</code> (int in dB, default 0 dB, range 0 to 47 dB, 1 dB step)</li>
        <li><code class="language-plaintext highlighter-rouge">bandwidth</code> (number in Hz, default round down from sample rate)</li>
        <li><code class="language-plaintext highlighter-rouge">rf_amplifier_enable</code> (bool, default false)</li>
        <li><code class="language-plaintext highlighter-rouge">antenna_power_enable</code> (bool, default false)</li>
      </ul>
    </li>
  </ul>

  <h6 id="type-signatures-26">Type Signatures</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">in</code> <em>ComplexFloat32</em> ➔❑</li>
  </ul>

  <h6 id="example-31">Example</h6>

  <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- Sink samples to 146 MHz</span>
<span class="kd">local</span> <span class="n">snk</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">HackRFSink</span><span class="p">(</span><span class="mf">146e6</span><span class="p">)</span>

<span class="c1">-- Sink samples to 433.92 MHz, with 1.75 MHz baseband bandwidth</span>
<span class="kd">local</span> <span class="n">src</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">HackRFSink</span><span class="p">(</span><span class="mi">433</span><span class="p">.</span><span class="mf">92e6</span><span class="p">,</span> <span class="p">{</span><span class="n">bandwidth</span> <span class="o">=</span> <span class="mi">1</span><span class="p">.</span><span class="mf">75e6</span><span class="p">})</span>

<span class="c1">-- Sink samples to 915 MHz, with 22 dB VGA gain</span>
<span class="kd">local</span> <span class="n">src</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">HackRFSink</span><span class="p">(</span><span class="mf">915e6</span><span class="p">,</span> <span class="p">{</span><span class="n">vga_gain</span> <span class="o">=</span> <span class="mi">22</span><span class="p">})</span>

<span class="c1">-- Sink samples to 144.390 MHz, with antenna power enabled</span>
<span class="kd">local</span> <span class="n">src</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">HackRFSink</span><span class="p">(</span><span class="mi">144</span><span class="p">.</span><span class="mf">390e6</span><span class="p">,</span> <span class="p">{</span><span class="n">antenna_power_enable</span> <span class="o">=</span> <span class="kc">true</span><span class="p">})</span>
</code></pre></div>  </div>

</div>
<hr />

<div class="block">
  <h4 id="iqfilesink">IQFileSink</h4>

  <p>Sink a complex-valued signal to a binary “IQ” file. The file format may be
8/16/32-bit signed/unsigned integers or 32/64-bit floats, in little or big
endianness, and will be interleaved as real component followed by imaginary
component.</p>

  <h5 id="radioiqfilesinkfile-format"><code class="language-plaintext highlighter-rouge">radio.IQFileSink(file, format)</code></h5>

  <h6 id="arguments-28">Arguments</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">file</code> (<em>string</em>|<em>file</em>|<em>int</em>): Filename, file object, or file descriptor</li>
    <li><code class="language-plaintext highlighter-rouge">format</code> (<em>string</em>): File format specifying signedness, bit width, and
                     endianness of samples. Choice of “s8”, “u8”, “u16le”,
                     “u16be”, “s16le”, “s16be”, “u32le”, “u32be”, “s32le”,
                     “s32be”, “f32le”, “f32be”, “f64le”, “f64be”.</li>
  </ul>

  <h6 id="type-signatures-27">Type Signatures</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">in</code> <em>ComplexFloat32</em> ➔❑</li>
  </ul>

  <h6 id="example-32">Example</h6>

  <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- Sink signed 8-bit IQ samples to a file</span>
<span class="kd">local</span> <span class="n">snk</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">IQFileSink</span><span class="p">(</span><span class="s1">'samples.s8.iq'</span><span class="p">,</span> <span class="s1">'s8'</span><span class="p">)</span>

<span class="c1">-- Sink little-endian 32-bit IQ samples to a file</span>
<span class="kd">local</span> <span class="n">snk</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">IQFileSink</span><span class="p">(</span><span class="s1">'samples.f32le.iq'</span><span class="p">,</span> <span class="s1">'f32le'</span><span class="p">)</span>

<span class="c1">-- Sink little-endian signed 16-bit IQ samples to stdout</span>
<span class="kd">local</span> <span class="n">snk</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">IQFileSink</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s1">'s16le'</span><span class="p">)</span>
</code></pre></div>  </div>

</div>
<hr />

<div class="block">
  <h4 id="jsonsink">JSONSink</h4>

  <p>Sink a signal to a file, serialized in JSON. Samples are serialized
individually and newline delimited. This sink accepts any data type that
implements <code class="language-plaintext highlighter-rouge">to_json()</code>.</p>

  <h5 id="radiojsonsinkfileiostdout"><code class="language-plaintext highlighter-rouge">radio.JSONSink([file=io.stdout])</code></h5>

  <h6 id="arguments-29">Arguments</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">file</code> (<em>string</em>|<em>file</em>|<em>int</em>): Filename, file object, or file descriptor</li>
  </ul>

  <h6 id="type-signatures-28">Type Signatures</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">in</code> <em>supported</em> ➔❑</li>
  </ul>

  <h6 id="example-33">Example</h6>

  <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- Sink JSON serialized samples to stdout</span>
<span class="kd">local</span> <span class="n">snk</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">JSONSink</span><span class="p">()</span>
<span class="n">top</span><span class="p">:</span><span class="n">connect</span><span class="p">(</span><span class="n">src</span><span class="p">,</span> <span class="n">snk</span><span class="p">)</span>

<span class="c1">-- Sink JSON serialized samples to a file</span>
<span class="kd">local</span> <span class="n">snk</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">JSONSink</span><span class="p">(</span><span class="s1">'out.json'</span><span class="p">)</span>
<span class="n">top</span><span class="p">:</span><span class="n">connect</span><span class="p">(</span><span class="n">src</span><span class="p">,</span> <span class="n">snk</span><span class="p">)</span>
</code></pre></div>  </div>

</div>
<hr />

<div class="block">
  <h4 id="networkclientsink">NetworkClientSink</h4>

  <p>Sink a signal to a network client. The sink supports TCP and UNIX socket
transports. The samples are serialized according to the specified
signedness, bit width, and endianness format.  Complex-valued signals are
interleaved as real component followed by imaginary component.  C structure
types are serialized raw with the “raw” format. Object types are serialized
as newline delimited JSON with the “json” format. The sink will
automatically reconnect on connection loss.</p>

  <h5 id="radionetworkclientsinkformat-transport-address-options"><code class="language-plaintext highlighter-rouge">radio.NetworkClientSink(format, transport, address[, options={}])</code></h5>

  <h6 id="arguments-30">Arguments</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">format</code> (<em>string</em>): Binary format of the samples specifying signedness,
                     bit width, and endianness of samples, or “raw” (for
                     raw serialization, useful for C structure types), or
                     “json” (for JSON serialization, useful for Object
                     types). Choice of “s8”, “u8”, “u16le”, “u16be”,
                     “s16le”, “s16be”, “u32le”, “u32be”, “s32le”, “s32be”,
                     “f32le”, “f32be”, “f64le”, “f64be”, “raw”, “json”.</li>
    <li><code class="language-plaintext highlighter-rouge">transport</code> (<em>string</em>): Transport type. Choice of “tcp” or “unix”.</li>
    <li><code class="language-plaintext highlighter-rouge">address</code> (<em>string</em>): Address, as host:port for TCP, or as a file path for
                      UNIX.</li>
    <li><code class="language-plaintext highlighter-rouge">options</code> (<em>table</em>): Additional options, specifying:
      <ul>
        <li><code class="language-plaintext highlighter-rouge">backpressure</code> (bool, default false, backpressure
samples on connection loss)</li>
      </ul>
    </li>
  </ul>

  <h6 id="type-signatures-29">Type Signatures</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">in</code> <em>ComplexFloat32</em> ➔❑</li>
    <li><code class="language-plaintext highlighter-rouge">in</code> <em>Float32</em> ➔❑</li>
    <li><code class="language-plaintext highlighter-rouge">in</code> <em>supported</em> ➔❑</li>
  </ul>

  <h6 id="example-34">Example</h6>

  <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- Sink ComplexFloat32 samples encoded as little-endian 32-bit float IQ to a</span>
<span class="c1">-- TCP client connected to 192.168.1.105:5000</span>
<span class="kd">local</span> <span class="n">snk</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">NetworkClientSink</span><span class="p">(</span><span class="s1">'f32le'</span><span class="p">,</span> <span class="s1">'tcp'</span><span class="p">,</span> <span class="s1">'192.168.1.105:5000'</span><span class="p">)</span>

<span class="c1">-- Sink Float32 samples encoded as little-endian 16-bit real to a UNIX</span>
<span class="c1">-- socket client connected to /tmp/radio.sock</span>
<span class="kd">local</span> <span class="n">snk</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">NetworkClientSink</span><span class="p">(</span><span class="s1">'s16le'</span><span class="p">,</span> <span class="s1">'unix'</span><span class="p">,</span> <span class="s1">'/tmp/radio.sock'</span><span class="p">)</span>

<span class="c1">-- Sink C structure type samples to a TCP client connected to</span>
<span class="c1">-- 192.168.1.105:5000</span>
<span class="kd">local</span> <span class="n">snk</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">NetworkClientSink</span><span class="p">(</span><span class="s1">'raw'</span><span class="p">,</span> <span class="s1">'tcp'</span><span class="p">,</span> <span class="s1">'192.168.1.105:5000'</span><span class="p">)</span>

<span class="c1">-- Sink a JSON serialized objects to a TCP client connected to</span>
<span class="c1">-- 192.168.1.105:5000</span>
<span class="kd">local</span> <span class="n">snk</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">NetworkClientSink</span><span class="p">(</span><span class="s1">'json'</span><span class="p">,</span> <span class="s1">'tcp'</span><span class="p">,</span> <span class="s1">'192.168.1.105:5000'</span><span class="p">)</span>
</code></pre></div>  </div>

</div>
<hr />

<div class="block">
  <h4 id="networkserversink">NetworkServerSink</h4>

  <p>Sink a signal to a network server. The sink supports TCP and UNIX socket
transports. The samples are serialized according to the specified
signedness, bit width, and endianness format.  Complex-valued signals are
interleaved as real component followed by imaginary component.  C structure
types are serialized raw with the “raw” format. Object types are serialized
as newline delimited JSON with the “json” format. The sink will
automatically reconnect on connection loss.</p>

  <h5 id="radionetworkserversinkformat-transport-address-options"><code class="language-plaintext highlighter-rouge">radio.NetworkServerSink(format, transport, address[, options={}])</code></h5>

  <h6 id="arguments-31">Arguments</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">format</code> (<em>string</em>): Binary format of the samples specifying signedness,
                     bit width, and endianness of samples, or “raw” (for
                     raw serialization, useful for C structure types), or
                     “json” (for JSON serialization, useful for Object
                     types). Choice of “s8”, “u8”, “u16le”, “u16be”,
                     “s16le”, “s16be”, “u32le”, “u32be”, “s32le”, “s32be”,
                     “f32le”, “f32be”, “f64le”, “f64be”, “raw”, “json”.</li>
    <li><code class="language-plaintext highlighter-rouge">transport</code> (<em>string</em>): Transport type. Choice of “tcp” or “unix”.</li>
    <li><code class="language-plaintext highlighter-rouge">address</code> (<em>string</em>): Address, as host:port for TCP, or as a file path for
                      UNIX.</li>
    <li><code class="language-plaintext highlighter-rouge">options</code> (<em>table</em>): Additional options, specifying:
      <ul>
        <li><code class="language-plaintext highlighter-rouge">backpressure</code> (bool, default false, backpressure
samples on connection loss)</li>
      </ul>
    </li>
  </ul>

  <h6 id="type-signatures-30">Type Signatures</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">in</code> <em>ComplexFloat32</em> ➔❑</li>
    <li><code class="language-plaintext highlighter-rouge">in</code> <em>Float32</em> ➔❑</li>
    <li><code class="language-plaintext highlighter-rouge">in</code> <em>supported</em> ➔❑</li>
  </ul>

  <h6 id="example-35">Example</h6>

  <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- Sink ComplexFloat32 samples encoded as little-endian 32-bit float IQ to a</span>
<span class="c1">-- TCP server listening on 0.0.0.0:5000</span>
<span class="kd">local</span> <span class="n">snk</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">NetworkServerSink</span><span class="p">(</span><span class="s1">'f32le'</span><span class="p">,</span> <span class="s1">'tcp'</span><span class="p">,</span> <span class="s1">'0.0.0.0:5000'</span><span class="p">)</span>

<span class="c1">-- Sink Float32 samples encoded as little-endian 16-bit real to a UNIX</span>
<span class="c1">-- socket server listening on /tmp/radio.sock</span>
<span class="kd">local</span> <span class="n">snk</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">NetworkServerSink</span><span class="p">(</span><span class="s1">'s16le'</span><span class="p">,</span> <span class="s1">'unix'</span><span class="p">,</span> <span class="s1">'/tmp/radio.sock'</span><span class="p">)</span>

<span class="c1">-- Sink C structure type samples to a TCP server listening on 0.0.0.0:5000</span>
<span class="kd">local</span> <span class="n">snk</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">NetworkServerSink</span><span class="p">(</span><span class="s1">'raw'</span><span class="p">,</span> <span class="s1">'tcp'</span><span class="p">,</span> <span class="s1">'0.0.0.0:5000'</span><span class="p">)</span>

<span class="c1">-- Sink JSON serialized objects to a TCP server listening on 0.0.0.0:5000</span>
<span class="kd">local</span> <span class="n">snk</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">NetworkServerSink</span><span class="p">(</span><span class="s1">'json'</span><span class="p">,</span> <span class="s1">'tcp'</span><span class="p">,</span> <span class="s1">'0.0.0.0:5000'</span><span class="p">)</span>
</code></pre></div>  </div>

</div>
<hr />

<div class="block">
  <h4 id="nopsink">NopSink</h4>

  <p>Sink a signal and do nothing. This sink accepts any data type.</p>

  <h5 id="radionopsink"><code class="language-plaintext highlighter-rouge">radio.NopSink()</code></h5>

  <h6 id="type-signatures-31">Type Signatures</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">in</code> <em>any</em> ➔❑</li>
  </ul>

  <h6 id="example-36">Example</h6>

  <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">local</span> <span class="n">snk</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">NopSink</span><span class="p">()</span>
<span class="n">top</span><span class="p">:</span><span class="n">connect</span><span class="p">(</span><span class="n">src</span><span class="p">,</span> <span class="n">snk</span><span class="p">)</span>
</code></pre></div>  </div>

</div>
<hr />

<div class="block">
  <h4 id="portaudiosink">PortAudioSink</h4>

  <p>Sink one or more real-valued signals to the system’s audio device with
PortAudio. This sink requires the PortAudio library.</p>

  <h5 id="radioportaudiosinknumchannels"><code class="language-plaintext highlighter-rouge">radio.PortAudioSink(num_channels)</code></h5>

  <h6 id="arguments-32">Arguments</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">num_channels</code> (<em>int</em>): Number of channels (e.g. 1 for mono, 2 for stereo)</li>
  </ul>

  <h6 id="type-signatures-32">Type Signatures</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">in</code> <em>Float32</em> ➔❑</li>
    <li><code class="language-plaintext highlighter-rouge">in1</code> <em>Float32</em>, <code class="language-plaintext highlighter-rouge">in2</code> <em>Float32</em>, <code class="language-plaintext highlighter-rouge">...</code> ➔❑</li>
  </ul>

  <h6 id="example-37">Example</h6>

  <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- Sink to one channel (mono) audio</span>
<span class="kd">local</span> <span class="n">snk</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">PortAudioSink</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">top</span><span class="p">:</span><span class="n">connect</span><span class="p">(</span><span class="n">src</span><span class="p">,</span> <span class="n">snk</span><span class="p">)</span>

<span class="c1">-- Sink to two channel (stereo) audio</span>
<span class="kd">local</span> <span class="n">snk</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">PortAudioSink</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="n">top</span><span class="p">:</span><span class="n">connect</span><span class="p">(</span><span class="n">src_left</span><span class="p">,</span> <span class="s1">'out'</span><span class="p">,</span> <span class="n">snk</span><span class="p">,</span> <span class="s1">'in1'</span><span class="p">)</span>
<span class="n">top</span><span class="p">:</span><span class="n">connect</span><span class="p">(</span><span class="n">src_right</span><span class="p">,</span> <span class="s1">'out'</span><span class="p">,</span> <span class="n">snk</span><span class="p">,</span> <span class="s1">'in2'</span><span class="p">)</span>
</code></pre></div>  </div>

</div>
<hr />

<div class="block">
  <h4 id="printsink">PrintSink</h4>

  <p>Sink a signal to a file, formatted as a string. Samples are formatted
individually and newline delimited. This sink accepts any data type that
implements <code class="language-plaintext highlighter-rouge">__tostring()</code>.</p>

  <h5 id="radioprintsinkfileiostdout-options"><code class="language-plaintext highlighter-rouge">radio.PrintSink([file=io.stdout, options={}])</code></h5>

  <h6 id="arguments-33">Arguments</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">file</code> (<em>string</em>|<em>file</em>|<em>int</em>): Filename, file object, or file descriptor</li>
    <li><code class="language-plaintext highlighter-rouge">options</code> (<em>table</em>): Additional options, specifying:
      <ul>
        <li><code class="language-plaintext highlighter-rouge">title</code> (string, default nil)</li>
        <li><code class="language-plaintext highlighter-rouge">timestamp</code> (bool, default false)</li>
      </ul>
    </li>
  </ul>

  <h6 id="type-signatures-33">Type Signatures</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">in</code> <em>supported</em> ➔❑</li>
  </ul>

  <h6 id="example-38">Example</h6>

  <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- Sink string formatted samples to stdout</span>
<span class="kd">local</span> <span class="n">snk</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">PrintSink</span><span class="p">()</span>
<span class="n">top</span><span class="p">:</span><span class="n">connect</span><span class="p">(</span><span class="n">src</span><span class="p">,</span> <span class="n">snk</span><span class="p">)</span>
</code></pre></div>  </div>

</div>
<hr />

<div class="block">
  <h4 id="pulseaudiosink">PulseAudioSink</h4>

  <p>Sink one or more real-valued signals to the system’s audio device with
PulseAudio. This sink requires PulseAudio.</p>

  <h5 id="radiopulseaudiosinknumchannels"><code class="language-plaintext highlighter-rouge">radio.PulseAudioSink(num_channels)</code></h5>

  <h6 id="arguments-34">Arguments</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">num_channels</code> (<em>int</em>): Number of channels (e.g. 1 for mono, 2 for stereo)</li>
  </ul>

  <h6 id="type-signatures-34">Type Signatures</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">in</code> <em>Float32</em> ➔❑</li>
    <li><code class="language-plaintext highlighter-rouge">in1</code> <em>Float32</em>, <code class="language-plaintext highlighter-rouge">in2</code> <em>Float32</em>, <code class="language-plaintext highlighter-rouge">...</code> ➔❑</li>
  </ul>

  <h6 id="example-39">Example</h6>

  <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- Sink to one channel (mono) audio</span>
<span class="kd">local</span> <span class="n">snk</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">PulseAudioSink</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">top</span><span class="p">:</span><span class="n">connect</span><span class="p">(</span><span class="n">src</span><span class="p">,</span> <span class="n">snk</span><span class="p">)</span>

<span class="c1">-- Sink to two channel (stereo) audio</span>
<span class="kd">local</span> <span class="n">snk</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">PulseAudioSink</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="n">top</span><span class="p">:</span><span class="n">connect</span><span class="p">(</span><span class="n">src_left</span><span class="p">,</span> <span class="s1">'out'</span><span class="p">,</span> <span class="n">snk</span><span class="p">,</span> <span class="s1">'in1'</span><span class="p">)</span>
<span class="n">top</span><span class="p">:</span><span class="n">connect</span><span class="p">(</span><span class="n">src_right</span><span class="p">,</span> <span class="s1">'out'</span><span class="p">,</span> <span class="n">snk</span><span class="p">,</span> <span class="s1">'in2'</span><span class="p">)</span>
</code></pre></div>  </div>

</div>
<hr />

<div class="block">
  <h4 id="rawfilesink">RawFileSink</h4>

  <p>Sink a signal to a binary file. The samples are serialized raw, in their
native binary representation, with no signedness conversion, endian
conversion, or interpretation. This is useful for serializing data types
across a pipe or other file descriptor based IPC.</p>

  <h5 id="radiorawfilesinkfile"><code class="language-plaintext highlighter-rouge">radio.RawFileSink(file)</code></h5>

  <h6 id="arguments-35">Arguments</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">file</code> (<em>string</em>|<em>file</em>|<em>int</em>): Filename, file object, or file descriptor</li>
  </ul>

  <h6 id="type-signatures-35">Type Signatures</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">in</code> <em>any</em> ➔❑</li>
  </ul>

  <h6 id="example-40">Example</h6>

  <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- Sink raw samples to a file</span>
<span class="kd">local</span> <span class="n">snk</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">RawFileSink</span><span class="p">(</span><span class="s1">'samples.raw'</span><span class="p">)</span>
<span class="n">top</span><span class="p">:</span><span class="n">connect</span><span class="p">(</span><span class="n">src</span><span class="p">,</span> <span class="n">snk</span><span class="p">)</span>

<span class="c1">-- Sink raw samples to file descriptor 3</span>
<span class="kd">local</span> <span class="n">snk</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">RawFileSink</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="n">top</span><span class="p">:</span><span class="n">connect</span><span class="p">(</span><span class="n">src</span><span class="p">,</span> <span class="n">snk</span><span class="p">)</span>
</code></pre></div>  </div>

</div>
<hr />

<div class="block">
  <h4 id="realfilesink">RealFileSink</h4>

  <p>Sink a real-valued signal to a binary file. The file format may be
8/16/32-bit signed/unsigned integers or 32/64-bit floats, in little or big
endianness. This is the real-valued counterpart of
<a href="#iqfilesink"><code class="language-plaintext highlighter-rouge">IQFileSink</code></a>.</p>

  <h5 id="radiorealfilesinkfile-format"><code class="language-plaintext highlighter-rouge">radio.RealFileSink(file, format)</code></h5>

  <h6 id="arguments-36">Arguments</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">file</code> (<em>string</em>|<em>file</em>|<em>int</em>): Filename, file object, or file descriptor</li>
    <li><code class="language-plaintext highlighter-rouge">format</code> (<em>string</em>): File format specifying signedness, bit width, and
                     endianness of samples. Choice of “s8”, “u8”, “u16le”,
                     “u16be”, “s16le”, “s16be”, “u32le”, “u32be”, “s32le”,
                     “s32be”, “f32le”, “f32be”, “f64le”, “f64be”.</li>
  </ul>

  <h6 id="type-signatures-36">Type Signatures</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">in</code> <em>Float32</em> ➔❑</li>
  </ul>

  <h6 id="example-41">Example</h6>

  <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- Sink signed 8-bit real samples to a file</span>
<span class="kd">local</span> <span class="n">snk</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">RealFileSink</span><span class="p">(</span><span class="s1">'samples.s8.real'</span><span class="p">,</span> <span class="s1">'s8'</span><span class="p">)</span>

<span class="c1">-- Sink little-endian 32-bit real samples to a file</span>
<span class="kd">local</span> <span class="n">snk</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">RealFileSink</span><span class="p">(</span><span class="s1">'samples.f32le.real'</span><span class="p">,</span> <span class="s1">'f32le'</span><span class="p">,</span> <span class="mf">1e6</span><span class="p">,</span> <span class="kc">true</span><span class="p">)</span>

<span class="c1">-- Sink little-endian signed 16-bit real samples to stdout</span>
<span class="kd">local</span> <span class="n">snk</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">RealFileSink</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s1">'s16le'</span><span class="p">)</span>
</code></pre></div>  </div>

</div>
<hr />

<div class="block">
  <h4 id="soapysdrsink">SoapySDRSink</h4>

  <p>Sink a complex-valued signal to a SoapySDR device. This sink requires
<a href="https://github.com/pothosware/SoapySDR">SoapySDR</a>.</p>

  <h5 id="radiosoapysdrsinkdriver-frequency-options"><code class="language-plaintext highlighter-rouge">radio.SoapySDRSink(driver, frequency[, options={}])</code></h5>

  <h6 id="arguments-37">Arguments</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">driver</code> (<em>string</em>|<em>table</em>): Driver string or key-value table</li>
    <li><code class="language-plaintext highlighter-rouge">frequency</code> (<em>number</em>): Tuning frequency in Hz</li>
    <li><code class="language-plaintext highlighter-rouge">options</code> (<em>table</em>): Additional options, specifying:
      <ul>
        <li><code class="language-plaintext highlighter-rouge">channel</code> (int, default 0)</li>
        <li><code class="language-plaintext highlighter-rouge">bandwidth</code> (number in Hz)</li>
        <li><code class="language-plaintext highlighter-rouge">autogain</code> (bool)</li>
        <li><code class="language-plaintext highlighter-rouge">antenna</code> (string)</li>
        <li><code class="language-plaintext highlighter-rouge">gain</code> (number in dB, overall gain)</li>
        <li><code class="language-plaintext highlighter-rouge">gains</code> (table, gain element name to value in dB)</li>
        <li><code class="language-plaintext highlighter-rouge">frequencies</code> (table, frequency element name to value in Hz)</li>
        <li><code class="language-plaintext highlighter-rouge">settings</code> (table, string key-value pairs of driver-specific settings)</li>
      </ul>
    </li>
  </ul>

  <h6 id="type-signatures-37">Type Signatures</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">in</code> <em>ComplexFloat32</em> ➔❑</li>
  </ul>

  <h6 id="example-42">Example</h6>

  <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- Sink samples to a HackRF at 433.92 MHz</span>
<span class="kd">local</span> <span class="n">snk</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">SoapySDRSink</span><span class="p">(</span><span class="s2">"driver=hackrf"</span><span class="p">,</span> <span class="mi">433</span><span class="p">.</span><span class="mf">92e6</span><span class="p">)</span>

<span class="c1">-- Sink samples to a LimeSDR at 915 MHz, with 10 dB overall gain and 5 MHz baseband bandwidth</span>
<span class="kd">local</span> <span class="n">snk</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">SoapySDRSink</span><span class="p">(</span><span class="s2">"driver=limesdr"</span><span class="p">,</span> <span class="mf">915e6</span><span class="p">,</span> <span class="p">{</span><span class="n">gain</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span> <span class="n">bandwidth</span> <span class="o">=</span> <span class="mf">5e6</span><span class="p">})</span>
</code></pre></div>  </div>

</div>
<hr />

<div class="block">
  <h4 id="uhdsink">UHDSink</h4>

  <p>Sink a complex-valued signal to a USRP. This sink requires the libuhd
library.</p>

  <h5 id="radiouhdsinkdeviceaddress-frequency-options"><code class="language-plaintext highlighter-rouge">radio.UHDSink(device_address, frequency[, options={}])</code></h5>

  <h6 id="arguments-38">Arguments</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">device_address</code> (<em>string</em>): Device address string</li>
    <li><code class="language-plaintext highlighter-rouge">frequency</code> (<em>number</em>): Tuning frequency in Hz</li>
    <li><code class="language-plaintext highlighter-rouge">options</code> (<em>table</em>): Additional options, specifying:
      <ul>
        <li><code class="language-plaintext highlighter-rouge">channel</code> (int, default 0)</li>
        <li><code class="language-plaintext highlighter-rouge">gain</code> (number in dB, overall gain, default 0.0 dB)</li>
        <li><code class="language-plaintext highlighter-rouge">bandwidth</code> (number in Hz)</li>
        <li><code class="language-plaintext highlighter-rouge">antenna</code> (string)</li>
        <li><code class="language-plaintext highlighter-rouge">gains</code> (table, gain element name to value in dB)</li>
      </ul>
    </li>
  </ul>

  <h6 id="type-signatures-38">Type Signatures</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">in</code> <em>ComplexFloat32</em> ➔❑</li>
  </ul>

  <h6 id="example-43">Example</h6>

  <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- Sink samples to a B200 at 433.92 MHz</span>
<span class="kd">local</span> <span class="n">snk</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">UHDSink</span><span class="p">(</span><span class="s2">"type=b200"</span><span class="p">,</span> <span class="mi">433</span><span class="p">.</span><span class="mf">92e6</span><span class="p">)</span>

<span class="c1">-- Sink samples to a B200 at 915 MHz, with 10 dB overall gain and 5 MHz baseband bandwidth</span>
<span class="kd">local</span> <span class="n">snk</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">UHDSink</span><span class="p">(</span><span class="s2">"type=b200"</span><span class="p">,</span> <span class="mf">915e6</span><span class="p">,</span> <span class="p">{</span><span class="n">gain</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span> <span class="n">bandwidth</span> <span class="o">=</span> <span class="mf">5e6</span><span class="p">})</span>
</code></pre></div>  </div>

</div>
<hr />

<div class="block">
  <h4 id="wavfilesink">WAVFileSink</h4>

  <p>Sink one or more real-valued signals to a WAV file. The supported sample
formats are 8-bit unsigned integer, 16-bit signed integer, and 32-bit signed
integer.</p>

  <h5 id="radiowavfilesinkfile-numchannels-bitspersample16"><code class="language-plaintext highlighter-rouge">radio.WAVFileSink(file, num_channels[, bits_per_sample=16])</code></h5>

  <h6 id="arguments-39">Arguments</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">file</code> (<em>string</em>|<em>file</em>|<em>int</em>): Filename, file object, or file descriptor</li>
    <li><code class="language-plaintext highlighter-rouge">num_channels</code> (<em>int</em>): Number of channels (e.g. 1 for mono, 2 for stereo, etc.)</li>
    <li><code class="language-plaintext highlighter-rouge">bits_per_sample</code> (<em>int</em>): Bits per sample, choice of 8, 16, or 32</li>
  </ul>

  <h6 id="type-signatures-39">Type Signatures</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">in</code> <em>Float32</em> ➔❑</li>
    <li><code class="language-plaintext highlighter-rouge">in1</code> <em>Float32</em>, <code class="language-plaintext highlighter-rouge">in2</code> <em>Float32</em>, <code class="language-plaintext highlighter-rouge">...</code> ➔❑</li>
  </ul>

  <h6 id="example-44">Example</h6>

  <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- Sink to a one channel WAV file</span>
<span class="kd">local</span> <span class="n">snk</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">WAVFileSink</span><span class="p">(</span><span class="s1">'test.wav'</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">top</span><span class="p">:</span><span class="n">connect</span><span class="p">(</span><span class="n">src</span><span class="p">,</span> <span class="n">snk</span><span class="p">)</span>

<span class="c1">-- Sink to a two channel WAV file</span>
<span class="kd">local</span> <span class="n">snk</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">WAVFileSink</span><span class="p">(</span><span class="s1">'test.wav'</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="n">top</span><span class="p">:</span><span class="n">connect</span><span class="p">(</span><span class="n">src1</span><span class="p">,</span> <span class="s1">'out'</span><span class="p">,</span> <span class="n">snk</span><span class="p">,</span> <span class="s1">'in1'</span><span class="p">)</span>
<span class="n">top</span><span class="p">:</span><span class="n">connect</span><span class="p">(</span><span class="n">src2</span><span class="p">,</span> <span class="s1">'out'</span><span class="p">,</span> <span class="n">snk</span><span class="p">,</span> <span class="s1">'in2'</span><span class="p">)</span>
</code></pre></div>  </div>

</div>
<hr />

<h3 id="filtering">Filtering</h3>

<div class="block">
  <h4 id="bandpassfilterblock">BandpassFilterBlock</h4>

  <p>Filter a complex or real valued signal with a real-valued FIR band-pass
filter generated by the window design method.</p>

\[y[n] = (x * h_{bpf})[n]\]

  <h5 id="radiobandpassfilterblocknumtaps-cutoffs-nyquistnil-windowhamming"><code class="language-plaintext highlighter-rouge">radio.BandpassFilterBlock(num_taps, cutoffs[, nyquist=nil, window='hamming'])</code></h5>

  <h6 id="arguments-40">Arguments</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">num_taps</code> (<em>int</em>): Number of FIR taps, must be odd</li>
    <li><code class="language-plaintext highlighter-rouge">cutoffs</code> (<em>{number,number}</em>): Cutoff frequencies in Hz</li>
    <li><code class="language-plaintext highlighter-rouge">nyquist</code> (<em>number</em>): Nyquist frequency, if specifying
                               normalized cutoff frequencies</li>
    <li><code class="language-plaintext highlighter-rouge">window</code> (<em>string</em>): Window type</li>
  </ul>

  <h6 id="type-signatures-40">Type Signatures</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">in</code> <em>ComplexFloat32</em> ➔❑➔ <code class="language-plaintext highlighter-rouge">out</code> <em>ComplexFloat32</em></li>
    <li><code class="language-plaintext highlighter-rouge">in</code> <em>Float32</em> ➔❑➔ <code class="language-plaintext highlighter-rouge">out</code> <em>Float32</em></li>
  </ul>

  <h6 id="example-45">Example</h6>

  <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- Bandpass filter, 128 taps, 18 kHz to 20 kHz</span>
<span class="kd">local</span> <span class="n">bpf</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">BandpassFilterBlock</span><span class="p">(</span><span class="mi">128</span><span class="p">,</span> <span class="p">{</span><span class="mf">18e3</span><span class="p">,</span> <span class="mf">20e3</span><span class="p">})</span>
</code></pre></div>  </div>

</div>
<hr />

<div class="block">
  <h4 id="bandstopfilterblock">BandstopFilterBlock</h4>

  <p>Filter a complex or real valued signal with a real-valued FIR band-stop
filter generated by the window design method.</p>

\[y[n] = (x * h_{bsf})[n]\]

  <h5 id="radiobandstopfilterblocknumtaps-cutoffs-nyquistnil-windowhamming"><code class="language-plaintext highlighter-rouge">radio.BandstopFilterBlock(num_taps, cutoffs[, nyquist=nil, window='hamming'])</code></h5>

  <h6 id="arguments-41">Arguments</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">num_taps</code> (<em>int</em>): Number of FIR taps, must be odd</li>
    <li><code class="language-plaintext highlighter-rouge">cutoffs</code> (<em>{number,number}</em>): Cutoff frequencies in Hz</li>
    <li><code class="language-plaintext highlighter-rouge">nyquist</code> (<em>number</em>): Nyquist frequency, if specifying
                               normalized cutoff frequencies</li>
    <li><code class="language-plaintext highlighter-rouge">window</code> (<em>string</em>): Window type</li>
  </ul>

  <h6 id="type-signatures-41">Type Signatures</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">in</code> <em>ComplexFloat32</em> ➔❑➔ <code class="language-plaintext highlighter-rouge">out</code> <em>ComplexFloat32</em></li>
    <li><code class="language-plaintext highlighter-rouge">in</code> <em>Float32</em> ➔❑➔ <code class="language-plaintext highlighter-rouge">out</code> <em>Float32</em></li>
  </ul>

  <h6 id="example-46">Example</h6>

  <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- Bandstop filter, 128 taps, 18 kHz to 20 kHz</span>
<span class="kd">local</span> <span class="n">bpf</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">BandstopFilterBlock</span><span class="p">(</span><span class="mi">128</span><span class="p">,</span> <span class="p">{</span><span class="mf">18e3</span><span class="p">,</span> <span class="mf">20e3</span><span class="p">})</span>
</code></pre></div>  </div>

</div>
<hr />

<div class="block">
  <h4 id="complexbandpassfilterblock">ComplexBandpassFilterBlock</h4>

  <p>Filter a complex-valued signal with a complex-valued FIR band-pass filter
generated by the window design method. This filter is asymmetric in the
frequency domain.</p>

\[y[n] = (x * h_{bpf})[n]\]

  <h5 id="radiocomplexbandpassfilterblocknumtaps-cutoffs-nyquistnil-windowhamming"><code class="language-plaintext highlighter-rouge">radio.ComplexBandpassFilterBlock(num_taps, cutoffs[, nyquist=nil, window='hamming'])</code></h5>

  <h6 id="arguments-42">Arguments</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">num_taps</code> (<em>int</em>): Number of FIR taps, must be odd</li>
    <li><code class="language-plaintext highlighter-rouge">cutoffs</code> (<em>{number,number}</em>): Cutoff frequencies in Hz</li>
    <li><code class="language-plaintext highlighter-rouge">nyquist</code> (<em>number</em>): Nyquist frequency, if specifying
                               normalized cutoff frequencies</li>
    <li><code class="language-plaintext highlighter-rouge">window</code> (<em>string</em>): Window type</li>
  </ul>

  <h6 id="type-signatures-42">Type Signatures</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">in</code> <em>ComplexFloat32</em> ➔❑➔ <code class="language-plaintext highlighter-rouge">out</code> <em>ComplexFloat32</em></li>
  </ul>

  <h6 id="example-47">Example</h6>

  <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- Complex bandpass filter, 128 taps, 18 kHz to 20 kHz</span>
<span class="kd">local</span> <span class="n">bpf1</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">BandpassFilterBlock</span><span class="p">(</span><span class="mi">128</span><span class="p">,</span> <span class="p">{</span><span class="mf">18e3</span><span class="p">,</span> <span class="mf">20e3</span><span class="p">})</span>

<span class="c1">-- Complex bandpass filter, 128 taps, -18 kHz to -20 kHz</span>
<span class="kd">local</span> <span class="n">bpf2</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">BandpassFilterBlock</span><span class="p">(</span><span class="mi">128</span><span class="p">,</span> <span class="p">{</span><span class="o">-</span><span class="mf">18e3</span><span class="p">,</span> <span class="o">-</span><span class="mf">20e3</span><span class="p">})</span>
</code></pre></div>  </div>

</div>
<hr />

<div class="block">
  <h4 id="complexbandstopfilterblock">ComplexBandstopFilterBlock</h4>

  <p>Filter a complex-valued signal with a complex-valued FIR band-stop filter
generated by the window design method. This filter is asymmetric in the
frequency domain.</p>

\[y[n] = (x * h_{bsf})[n]\]

  <h5 id="radiocomplexbandstopfilterblocknumtaps-cutoffs-nyquistnil-windowhamming"><code class="language-plaintext highlighter-rouge">radio.ComplexBandstopFilterBlock(num_taps, cutoffs[, nyquist=nil, window='hamming'])</code></h5>

  <h6 id="arguments-43">Arguments</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">num_taps</code> (<em>int</em>): Number of FIR taps, must be odd</li>
    <li><code class="language-plaintext highlighter-rouge">cutoffs</code> (<em>{number,number}</em>): Cutoff frequencies in Hz</li>
    <li><code class="language-plaintext highlighter-rouge">nyquist</code> (<em>number</em>): Nyquist frequency, if specifying
                               normalized cutoff frequencies</li>
    <li><code class="language-plaintext highlighter-rouge">window</code> (<em>string</em>): Window type</li>
  </ul>

  <h6 id="type-signatures-43">Type Signatures</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">in</code> <em>ComplexFloat32</em> ➔❑➔ <code class="language-plaintext highlighter-rouge">out</code> <em>ComplexFloat32</em></li>
  </ul>

  <h6 id="example-48">Example</h6>

  <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- Complex bandstop filter, 128 taps, 18 kHz to 20 kHz</span>
<span class="kd">local</span> <span class="n">bpf1</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">BandstopFilterBlock</span><span class="p">(</span><span class="mi">128</span><span class="p">,</span> <span class="p">{</span><span class="mf">18e3</span><span class="p">,</span> <span class="mf">20e3</span><span class="p">})</span>

<span class="c1">-- Complex bandstop filter, 128 taps, -18 kHz to -20 kHz</span>
<span class="kd">local</span> <span class="n">bpf2</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">BandstopFilterBlock</span><span class="p">(</span><span class="mi">128</span><span class="p">,</span> <span class="p">{</span><span class="o">-</span><span class="mf">18e3</span><span class="p">,</span> <span class="o">-</span><span class="mf">20e3</span><span class="p">})</span>
</code></pre></div>  </div>

</div>
<hr />

<div class="block">
  <h4 id="firfilterblock">FIRFilterBlock</h4>

  <p>Filter a complex or real valued signal with an FIR filter.</p>

\[y[n] = (x * h)[n]\]

\[y[n] = b_0 x[n] + b_1 x[n-1] + ... + b_N x[n-N]\]

  <h5 id="radiofirfilterblocktaps-useffttrue"><code class="language-plaintext highlighter-rouge">radio.FIRFilterBlock(taps[, use_fft=true])</code></h5>

  <h6 id="arguments-44">Arguments</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">taps</code> (<em>array</em>|<em>vector</em>): Real-valued taps specified with a number array or
                         a Float32 vector, or complex-valued taps specified
                         with a ComplexFloat32 vector</li>
    <li><code class="language-plaintext highlighter-rouge">use_fft</code> (<em>bool</em>): Use FFT overlap-save convolution. Defaults to true
                              when acceleration is available and taps length is
                              greater than 16</li>
  </ul>

  <h6 id="type-signatures-44">Type Signatures</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">in</code> <em>ComplexFloat32</em> ➔❑➔ <code class="language-plaintext highlighter-rouge">out</code> <em>ComplexFloat32</em></li>
    <li><code class="language-plaintext highlighter-rouge">in</code> <em>Float32</em> ➔❑➔ <code class="language-plaintext highlighter-rouge">out</code> <em>Float32</em></li>
  </ul>

  <h6 id="example-49">Example</h6>

  <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- Moving average FIR filter with 5 real taps</span>
<span class="kd">local</span> <span class="n">filter</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">FIRFilterBlock</span><span class="p">({</span><span class="mi">1</span><span class="o">/</span><span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">5</span><span class="p">})</span>

<span class="c1">-- Moving average FIR filter with 5 real taps</span>
<span class="kd">local</span> <span class="n">taps</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">types</span><span class="p">.</span><span class="n">Float32</span><span class="p">.</span><span class="n">vector</span><span class="p">({</span><span class="mi">1</span><span class="o">/</span><span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">5</span><span class="p">})</span>
<span class="kd">local</span> <span class="n">filter</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">FIRFilterBlock</span><span class="p">(</span><span class="n">taps</span><span class="p">)</span>

<span class="c1">-- FIR filter with 3 complex taps</span>
<span class="kd">local</span> <span class="n">taps</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">types</span><span class="p">.</span><span class="n">ComplexFloat32</span><span class="p">.</span><span class="n">vector</span><span class="p">({{</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">},</span> <span class="p">{</span><span class="mi">0</span><span class="p">.</span><span class="mi">5</span><span class="p">,</span> <span class="mi">0</span><span class="p">.</span><span class="mi">5</span><span class="p">},</span> <span class="p">{</span><span class="mi">0</span><span class="p">.</span><span class="mi">25</span><span class="p">,</span> <span class="mi">0</span><span class="p">.</span><span class="mi">25</span><span class="p">}})</span>
<span class="kd">local</span> <span class="n">filter</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">FIRFilterBlock</span><span class="p">(</span><span class="n">taps</span><span class="p">)</span>
</code></pre></div>  </div>

</div>
<hr />

<div class="block">
  <h4 id="fmdeemphasisfilterblock">FMDeemphasisFilterBlock</h4>

  <p>Filter a complex or real valued signal with an FM De-emphasis filter, a
single-pole low-pass IIR filter.</p>

\[y[n] = (x * h_{fmdeemph})[n]\]

  <h5 id="radiofmdeemphasisfilterblocktau"><code class="language-plaintext highlighter-rouge">radio.FMDeemphasisFilterBlock(tau)</code></h5>

  <h6 id="arguments-45">Arguments</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">tau</code> (<em>number</em>): Time constant of filter</li>
  </ul>

  <h6 id="type-signatures-45">Type Signatures</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">in</code> <em>Float32</em> ➔❑➔ <code class="language-plaintext highlighter-rouge">out</code> <em>Float32</em></li>
    <li><code class="language-plaintext highlighter-rouge">in</code> <em>ComplexFloat32</em> ➔❑➔ <code class="language-plaintext highlighter-rouge">out</code> <em>ComplexFloat32</em></li>
  </ul>

  <h6 id="example-50">Example</h6>

  <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- FM de-emphasis filter with 75uS time constant for the Americas</span>
<span class="kd">local</span> <span class="n">fmdeemph</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">FMDeemphasisFilterBlock</span><span class="p">(</span><span class="mf">75e-6</span><span class="p">)</span>
</code></pre></div>  </div>

</div>
<hr />

<div class="block">
  <h4 id="fmpreemphasisfilterblock">FMPreemphasisFilterBlock</h4>

  <p>Filter a complex or real valued signal with an FM Pre-emphasis filter, a
single-pole high-pass IIR filter.</p>

\[y[n] = (x * h_{fmpreemph})[n]\]

  <h5 id="radiofmpreemphasisfilterblocktau"><code class="language-plaintext highlighter-rouge">radio.FMPreemphasisFilterBlock(tau)</code></h5>

  <h6 id="arguments-46">Arguments</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">tau</code> (<em>number</em>): Time constant of filter</li>
  </ul>

  <h6 id="type-signatures-46">Type Signatures</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">in</code> <em>Float32</em> ➔❑➔ <code class="language-plaintext highlighter-rouge">out</code> <em>Float32</em></li>
    <li><code class="language-plaintext highlighter-rouge">in</code> <em>ComplexFloat32</em> ➔❑➔ <code class="language-plaintext highlighter-rouge">out</code> <em>ComplexFloat32</em></li>
  </ul>

  <h6 id="example-51">Example</h6>

  <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- FM pre-emphasis filter with 75uS time constant for the Americas</span>
<span class="kd">local</span> <span class="n">fmpreemph</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">FMPreemphasisFilterBlock</span><span class="p">(</span><span class="mf">75e-6</span><span class="p">)</span>
</code></pre></div>  </div>

</div>
<hr />

<div class="block">
  <h4 id="highpassfilterblock">HighpassFilterBlock</h4>

  <p>Filter a complex or real valued signal with a real-valued FIR high-pass
filter generated by the window design method.</p>

\[y[n] = (x * h_{hpf})[n]\]

  <h5 id="radiohighpassfilterblocknumtaps-cutoff-nyquistnil-windowhamming"><code class="language-plaintext highlighter-rouge">radio.HighpassFilterBlock(num_taps, cutoff[, nyquist=nil, window='hamming'])</code></h5>

  <h6 id="arguments-47">Arguments</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">num_taps</code> (<em>int</em>): Number of FIR taps, must be odd</li>
    <li><code class="language-plaintext highlighter-rouge">cutoff</code> (<em>number</em>): Cutoff frequency in Hz</li>
    <li><code class="language-plaintext highlighter-rouge">nyquist</code> (<em>number</em>): Nyquist frequency, if specifying a
                               normalized cutoff frequency</li>
    <li><code class="language-plaintext highlighter-rouge">window</code> (<em>string</em>): Window type</li>
  </ul>

  <h6 id="type-signatures-47">Type Signatures</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">in</code> <em>ComplexFloat32</em> ➔❑➔ <code class="language-plaintext highlighter-rouge">out</code> <em>ComplexFloat32</em></li>
    <li><code class="language-plaintext highlighter-rouge">in</code> <em>Float32</em> ➔❑➔ <code class="language-plaintext highlighter-rouge">out</code> <em>Float32</em></li>
  </ul>

  <h6 id="example-52">Example</h6>

  <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- Highpass filter, 128 taps, 18 kHz</span>
<span class="kd">local</span> <span class="n">hpf</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">HighpassFilterBlock</span><span class="p">(</span><span class="mi">128</span><span class="p">,</span> <span class="mf">18e3</span><span class="p">)</span>
</code></pre></div>  </div>

</div>
<hr />

<div class="block">
  <h4 id="iirfilterblock">IIRFilterBlock</h4>

  <p>Filter a complex or real valued signal with an IIR filter.</p>

\[y[n] = (x * h)[n]\]

\[\begin{align} y[n] = &amp;\frac{1}{a_0}(b_0 x[n] + b_1 x[n-1] + ... + b_N x[n-N] \\ - &amp;a_1 y[n-1] - a_2 y[n-2] - ... - a_M x[n-M])\end{align}\]

  <h5 id="radioiirfilterblockbtaps-ataps"><code class="language-plaintext highlighter-rouge">radio.IIRFilterBlock(b_taps, a_taps)</code></h5>

  <h6 id="arguments-48">Arguments</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">b_taps</code> (<em>array</em>|<em>vector</em>): Real-valued feedforward taps specified with a
                           number array or a Float32 vector</li>
    <li><code class="language-plaintext highlighter-rouge">a_taps</code> (<em>array</em>|<em>vector</em>): Real-valued feedback taps specified with a
                           number array or a Float32 vector, must be at
                           least length 1</li>
  </ul>

  <h6 id="type-signatures-48">Type Signatures</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">in</code> <em>Float32</em> ➔❑➔ <code class="language-plaintext highlighter-rouge">out</code> <em>Float32</em></li>
    <li><code class="language-plaintext highlighter-rouge">in</code> <em>ComplexFloat32</em> ➔❑➔ <code class="language-plaintext highlighter-rouge">out</code> <em>ComplexFloat32</em></li>
  </ul>

  <h6 id="example-53">Example</h6>

  <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- 2nd order Butterworth IIR filter, Wn=0.1</span>
<span class="kd">local</span> <span class="n">filter</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">IIRFilterBlock</span><span class="p">({</span><span class="mi">0</span><span class="p">.</span><span class="mi">02008337</span><span class="p">,</span>  <span class="mi">0</span><span class="p">.</span><span class="mi">04016673</span><span class="p">,</span>  <span class="mi">0</span><span class="p">.</span><span class="mi">02008337</span><span class="p">},</span>
                                    <span class="p">{</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">.</span><span class="mi">56101808</span><span class="p">,</span>  <span class="mi">0</span><span class="p">.</span><span class="mi">64135154</span><span class="p">})</span>

<span class="c1">-- 2nd order Butterworth IIR filter, Wn=0.1</span>
<span class="kd">local</span> <span class="n">b_taps</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">types</span><span class="p">.</span><span class="n">Float32</span><span class="p">.</span><span class="n">vector_from_array</span><span class="p">({</span><span class="mi">0</span><span class="p">.</span><span class="mi">02008337</span><span class="p">,</span>  <span class="mi">0</span><span class="p">.</span><span class="mi">04016673</span><span class="p">,</span>  <span class="mi">0</span><span class="p">.</span><span class="mi">02008337</span><span class="p">})</span>
<span class="kd">local</span> <span class="n">a_taps</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">types</span><span class="p">.</span><span class="n">Float32</span><span class="p">.</span><span class="n">vector_from_array</span><span class="p">({</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">.</span><span class="mi">56101808</span><span class="p">,</span>  <span class="mi">0</span><span class="p">.</span><span class="mi">64135154</span><span class="p">})</span>
<span class="kd">local</span> <span class="n">filter</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">IIRFilterBlock</span><span class="p">(</span><span class="n">b_taps</span><span class="p">,</span> <span class="n">a_taps</span><span class="p">)</span>
</code></pre></div>  </div>

</div>
<hr />

<div class="block">
  <h4 id="lowpassfilterblock">LowpassFilterBlock</h4>

  <p>Filter a complex or real valued signal with a real-valued FIR low-pass
filter generated by the window design method.</p>

\[y[n] = (x * h_{lpf})[n]\]

  <h5 id="radiolowpassfilterblocknumtaps-cutoff-nyquistnil-windowhamming"><code class="language-plaintext highlighter-rouge">radio.LowpassFilterBlock(num_taps, cutoff[, nyquist=nil, window='hamming'])</code></h5>

  <h6 id="arguments-49">Arguments</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">num_taps</code> (<em>int</em>): Number of FIR taps</li>
    <li><code class="language-plaintext highlighter-rouge">cutoff</code> (<em>number</em>): Cutoff frequency in Hz</li>
    <li><code class="language-plaintext highlighter-rouge">nyquist</code> (<em>number</em>): Nyquist frequency, if specifying a
                               normalized cutoff frequency</li>
    <li><code class="language-plaintext highlighter-rouge">window</code> (<em>string</em>): Window type</li>
  </ul>

  <h6 id="type-signatures-49">Type Signatures</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">in</code> <em>ComplexFloat32</em> ➔❑➔ <code class="language-plaintext highlighter-rouge">out</code> <em>ComplexFloat32</em></li>
    <li><code class="language-plaintext highlighter-rouge">in</code> <em>Float32</em> ➔❑➔ <code class="language-plaintext highlighter-rouge">out</code> <em>Float32</em></li>
  </ul>

  <h6 id="example-54">Example</h6>

  <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- Lowpass filter, 128 taps, 18 kHz</span>
<span class="kd">local</span> <span class="n">lpf</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">LowpassFilterBlock</span><span class="p">(</span><span class="mi">128</span><span class="p">,</span> <span class="mf">18e3</span><span class="p">)</span>
</code></pre></div>  </div>

</div>
<hr />

<div class="block">
  <h4 id="manchestermatchedfilterblock">ManchesterMatchedFilterBlock</h4>

  <p>Correlate a real valued signal with a matched filter of a 1 to 0 pulse
transition. The resulting signal will have positive peaks at 1 to 0
transitions and negative peaks at 0 to 1 transitions, representing
Manchester coded one and zero data bits, respectively.</p>

\[y[n] = (x * h_{mf})[n]\]

\[h_{-mf}[n] = \begin{cases} +1 &amp; 0 \le n \lt T \\ -1 &amp; T \le n \lt 2T \end{cases}\]

  <h5 id="radiomanchestermatchedfilterblockbaudrate-invertfalse"><code class="language-plaintext highlighter-rouge">radio.ManchesterMatchedFilterBlock(baudrate[, invert=false])</code></h5>

  <h6 id="arguments-50">Arguments</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">baudrate</code> (<em>number</em>): Baudrate of coded symbols in Hz</li>
    <li><code class="language-plaintext highlighter-rouge">invert</code> (<em>bool</em>): Invert matched filter</li>
  </ul>

  <h6 id="type-signatures-50">Type Signatures</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">in</code> <em>Float32</em> ➔❑➔ <code class="language-plaintext highlighter-rouge">out</code> <em>Float32</em></li>
  </ul>

  <h6 id="example-55">Example</h6>

  <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- Manchester coded matched filter with 32768 baudrate</span>
<span class="kd">local</span> <span class="n">matched_filter</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">ManchesterMatchedFilterBlock</span><span class="p">(</span><span class="mi">32768</span><span class="p">)</span>
</code></pre></div>  </div>

</div>
<hr />

<div class="block">
  <h4 id="pulsematchedfilterblock">PulseMatchedFilterBlock</h4>

  <p>Correlate a real valued signal with a matched filter of a pulse width of the
specified symbol rate. The resulting signal will have positive peaks at
positive pulses and negative peaks at negative pulses.</p>

\[y[n] = (x * h_{mf})[n]\]

\[h_{-mf}[n] = \begin{cases} 1 &amp; 0 \le n \lt T \\ 0 &amp; \text{otherwise} \end{cases}\]

  <h5 id="radiopulsematchedfilterblockbaudrate-invertfalse"><code class="language-plaintext highlighter-rouge">radio.PulseMatchedFilterBlock(baudrate[, invert=false])</code></h5>

  <h6 id="arguments-51">Arguments</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">baudrate</code> (<em>number</em>): Symbol baudrate in Hz</li>
    <li><code class="language-plaintext highlighter-rouge">invert</code> (<em>bool</em>): Invert matched filter</li>
  </ul>

  <h6 id="type-signatures-51">Type Signatures</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">in</code> <em>Float32</em> ➔❑➔ <code class="language-plaintext highlighter-rouge">out</code> <em>Float32</em></li>
  </ul>

  <h6 id="example-56">Example</h6>

  <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- Pulse matched filter with 32768 baudrate</span>
<span class="kd">local</span> <span class="n">matched_filter</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">PulseMatchedFilterBlock</span><span class="p">(</span><span class="mi">32768</span><span class="p">)</span>
</code></pre></div>  </div>

</div>
<hr />

<div class="block">
  <h4 id="rootraisedcosinefilterblock">RootRaisedCosineFilterBlock</h4>

  <p>Filter a complex or real valued signal with an FIR approximation of a root
raised cosine filter.</p>

\[y[n] = (x * h_{rrc})[n]\]

  <h5 id="radiorootraisedcosinefilterblocknumtaps-beta-symbolrate"><code class="language-plaintext highlighter-rouge">radio.RootRaisedCosineFilterBlock(num_taps, beta, symbol_rate)</code></h5>

  <h6 id="arguments-52">Arguments</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">num_taps</code> (<em>int</em>): Number of FIR taps, must be odd</li>
    <li><code class="language-plaintext highlighter-rouge">beta</code> (<em>number</em>): Roll-off factor</li>
    <li><code class="language-plaintext highlighter-rouge">symbol_rate</code> (<em>number</em>): Symbol rate in Hz</li>
  </ul>

  <h6 id="type-signatures-52">Type Signatures</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">in</code> <em>ComplexFloat32</em> ➔❑➔ <code class="language-plaintext highlighter-rouge">out</code> <em>ComplexFloat32</em></li>
    <li><code class="language-plaintext highlighter-rouge">in</code> <em>Float32</em> ➔❑➔ <code class="language-plaintext highlighter-rouge">out</code> <em>Float32</em></li>
  </ul>

  <h6 id="example-57">Example</h6>

  <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- Root raised cosine filter with 101 taps, 1.0 beta, 1187.5 symbol rate</span>
<span class="kd">local</span> <span class="n">rrcfilter</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">RootRaisedCosineFilterBlock</span><span class="p">(</span><span class="mi">101</span><span class="p">,</span> <span class="mi">1</span><span class="p">.</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1187</span><span class="p">.</span><span class="mi">5</span><span class="p">)</span>
</code></pre></div>  </div>

</div>
<hr />

<div class="block">
  <h4 id="singlepolehighpassfilterblock">SinglepoleHighpassFilterBlock</h4>

  <p>Filter a complex or real valued signal with a single-pole high-pass IIR
filter.</p>

\[H(s) = \frac{\tau s}{\tau s + 1}\]

\[H(z) = \frac{2\tau f_s}{1 + 2\tau f_s} \frac{1 - z^{-1}}{1 + (\frac{1 - 2\tau f_s}{1 + 2\tau f_s}) z^{-1}}\]

\[y[n] = \frac{2\tau f_s}{1 + 2\tau f_s} \; x[n] + \frac{2\tau f_s}{1 + 2\tau f_s} \; x[n-1] - \frac{1 - 2\tau f_s}{1 + 2\tau f_s} \; y[n-1]\]

  <h5 id="radiosinglepolehighpassfilterblockcutoff"><code class="language-plaintext highlighter-rouge">radio.SinglepoleHighpassFilterBlock(cutoff)</code></h5>

  <h6 id="arguments-53">Arguments</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">cutoff</code> (<em>number</em>): Cutoff frequency in Hz</li>
  </ul>

  <h6 id="type-signatures-53">Type Signatures</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">in</code> <em>Float32</em> ➔❑➔ <code class="language-plaintext highlighter-rouge">out</code> <em>Float32</em></li>
    <li><code class="language-plaintext highlighter-rouge">in</code> <em>ComplexFloat32</em> ➔❑➔ <code class="language-plaintext highlighter-rouge">out</code> <em>ComplexFloat32</em></li>
  </ul>

  <h6 id="example-58">Example</h6>

  <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- Single-pole highpass filter with 100 Hz cutoff</span>
<span class="kd">local</span> <span class="n">hpf</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">SinglepoleHighpassFilterBlock</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
</code></pre></div>  </div>

</div>
<hr />

<div class="block">
  <h4 id="singlepolelowpassfilterblock">SinglepoleLowpassFilterBlock</h4>

  <p>Filter a complex or real valued signal with a single-pole low-pass IIR
filter.</p>

\[H(s) = \frac{1}{\tau s + 1}\]

\[H(z) = \frac{1}{1 + 2\tau f_s} \frac{1 + z^{-1}}{1 + (\frac{1 - 2\tau f_s}{1 + 2\tau f_s}) z^{-1}}\]

\[y[n] = \frac{1}{1 + 2\tau f_s} \; x[n] + \frac{1}{1 + 2\tau f_s} \; x[n-1] - \frac{1 - 2\tau f_s}{1 + 2\tau f_s} \; y[n-1]\]

  <h5 id="radiosinglepolelowpassfilterblockcutoff"><code class="language-plaintext highlighter-rouge">radio.SinglepoleLowpassFilterBlock(cutoff)</code></h5>

  <h6 id="arguments-54">Arguments</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">cutoff</code> (<em>number</em>): Cutoff frequency in Hz</li>
  </ul>

  <h6 id="type-signatures-54">Type Signatures</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">in</code> <em>Float32</em> ➔❑➔ <code class="language-plaintext highlighter-rouge">out</code> <em>Float32</em></li>
    <li><code class="language-plaintext highlighter-rouge">in</code> <em>ComplexFloat32</em> ➔❑➔ <code class="language-plaintext highlighter-rouge">out</code> <em>ComplexFloat32</em></li>
  </ul>

  <h6 id="example-59">Example</h6>

  <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- Single-pole lowpass filter with 100 kHz cutoff</span>
<span class="kd">local</span> <span class="n">lpf</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">SinglepoleLowpassFilterBlock</span><span class="p">(</span><span class="mf">100e3</span><span class="p">)</span>
</code></pre></div>  </div>

</div>
<hr />

<h3 id="math-operations">Math Operations</h3>

<div class="block">
  <h4 id="absolutevalueblock">AbsoluteValueBlock</h4>

  <p>Compute the absolute value of a real-valued signal.</p>

\[y[n] = \text{abs}(x[n])\]

  <h5 id="radioabsolutevalueblock"><code class="language-plaintext highlighter-rouge">radio.AbsoluteValueBlock()</code></h5>

  <h6 id="type-signatures-55">Type Signatures</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">in</code> <em>Float32</em> ➔❑➔ <code class="language-plaintext highlighter-rouge">out</code> <em>Float32</em></li>
  </ul>

  <h6 id="example-60">Example</h6>

  <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">local</span> <span class="n">abs</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">AbsoluteValueBlock</span><span class="p">()</span>
</code></pre></div>  </div>

</div>
<hr />

<div class="block">
  <h4 id="addblock">AddBlock</h4>

  <p>Add two complex or real valued signals.</p>

\[y[n] = x_{1}[n] + x_{2}[n]\]

  <h5 id="radioaddblock"><code class="language-plaintext highlighter-rouge">radio.AddBlock()</code></h5>

  <h6 id="type-signatures-56">Type Signatures</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">in1</code> <em>ComplexFloat32</em>, <code class="language-plaintext highlighter-rouge">in2</code> <em>ComplexFloat32</em> ➔❑➔ <code class="language-plaintext highlighter-rouge">out</code> <em>ComplexFloat32</em></li>
    <li><code class="language-plaintext highlighter-rouge">in1</code> <em>Float32</em>, <code class="language-plaintext highlighter-rouge">in2</code> <em>Float32</em> ➔❑➔ <code class="language-plaintext highlighter-rouge">out</code> <em>Float32</em></li>
  </ul>

  <h6 id="example-61">Example</h6>

  <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">local</span> <span class="n">summer</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">AddBlock</span><span class="p">()</span>
<span class="n">top</span><span class="p">:</span><span class="n">connect</span><span class="p">(</span><span class="n">src1</span><span class="p">,</span> <span class="s1">'out'</span><span class="p">,</span> <span class="n">summer</span><span class="p">,</span> <span class="s1">'in1'</span><span class="p">)</span>
<span class="n">top</span><span class="p">:</span><span class="n">connect</span><span class="p">(</span><span class="n">src2</span><span class="p">,</span> <span class="s1">'out'</span><span class="p">,</span> <span class="n">summer</span><span class="p">,</span> <span class="s1">'in2'</span><span class="p">)</span>
<span class="n">top</span><span class="p">:</span><span class="n">connect</span><span class="p">(</span><span class="n">summer</span><span class="p">,</span> <span class="n">snk</span><span class="p">)</span>
</code></pre></div>  </div>

</div>
<hr />

<div class="block">
  <h4 id="addconstantblock">AddConstantBlock</h4>

  <p>Add a real-valued constant to a complex or real valued signal, or a
complex-valued constant to a complex-valued signal.</p>

\[y[n] = x[n] + C\]

  <h5 id="radioaddconstantblockconstant"><code class="language-plaintext highlighter-rouge">radio.AddConstantBlock(constant)</code></h5>

  <h6 id="arguments-55">Arguments</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">constant</code> (<em>number</em>|<em>Float32</em>|<em>ComplexFloat32</em>): Constant</li>
  </ul>

  <h6 id="type-signatures-57">Type Signatures</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">in</code> <em>Float32</em> ➔❑➔ <code class="language-plaintext highlighter-rouge">out</code> <em>Float32</em></li>
    <li><code class="language-plaintext highlighter-rouge">in</code> <em>ComplexFloat32</em> ➔❑➔ <code class="language-plaintext highlighter-rouge">out</code> <em>ComplexFloat32</em></li>
  </ul>

  <h6 id="example-62">Example</h6>

  <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- Add a number (Float32) constant</span>
<span class="kd">local</span> <span class="n">addconstant</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">AddConstantBlock</span><span class="p">(</span><span class="mi">1</span><span class="p">.</span><span class="mi">0</span><span class="p">)</span>

<span class="c1">-- Add a Float32 constant</span>
<span class="kd">local</span> <span class="n">addconstant</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">AddConstantBlock</span><span class="p">(</span><span class="n">radio</span><span class="p">.</span><span class="n">types</span><span class="p">.</span><span class="n">Float32</span><span class="p">(</span><span class="mi">1</span><span class="p">.</span><span class="mi">0</span><span class="p">))</span>

<span class="c1">-- Add a ComplexFloat32 constant</span>
<span class="kd">local</span> <span class="n">addconstant</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">AddConstantBlock</span><span class="p">(</span><span class="n">radio</span><span class="p">.</span><span class="n">types</span><span class="p">.</span><span class="n">ComplexFloat32</span><span class="p">(</span><span class="mi">1</span><span class="p">.</span><span class="mi">0</span><span class="p">))</span>
</code></pre></div>  </div>

</div>
<hr />

<div class="block">
  <h4 id="complexconjugateblock">ComplexConjugateBlock</h4>

  <p>Compute the complex conjugate of a complex-valued signal.</p>

\[y[n] = x^*[n]\]

  <h5 id="radiocomplexconjugateblock"><code class="language-plaintext highlighter-rouge">radio.ComplexConjugateBlock()</code></h5>

  <h6 id="type-signatures-58">Type Signatures</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">in</code> <em>ComplexFloat32</em> ➔❑➔ <code class="language-plaintext highlighter-rouge">out</code> <em>ComplexFloat32</em></li>
  </ul>

  <h6 id="example-63">Example</h6>

  <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">local</span> <span class="n">conj</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">ComplexConjugateBlock</span><span class="p">()</span>
</code></pre></div>  </div>

</div>
<hr />

<div class="block">
  <h4 id="complexmagnitudeblock">ComplexMagnitudeBlock</h4>

  <p>Compute the magnitude of a complex-valued signal.</p>

\[y[n] = |x[n]|\]

\[y[n] = \sqrt{\text{Re}(x[n])^2 + \text{Im}(x[n])^2}\]

  <h5 id="radiocomplexmagnitudeblock"><code class="language-plaintext highlighter-rouge">radio.ComplexMagnitudeBlock()</code></h5>

  <h6 id="type-signatures-59">Type Signatures</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">in</code> <em>ComplexFloat32</em> ➔❑➔ <code class="language-plaintext highlighter-rouge">out</code> <em>Float32</em></li>
  </ul>

  <h6 id="example-64">Example</h6>

  <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">local</span> <span class="n">magnitude</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">ComplexMagnitudeBlock</span><span class="p">()</span>
</code></pre></div>  </div>

</div>
<hr />

<div class="block">
  <h4 id="complexphaseblock">ComplexPhaseBlock</h4>

  <p>Compute the argument (phase) of a complex-valued signal.</p>

\[y[n] = \text{arg}(x[n])\]

\[y[n] = \text{atan2}(\text{Im}(x[n]), \text{Re}(x[n]))\]

  <h5 id="radiocomplexphaseblock"><code class="language-plaintext highlighter-rouge">radio.ComplexPhaseBlock()</code></h5>

  <h6 id="type-signatures-60">Type Signatures</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">in</code> <em>ComplexFloat32</em> ➔❑➔ <code class="language-plaintext highlighter-rouge">out</code> <em>Float32</em></li>
  </ul>

  <h6 id="example-65">Example</h6>

  <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">local</span> <span class="n">phase</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">ComplexPhaseBlock</span><span class="p">()</span>
</code></pre></div>  </div>

</div>
<hr />

<div class="block">
  <h4 id="multiplyblock">MultiplyBlock</h4>

  <p>Multiply two complex or real valued signals.</p>

\[y[n] = x_{1}[n] \; x_{2}[n]\]

  <h5 id="radiomultiplyblock"><code class="language-plaintext highlighter-rouge">radio.MultiplyBlock()</code></h5>

  <h6 id="type-signatures-61">Type Signatures</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">in1</code> <em>ComplexFloat32</em>, <code class="language-plaintext highlighter-rouge">in2</code> <em>ComplexFloat32</em> ➔❑➔ <code class="language-plaintext highlighter-rouge">out</code> <em>ComplexFloat32</em></li>
    <li><code class="language-plaintext highlighter-rouge">in1</code> <em>Float32</em>, <code class="language-plaintext highlighter-rouge">in2</code> <em>Float32</em> ➔❑➔ <code class="language-plaintext highlighter-rouge">out</code> <em>Float32</em></li>
  </ul>

  <h6 id="example-66">Example</h6>

  <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">local</span> <span class="n">multiplier</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">MultipyBlock</span><span class="p">()</span>
<span class="n">top</span><span class="p">:</span><span class="n">connect</span><span class="p">(</span><span class="n">src1</span><span class="p">,</span> <span class="s1">'out'</span><span class="p">,</span> <span class="n">multiplier</span><span class="p">,</span> <span class="s1">'in1'</span><span class="p">)</span>
<span class="n">top</span><span class="p">:</span><span class="n">connect</span><span class="p">(</span><span class="n">src2</span><span class="p">,</span> <span class="s1">'out'</span><span class="p">,</span> <span class="n">multiplier</span><span class="p">,</span> <span class="s1">'in2'</span><span class="p">)</span>
<span class="n">top</span><span class="p">:</span><span class="n">connect</span><span class="p">(</span><span class="n">multiplier</span><span class="p">,</span> <span class="n">snk</span><span class="p">)</span>
</code></pre></div>  </div>

</div>
<hr />

<div class="block">
  <h4 id="multiplyconjugateblock">MultiplyConjugateBlock</h4>

  <p>Multiply a complex-valued signal by the complex conjugate of another
complex-valued signal.</p>

\[y[n] = x_{1}[n] \; x_{2}^*[n]\]

  <h5 id="radiomultiplyconjugateblock"><code class="language-plaintext highlighter-rouge">radio.MultiplyConjugateBlock()</code></h5>

  <h6 id="type-signatures-62">Type Signatures</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">in1</code> <em>ComplexFloat32</em>, <code class="language-plaintext highlighter-rouge">in2</code> <em>ComplexFloat32</em> ➔❑➔ <code class="language-plaintext highlighter-rouge">out</code> <em>ComplexFloat32</em></li>
  </ul>

  <h6 id="example-67">Example</h6>

  <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">local</span> <span class="n">multiplier</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">MultipyConjugateBlock</span><span class="p">()</span>
<span class="n">top</span><span class="p">:</span><span class="n">connect</span><span class="p">(</span><span class="n">src1</span><span class="p">,</span> <span class="s1">'out'</span><span class="p">,</span> <span class="n">multiplier</span><span class="p">,</span> <span class="s1">'in1'</span><span class="p">)</span>
<span class="n">top</span><span class="p">:</span><span class="n">connect</span><span class="p">(</span><span class="n">src2</span><span class="p">,</span> <span class="s1">'out'</span><span class="p">,</span> <span class="n">multiplier</span><span class="p">,</span> <span class="s1">'in2'</span><span class="p">)</span>
<span class="n">top</span><span class="p">:</span><span class="n">connect</span><span class="p">(</span><span class="n">multiplier</span><span class="p">,</span> <span class="n">snk</span><span class="p">)</span>
</code></pre></div>  </div>

</div>
<hr />

<div class="block">
  <h4 id="multiplyconstantblock">MultiplyConstantBlock</h4>

  <p>Multiply a complex or real valued signal by a real-valued constant, or
multiply a complex-valued signal by a complex-valued constant.</p>

\[y[n] = C \; x[n]\]

  <h5 id="radiomultiplyconstantblockconstant"><code class="language-plaintext highlighter-rouge">radio.MultiplyConstantBlock(constant)</code></h5>

  <h6 id="arguments-56">Arguments</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">constant</code> (<em>number</em>|<em>Float32</em>|<em>ComplexFloat32</em>): Constant</li>
  </ul>

  <h6 id="type-signatures-63">Type Signatures</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">in</code> <em>Float32</em> ➔❑➔ <code class="language-plaintext highlighter-rouge">out</code> <em>Float32</em></li>
    <li><code class="language-plaintext highlighter-rouge">in</code> <em>ComplexFloat32</em> ➔❑➔ <code class="language-plaintext highlighter-rouge">out</code> <em>ComplexFloat32</em></li>
  </ul>

  <h6 id="example-68">Example</h6>

  <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- Multiply by number (Float32) constant</span>
<span class="kd">local</span> <span class="n">gain</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">MultiplyConstantBlock</span><span class="p">(</span><span class="mi">5</span><span class="p">.</span><span class="mi">0</span><span class="p">)</span>

<span class="c1">-- Multiply by Float32 constant</span>
<span class="kd">local</span> <span class="n">gain</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">MultiplyConstantBlock</span><span class="p">(</span><span class="n">radio</span><span class="p">.</span><span class="n">types</span><span class="p">.</span><span class="n">Float32</span><span class="p">(</span><span class="mi">5</span><span class="p">.</span><span class="mi">0</span><span class="p">))</span>

<span class="c1">-- Complex rotation by 45 degrees</span>
<span class="kd">local</span> <span class="n">rotator</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">MultiplyConstantBlock</span><span class="p">(</span><span class="n">radio</span><span class="p">.</span><span class="n">types</span><span class="p">.</span><span class="n">ComplexFloat32</span><span class="p">(</span><span class="nb">math.cos</span><span class="p">(</span><span class="nb">math.pi</span><span class="o">/</span><span class="mi">4</span><span class="p">),</span>
                                                                       <span class="nb">math.sin</span><span class="p">(</span><span class="nb">math.pi</span><span class="o">/</span><span class="mi">4</span><span class="p">)))</span>
</code></pre></div>  </div>

</div>
<hr />

<div class="block">
  <h4 id="subtractblock">SubtractBlock</h4>

  <p>Subtract two complex or real valued signals.</p>

\[y[n] = x_{1}[n] - x_{2}[n]\]

  <h5 id="radiosubtractblock"><code class="language-plaintext highlighter-rouge">radio.SubtractBlock()</code></h5>

  <h6 id="type-signatures-64">Type Signatures</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">in1</code> <em>ComplexFloat32</em>, <code class="language-plaintext highlighter-rouge">in2</code> <em>ComplexFloat32</em> ➔❑➔ <code class="language-plaintext highlighter-rouge">out</code> <em>ComplexFloat32</em></li>
    <li><code class="language-plaintext highlighter-rouge">in1</code> <em>Float32</em>, <code class="language-plaintext highlighter-rouge">in2</code> <em>Float32</em> ➔❑➔ <code class="language-plaintext highlighter-rouge">out</code> <em>Float32</em></li>
  </ul>

  <h6 id="example-69">Example</h6>

  <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">local</span> <span class="n">subtractor</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">SubtractBlock</span><span class="p">()</span>
<span class="n">top</span><span class="p">:</span><span class="n">connect</span><span class="p">(</span><span class="n">src1</span><span class="p">,</span> <span class="s1">'out'</span><span class="p">,</span> <span class="n">subtractor</span><span class="p">,</span> <span class="s1">'in1'</span><span class="p">)</span>
<span class="n">top</span><span class="p">:</span><span class="n">connect</span><span class="p">(</span><span class="n">src2</span><span class="p">,</span> <span class="s1">'out'</span><span class="p">,</span> <span class="n">subtractor</span><span class="p">,</span> <span class="s1">'in2'</span><span class="p">)</span>
<span class="n">top</span><span class="p">:</span><span class="n">connect</span><span class="p">(</span><span class="n">subtractor</span><span class="p">,</span> <span class="n">snk</span><span class="p">)</span>
</code></pre></div>  </div>

</div>
<hr />

<h3 id="level-control">Level Control</h3>

<div class="block">
  <h4 id="agcblock">AGCBlock</h4>

  <p>Apply automatic gain to a real or complex valued signal to maintain an
average target power.</p>

\[y[n] = \text{AGC}(x[n], \text{mode}, \text{target}, \text{threshold})\]

  <p>Implementation note: this is a feedforward AGC. The <code class="language-plaintext highlighter-rouge">power_tau</code> time
constant controls the moving average of the power estimator. The <code class="language-plaintext highlighter-rouge">gain_tau</code>
time constant controls the speed of the gain adjustment. The gain has
symmetric attack and decay dynamics.</p>

  <h5 id="radioagcblockmode-target-35-threshold-75-options"><code class="language-plaintext highlighter-rouge">radio.AGCBlock(mode[, target=-35, threshold=-75, options={}])</code></h5>

  <h6 id="arguments-57">Arguments</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">mode</code> (<em>string</em>): Mode, choice of “fast”, “slow”, “custom”</li>
    <li><code class="language-plaintext highlighter-rouge">target</code> (<em>number</em>): Target power in dBFS</li>
    <li><code class="language-plaintext highlighter-rouge">threshold</code> (<em>number</em>): Threshold power in dBFS</li>
    <li><code class="language-plaintext highlighter-rouge">options</code> (<em>table</em>): Additional options, specifying:
      <ul>
        <li><code class="language-plaintext highlighter-rouge">gain_tau</code> (number, default 0.1 seconds for
fast, 3.0 seconds for slow)</li>
        <li><code class="language-plaintext highlighter-rouge">power_tau</code> (number, default 1.0 seconds)</li>
      </ul>
    </li>
  </ul>

  <h6 id="type-signatures-65">Type Signatures</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">in</code> <em>Float32</em> ➔❑➔ <code class="language-plaintext highlighter-rouge">out</code> <em>Float32</em></li>
    <li><code class="language-plaintext highlighter-rouge">in</code> <em>ComplexFloat32</em> ➔❑➔ <code class="language-plaintext highlighter-rouge">out</code> <em>ComplexFloat32</em></li>
  </ul>

  <h6 id="example-70">Example</h6>

  <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- Automatic gain control with fast gain</span>
<span class="kd">local</span> <span class="n">agc</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">AGCBlock</span><span class="p">(</span><span class="s1">'fast'</span><span class="p">)</span>

<span class="c1">-- Automatic gain control with slow gain, -20 dbFS target</span>
<span class="kd">local</span> <span class="n">agc</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">AGCBlock</span><span class="p">(</span><span class="s1">'slow'</span><span class="p">,</span> <span class="o">-</span><span class="mi">20</span><span class="p">)</span>

<span class="c1">-- Automatic gain control with custom time constant, -30 dbFS target, -100 dbFS threshold</span>
<span class="kd">local</span> <span class="n">agc</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">AGCBlock</span><span class="p">(</span><span class="s1">'custom'</span><span class="p">,</span> <span class="o">-</span><span class="mi">30</span><span class="p">,</span> <span class="o">-</span><span class="mi">100</span><span class="p">,</span> <span class="p">{</span><span class="n">gain_tau</span> <span class="o">=</span> <span class="mi">0</span><span class="p">.</span><span class="mi">5</span><span class="p">})</span>
</code></pre></div>  </div>

</div>
<hr />

<div class="block">
  <h4 id="powersquelchblock">PowerSquelchBlock</h4>

  <p>Squelch a real or complex valued signal by its average power.</p>

\[y[n] = \begin{cases} x[n] &amp; \text{if } P_\text{average}(x[n]) &gt; P_\text{threshold} \\ 0.0 &amp; \text{otherwise} \end{cases}\]

  <h5 id="radiopowersquelchblockthreshold-tau0001"><code class="language-plaintext highlighter-rouge">radio.PowerSquelchBlock(threshold[, tau=0.001])</code></h5>

  <h6 id="arguments-58">Arguments</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">threshold</code> (<em>number</em>): Power threshold in dBFS</li>
    <li><code class="language-plaintext highlighter-rouge">tau</code> (<em>number</em>): Time constant of moving average filter in seconds</li>
  </ul>

  <h6 id="type-signatures-66">Type Signatures</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">in</code> <em>Float32</em> ➔❑➔ <code class="language-plaintext highlighter-rouge">out</code> <em>Float32</em></li>
    <li><code class="language-plaintext highlighter-rouge">in</code> <em>ComplexFloat32</em> ➔❑➔ <code class="language-plaintext highlighter-rouge">out</code> <em>ComplexFloat32</em></li>
  </ul>

  <h6 id="example-71">Example</h6>

  <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- Squelch at -40 dBFS power</span>
<span class="kd">local</span> <span class="n">squelch</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">PowerSquelchBlock</span><span class="p">(</span><span class="o">-</span><span class="mi">40</span><span class="p">)</span>
</code></pre></div>  </div>

</div>
<hr />

<h3 id="sample-rate-manipulation">Sample Rate Manipulation</h3>

<div class="block">
  <h4 id="decimatorblock">DecimatorBlock</h4>

  <p>Decimate a complex or real valued signal. This block band-limits and
downsamples the input signal. It reduces the sample rate for downstream
blocks in the flow graph by a factor of M.</p>

\[y[n] = (x * h_{lpf})[nM]\]

  <h5 id="radiodecimatorblockdecimation-options"><code class="language-plaintext highlighter-rouge">radio.DecimatorBlock(decimation[, options={}])</code></h5>

  <h6 id="arguments-59">Arguments</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">decimation</code> (<em>int</em>): Downsampling factor M</li>
    <li><code class="language-plaintext highlighter-rouge">options</code> (<em>table</em>): Additional options, specifying:
      <ul>
        <li><code class="language-plaintext highlighter-rouge">num_taps</code> (int, default 128)</li>
        <li><code class="language-plaintext highlighter-rouge">window</code> (string, default “hamming”)</li>
      </ul>
    </li>
  </ul>

  <h6 id="type-signatures-67">Type Signatures</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">in</code> <em>ComplexFloat32</em> ➔❑➔ <code class="language-plaintext highlighter-rouge">out</code> <em>ComplexFloat32</em></li>
    <li><code class="language-plaintext highlighter-rouge">in</code> <em>Float32</em> ➔❑➔ <code class="language-plaintext highlighter-rouge">out</code> <em>Float32</em></li>
  </ul>

  <h6 id="example-72">Example</h6>

  <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- Decimate by 5</span>
<span class="kd">local</span> <span class="n">decimator</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">DecimatorBlock</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
</code></pre></div>  </div>

</div>
<hr />

<div class="block">
  <h4 id="downsamplerblock">DownsamplerBlock</h4>

  <p>Downsample a complex or real valued signal. This block reduces the sample
rate for downstream blocks in the flow graph by a factor of M.</p>

\[y[n] = x[nM]\]

  <p>Note: this block performs no anti-alias filtering. Use the
<a href="#decimatorblock"><code class="language-plaintext highlighter-rouge">DecimatorBlock</code></a> for signal decimation with anti-alias
filtering.</p>

  <h5 id="radiodownsamplerblockfactor"><code class="language-plaintext highlighter-rouge">radio.DownsamplerBlock(factor)</code></h5>

  <h6 id="arguments-60">Arguments</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">factor</code> (<em>int</em>): Downsampling factor M</li>
  </ul>

  <h6 id="type-signatures-68">Type Signatures</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">in</code> <em>ComplexFloat32</em> ➔❑➔ <code class="language-plaintext highlighter-rouge">out</code> <em>ComplexFloat32</em></li>
    <li><code class="language-plaintext highlighter-rouge">in</code> <em>Float32</em> ➔❑➔ <code class="language-plaintext highlighter-rouge">out</code> <em>Float32</em></li>
  </ul>

  <h6 id="example-73">Example</h6>

  <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- Downsample by 5</span>
<span class="kd">local</span> <span class="n">downsampler</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">DownsamplerBlock</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
</code></pre></div>  </div>

</div>
<hr />

<div class="block">
  <h4 id="interpolatorblock">InterpolatorBlock</h4>

  <p>Interpolate a complex or real valued signal. This block scales, band-limits,
and upsamples the input signal. It increases the sample rate for downstream
blocks in the flow graph by a factor of L.</p>

\[y'[n] = \begin{cases} Lx[n/L] &amp; \text{for integer } n/L \\ 0 &amp; \text{otherwise} \end{cases}\]

\[y[n] = (y' * h_{lpf})[n]\]

  <h5 id="radiointerpolatorblockinterpolation-options"><code class="language-plaintext highlighter-rouge">radio.InterpolatorBlock(interpolation[, options={}])</code></h5>

  <h6 id="arguments-61">Arguments</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">interpolation</code> (<em>int</em>): Upsampling factor L</li>
    <li><code class="language-plaintext highlighter-rouge">options</code> (<em>table</em>): Additional options, specifying:
      <ul>
        <li><code class="language-plaintext highlighter-rouge">num_taps</code> (int, default 128)</li>
        <li><code class="language-plaintext highlighter-rouge">window</code> (string, default “hamming”)</li>
      </ul>
    </li>
  </ul>

  <h6 id="type-signatures-69">Type Signatures</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">in</code> <em>ComplexFloat32</em> ➔❑➔ <code class="language-plaintext highlighter-rouge">out</code> <em>ComplexFloat32</em></li>
    <li><code class="language-plaintext highlighter-rouge">in</code> <em>Float32</em> ➔❑➔ <code class="language-plaintext highlighter-rouge">out</code> <em>Float32</em></li>
  </ul>

  <h6 id="example-74">Example</h6>

  <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- Interpolate by 5</span>
<span class="kd">local</span> <span class="n">interpolator</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">InterpolatorBlock</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
</code></pre></div>  </div>

</div>
<hr />

<div class="block">
  <h4 id="rationalresamplerblock">RationalResamplerBlock</h4>

  <p>Resample a complex or real valued signal by a rational factor. This block
band-limits and resamples the input signal. It changes the sample rate for
downstream blocks in the flow graph by a factor of L/M.</p>

\[y[n] = \text{Decimate}(\text{Interpolate}(x[n], L), M)\]

  <h5 id="radiorationalresamplerblockinterpolation-decimation-options"><code class="language-plaintext highlighter-rouge">radio.RationalResamplerBlock(interpolation, decimation[, options={}])</code></h5>

  <h6 id="arguments-62">Arguments</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">interpolation</code> (<em>int</em>): Upsampling factor L</li>
    <li><code class="language-plaintext highlighter-rouge">decimation</code> (<em>int</em>): Downsampling factor M</li>
    <li><code class="language-plaintext highlighter-rouge">options</code> (<em>table</em>): Additional options, specifying:
      <ul>
        <li><code class="language-plaintext highlighter-rouge">num_taps</code> (int, default 128)</li>
        <li><code class="language-plaintext highlighter-rouge">window</code> (string, default “hamming”)</li>
      </ul>
    </li>
  </ul>

  <h6 id="type-signatures-70">Type Signatures</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">in</code> <em>ComplexFloat32</em> ➔❑➔ <code class="language-plaintext highlighter-rouge">out</code> <em>ComplexFloat32</em></li>
    <li><code class="language-plaintext highlighter-rouge">in</code> <em>Float32</em> ➔❑➔ <code class="language-plaintext highlighter-rouge">out</code> <em>Float32</em></li>
  </ul>

  <h6 id="example-75">Example</h6>

  <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- Resample by 5/3</span>
<span class="kd">local</span> <span class="n">resampler</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">RationalResamplerBlock</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
</code></pre></div>  </div>

</div>
<hr />

<div class="block">
  <h4 id="upsamplerblock">UpsamplerBlock</h4>

  <p>Upsample a complex or real valued signal. This block increases the sample
rate for downstream blocks in the flow graph by a factor of L.</p>

\[y[n] = \begin{cases} x[n/L] &amp; \text{for integer } n/L \\ 0 &amp; \text{otherwise} \end{cases}\]

  <p>Note: this block performs no scaling or anti-alias filtering. Use the
<a href="#interpolatorblock"><code class="language-plaintext highlighter-rouge">InterpolatorBlock</code></a> for signal interpolation with
scaling and anti-alias filtering.</p>

  <h5 id="radioupsamplerblockfactor"><code class="language-plaintext highlighter-rouge">radio.UpsamplerBlock(factor)</code></h5>

  <h6 id="arguments-63">Arguments</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">factor</code> (<em>int</em>): Upsampling factor L</li>
  </ul>

  <h6 id="type-signatures-71">Type Signatures</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">in</code> <em>ComplexFloat32</em> ➔❑➔ <code class="language-plaintext highlighter-rouge">out</code> <em>ComplexFloat32</em></li>
    <li><code class="language-plaintext highlighter-rouge">in</code> <em>Float32</em> ➔❑➔ <code class="language-plaintext highlighter-rouge">out</code> <em>Float32</em></li>
  </ul>

  <h6 id="example-76">Example</h6>

  <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- Upsample by 5</span>
<span class="kd">local</span> <span class="n">upsampler</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">UpsamplerBlock</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
</code></pre></div>  </div>

</div>
<hr />

<h3 id="spectrum-manipulation">Spectrum Manipulation</h3>

<div class="block">
  <h4 id="frequencytranslatorblock">FrequencyTranslatorBlock</h4>

  <p>Frequency translate a complex-valued signal by mixing it with \(e^{j
\omega_0 n}\), where \(\omega_0 = 2 \pi f_o / f_s\).</p>

\[y[n] = x[n] \; e^{j\omega_0 n}\]

  <h5 id="radiofrequencytranslatorblockoffset"><code class="language-plaintext highlighter-rouge">radio.FrequencyTranslatorBlock(offset)</code></h5>

  <h6 id="arguments-64">Arguments</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">offset</code> (<em>number</em>): Translation offset in Hz</li>
  </ul>

  <h6 id="type-signatures-72">Type Signatures</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">in</code> <em>ComplexFloat32</em> ➔❑➔ <code class="language-plaintext highlighter-rouge">out</code> <em>ComplexFloat32</em></li>
  </ul>

  <h6 id="example-77">Example</h6>

  <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- Frequency translate -200 kHz</span>
<span class="kd">local</span> <span class="n">translator</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">FrequencyTranslatorBlock</span><span class="p">(</span><span class="o">-</span><span class="mf">200e3</span><span class="p">)</span>
</code></pre></div>  </div>

</div>
<hr />

<div class="block">
  <h4 id="hilberttransformblock">HilbertTransformBlock</h4>

  <p>Hilbert transform a real-valued signal into a complex-valued signal with a
windowed FIR approximation of the IIR Hilbert transform filter.</p>

\[y[n] = x[n-N/2] + j \, (x * h_{hilb})[n]\]

  <h5 id="radiohilberttransformblocknumtaps-windowhamming"><code class="language-plaintext highlighter-rouge">radio.HilbertTransformBlock(num_taps[, window='hamming'])</code></h5>

  <h6 id="arguments-65">Arguments</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">num_taps</code> (<em>number</em>): Number of FIR taps, must be odd</li>
    <li><code class="language-plaintext highlighter-rouge">window</code> (<em>string</em>): Window type</li>
  </ul>

  <h6 id="type-signatures-73">Type Signatures</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">in</code> <em>Float32</em> ➔❑➔ <code class="language-plaintext highlighter-rouge">out</code> <em>ComplexFloat32</em></li>
  </ul>

  <h6 id="example-78">Example</h6>

  <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- Hilbert transform with 129 taps</span>
<span class="kd">local</span> <span class="n">ht</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">HilbertTransformBlock</span><span class="p">(</span><span class="mi">129</span><span class="p">)</span>
</code></pre></div>  </div>

</div>
<hr />

<div class="block">
  <h4 id="tunerblock">TunerBlock</h4>

  <p>Frequency translate, low-pass filter, and decimate a complex-valued signal.
This block reduces the sample rate for downstream blocks in the flow graph
by a factor of M.</p>

\[y[n] = (\text{FrequencyTranslate}(x[n], f_{offset}) * h_{lpf})[nM]\]

  <p>This block is convenient for translating signals to baseband and decimating
them.</p>

  <h5 id="radiotunerblockoffset-bandwidth-decimation-options"><code class="language-plaintext highlighter-rouge">radio.TunerBlock(offset, bandwidth, decimation[, options={}])</code></h5>

  <h6 id="arguments-66">Arguments</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">offset</code> (<em>number</em>): Translation offset in Hz</li>
    <li><code class="language-plaintext highlighter-rouge">bandwidth</code> (<em>number</em>): Signal bandwidth in Hz</li>
    <li><code class="language-plaintext highlighter-rouge">decimation</code> (<em>int</em>): Downsampling factor M</li>
    <li><code class="language-plaintext highlighter-rouge">options</code> (<em>table</em>): Additional options, specifying:
      <ul>
        <li><code class="language-plaintext highlighter-rouge">num_taps</code> (int, default 128)</li>
        <li><code class="language-plaintext highlighter-rouge">window</code> (string, default “hamming”)</li>
      </ul>
    </li>
  </ul>

  <h6 id="type-signatures-74">Type Signatures</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">in</code> <em>ComplexFloat32</em> ➔❑➔ <code class="language-plaintext highlighter-rouge">out</code> <em>ComplexFloat32</em></li>
  </ul>

  <h6 id="example-79">Example</h6>

  <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- Translate -100 kHz, filter 12 kHz, and decimate by 5</span>
<span class="kd">local</span> <span class="n">tuner</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">TunerBlock</span><span class="p">(</span><span class="o">-</span><span class="mf">100e3</span><span class="p">,</span> <span class="mf">12e3</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
</code></pre></div>  </div>

</div>
<hr />

<h3 id="carrier-and-clock-recovery">Carrier and Clock Recovery</h3>

<div class="block">
  <h4 id="pllblock">PLLBlock</h4>

  <p>Generate a phase-locked complex-valued sinusoid to a complex-valued
reference signal.</p>

\[y[n] = \text{PLL}(x[n], f_{BW}, f_{min}, f_{max}, M)\]

  <h5 id="radiopllblockloopbandwidth-frequencymin-frequencymax-multiplier10"><code class="language-plaintext highlighter-rouge">radio.PLLBlock(loop_bandwidth, frequency_min, frequency_max[, multiplier=1.0])</code></h5>

  <h6 id="arguments-67">Arguments</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">loop_bandwidth</code> (<em>number</em>): Loop bandwidth in Hz</li>
    <li><code class="language-plaintext highlighter-rouge">frequency_min</code> (<em>number</em>): Minimum frequency in Hz</li>
    <li><code class="language-plaintext highlighter-rouge">frequency_max</code> (<em>number</em>): Maximum frequency in Hz</li>
    <li><code class="language-plaintext highlighter-rouge">multiplier</code> (<em>number</em>): Multiplier, can be fractional</li>
  </ul>

  <h6 id="type-signatures-75">Type Signatures</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">in</code> <em>ComplexFloat32</em> ➔❑➔ <code class="language-plaintext highlighter-rouge">out</code> <em>ComplexFloat32</em>, <code class="language-plaintext highlighter-rouge">error</code> <em>Float32</em></li>
  </ul>

  <h6 id="example-80">Example</h6>

  <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- PLL with 1 kHz loop bandwidth, 18 kHz - 21 kHz capture range, 3 multiplier</span>
<span class="kd">local</span> <span class="n">pll</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">PLLBlock</span><span class="p">(</span><span class="mf">1e3</span><span class="p">,</span> <span class="mf">18e3</span><span class="p">,</span> <span class="mf">21e3</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>

<span class="c1">-- PLL with 1 kHz loop bandwidth, 18 kHz - 21 kHz capture range, 1/16 multiplier</span>
<span class="kd">local</span> <span class="n">pll</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">PLLBlock</span><span class="p">(</span><span class="mf">1e3</span><span class="p">,</span> <span class="mf">18e3</span><span class="p">,</span> <span class="mf">21e3</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">16</span><span class="p">)</span>
</code></pre></div>  </div>

</div>
<hr />

<div class="block">
  <h4 id="zerocrossingclockrecoveryblock">ZeroCrossingClockRecoveryBlock</h4>

  <p>Generate a real-valued clock signal from zero-crossings in a data signal.
This clock signal can then be used to sample the data signal with a
<a href="#samplerblock"><code class="language-plaintext highlighter-rouge">SamplerBlock</code></a>.</p>

\[y[n] = \text{ZC}(x[n], \text{baudrate}, \text{threshold})\]

  <h5 id="radiozerocrossingclockrecoveryblockbaudrate-threshold00"><code class="language-plaintext highlighter-rouge">radio.ZeroCrossingClockRecoveryBlock(baudrate[, threshold=0.0])</code></h5>

  <h6 id="arguments-68">Arguments</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">baudrate</code> (<em>number</em>): Baudrate in symbols per second</li>
    <li><code class="language-plaintext highlighter-rouge">threshold</code> (<em>number</em>): Zero-crossing threshold</li>
  </ul>

  <h6 id="type-signatures-76">Type Signatures</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">in</code> <em>Float32</em> ➔❑➔ <code class="language-plaintext highlighter-rouge">out</code> <em>Float32</em></li>
  </ul>

  <h6 id="example-81">Example</h6>

  <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- Zero-crossing clock recovery of 1200 baudrate data signal</span>
<span class="kd">local</span> <span class="n">clock_recoverer</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">ZeroCrossingClockRecoveryBlock</span><span class="p">(</span><span class="mi">1200</span><span class="p">)</span>
<span class="n">top</span><span class="p">:</span><span class="n">connect</span><span class="p">(</span><span class="n">src</span><span class="p">,</span> <span class="n">clock_recoverer</span><span class="p">)</span>
<span class="n">top</span><span class="p">:</span><span class="n">connect</span><span class="p">(</span><span class="n">src</span><span class="p">,</span> <span class="s1">'out'</span><span class="p">,</span> <span class="n">sampler</span><span class="p">,</span> <span class="s1">'data'</span><span class="p">)</span>
<span class="n">top</span><span class="p">:</span><span class="n">connect</span><span class="p">(</span><span class="n">clock_recoverer</span><span class="p">,</span> <span class="s1">'out'</span><span class="p">,</span> <span class="n">sampler</span><span class="p">,</span> <span class="s1">'clock'</span><span class="p">)</span>
<span class="n">top</span><span class="p">:</span><span class="n">connect</span><span class="p">(</span><span class="n">sampler</span><span class="p">,</span> <span class="n">snk</span><span class="p">)</span>
</code></pre></div>  </div>

</div>
<hr />

<h3 id="digital">Digital</h3>

<div class="block">
  <h4 id="binaryphasecorrectorblock">BinaryPhaseCorrectorBlock</h4>

  <p>Correct the phase of a complex-valued BPSK modulated signal, by rotating it
against a moving average of the phase angle.</p>

\[y[n] = x[n] \; e^{-j\phi_{avg}[n]}\]

  <h5 id="radiobinaryphasecorrectorblocknumsamples-sampleinterval32"><code class="language-plaintext highlighter-rouge">radio.BinaryPhaseCorrectorBlock(num_samples[, sample_interval=32])</code></h5>

  <h6 id="arguments-69">Arguments</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">num_samples</code> (<em>int</em>): Number of samples in phase angle moving average</li>
    <li><code class="language-plaintext highlighter-rouge">sample_interval</code> (<em>int</em>): Number of samples to skip between phase
                                   measurements</li>
  </ul>

  <h6 id="type-signatures-77">Type Signatures</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">in</code> <em>ComplexFloat32</em> ➔❑➔ <code class="language-plaintext highlighter-rouge">out</code> <em>ComplexFloat32</em></li>
  </ul>

  <h6 id="example-82">Example</h6>

  <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- Binary phase corrector with a 3000 sample moving average</span>
<span class="kd">local</span> <span class="n">phase_corrector</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">BinaryPhaseCorrector</span><span class="p">(</span><span class="mi">3000</span><span class="p">)</span>
</code></pre></div>  </div>

</div>
<hr />

<div class="block">
  <h4 id="differentialdecoderblock">DifferentialDecoderBlock</h4>

  <p>Decode a differentially encoded bit stream.</p>

\[y[n] = x[n-1] \oplus x[n]\]

  <h5 id="radiodifferentialdecoderblockinvertfalse"><code class="language-plaintext highlighter-rouge">radio.DifferentialDecoderBlock([invert=false])</code></h5>

  <h6 id="arguments-70">Arguments</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">invert</code> (<em>bool</em>): Invert the output.</li>
  </ul>

  <h6 id="type-signatures-78">Type Signatures</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">in</code> <em>Bit</em> ➔❑➔ <code class="language-plaintext highlighter-rouge">out</code> <em>Bit</em></li>
  </ul>

  <h6 id="example-83">Example</h6>

  <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">local</span> <span class="n">diff_decoder</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">DifferentialDecoderBlock</span><span class="p">()</span>
</code></pre></div>  </div>

</div>
<hr />

<div class="block">
  <h4 id="manchesterdecoderblock">ManchesterDecoderBlock</h4>

  <p>Decode a Manchester encoded bit stream.</p>

\[y[n] = \begin{cases} 0 &amp; \text{for }\{0, 1\} \\ 1 &amp; \text{for }\{1, 0\} \\ \text{slip input} &amp; \text{otherwise} \end{cases}\]

  <h5 id="radiomanchesterdecoderblockinvertfalse"><code class="language-plaintext highlighter-rouge">radio.ManchesterDecoderBlock([invert=false])</code></h5>

  <h6 id="arguments-71">Arguments</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">invert</code> (<em>bool</em>): Invert the output.</li>
  </ul>

  <h6 id="type-signatures-79">Type Signatures</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">in</code> <em>Bit</em> ➔❑➔ <code class="language-plaintext highlighter-rouge">out</code> <em>Bit</em></li>
  </ul>

  <h6 id="example-84">Example</h6>

  <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">local</span> <span class="n">manchester_decoder</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">ManchesterDecoderBlock</span><span class="p">()</span>
</code></pre></div>  </div>

</div>
<hr />

<div class="block">
  <h4 id="preamblesamplerblock">PreambleSamplerBlock</h4>

  <p>Sample a real valued signal into a fixed number of samples, by detecting a
preamble bit sequence at the specified baudrate. The sampling position is
optimized by maximizing the energy of the detected preamble.</p>

  <p>This block assumes a zero threshold when slicing samples into bits for
comparison to the preamble.</p>

\[y[n] = \text{PreambleSampler}(x[m], \text{baudrate}, \text{preamble}, \text{num_samples})\]

  <h5 id="radiopreamblesamplerblockbaudrate-preamble-numsamples"><code class="language-plaintext highlighter-rouge">radio.PreambleSamplerBlock(baudrate, preamble, num_samples)</code></h5>

  <h6 id="arguments-72">Arguments</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">baudrate</code> (<em>number</em>): Baudrate in symbols per second</li>
    <li><code class="language-plaintext highlighter-rouge">preamble</code> (<em>Vector</em>): Preamble Bit vector</li>
    <li><code class="language-plaintext highlighter-rouge">num_samples</code> (<em>number</em>): Number of samples per frame, including preamble</li>
  </ul>

  <h6 id="type-signatures-80">Type Signatures</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">in</code> <em>Float32</em> ➔❑➔ <code class="language-plaintext highlighter-rouge">out</code> <em>Float32</em></li>
  </ul>

  <h6 id="example-85">Example</h6>

  <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- Sample a 16384 baudrate data signal with the 16-bit preamble 0x16a3 into 128 samples</span>
<span class="kd">local</span> <span class="n">preamble</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">types</span><span class="p">.</span><span class="n">Bit</span><span class="p">.</span><span class="n">vector_from_array</span><span class="p">({</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">})</span>
<span class="kd">local</span> <span class="n">sampler</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">PreambleSamplerBlock</span><span class="p">(</span><span class="mi">16384</span><span class="p">,</span> <span class="n">preamble</span><span class="p">,</span> <span class="mi">128</span><span class="p">)</span>
<span class="kd">local</span> <span class="n">slicer</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">SlicerBlock</span><span class="p">()</span>
<span class="n">top</span><span class="p">:</span><span class="n">connect</span><span class="p">(</span><span class="n">src</span><span class="p">,</span> <span class="n">sampler</span><span class="p">,</span> <span class="n">slicer</span><span class="p">)</span>
</code></pre></div>  </div>

</div>
<hr />

<div class="block">
  <h4 id="samplerblock">SamplerBlock</h4>

  <p>Sample a complex or real valued data signal on positive zero-crossing
transitions of a real-valued clock signal.</p>

\[y[n] = x_{data}[m] \,\text{ when }\, \begin{align}&amp;x_{clk}[m] &gt; 0 \\ &amp;x_{clk}[m-1] &lt; 0\end{align}\]

  <h5 id="radiosamplerblock"><code class="language-plaintext highlighter-rouge">radio.SamplerBlock()</code></h5>

  <h6 id="type-signatures-81">Type Signatures</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">data</code> <em>ComplexFloat32</em>, <code class="language-plaintext highlighter-rouge">clock</code> <em>Float32</em> ➔❑➔ <code class="language-plaintext highlighter-rouge">out</code> <em>ComplexFloat32</em></li>
    <li><code class="language-plaintext highlighter-rouge">data</code> <em>Float32</em>, <code class="language-plaintext highlighter-rouge">clock</code> <em>Float32</em> ➔❑➔ <code class="language-plaintext highlighter-rouge">out</code> <em>Float32</em></li>
  </ul>

  <h6 id="example-86">Example</h6>

  <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">local</span> <span class="n">sampler</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">SamplerBlock</span><span class="p">()</span>
<span class="n">top</span><span class="p">:</span><span class="n">connect</span><span class="p">(</span><span class="n">data_src</span><span class="p">,</span> <span class="s1">'out'</span><span class="p">,</span> <span class="n">sampler</span><span class="p">,</span> <span class="s1">'data'</span><span class="p">)</span>
<span class="n">top</span><span class="p">:</span><span class="n">connect</span><span class="p">(</span><span class="n">clock_src</span><span class="p">,</span> <span class="s1">'out'</span><span class="p">,</span> <span class="n">sampler</span><span class="p">,</span> <span class="s1">'clock'</span><span class="p">)</span>
<span class="n">top</span><span class="p">:</span><span class="n">connect</span><span class="p">(</span><span class="n">sampler</span><span class="p">,</span> <span class="n">snk</span><span class="p">)</span>
</code></pre></div>  </div>

</div>
<hr />

<div class="block">
  <h4 id="slicerblock">SlicerBlock</h4>

  <p>Slice a real-valued signal on a threshold into a bit stream.</p>

\[y[n] = \begin{cases} 1 &amp; \text{if } x[n] &gt; \text{threshold} \\ 0 &amp; \text{if } x[n] &lt; \text{threshold} \end{cases}\]

  <h5 id="radioslicerblockthreshold00"><code class="language-plaintext highlighter-rouge">radio.SlicerBlock([threshold=0.0])</code></h5>

  <h6 id="arguments-73">Arguments</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">threshold</code> (<em>number</em>): Threshold</li>
  </ul>

  <h6 id="type-signatures-82">Type Signatures</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">in</code> <em>Float32</em> ➔❑➔ <code class="language-plaintext highlighter-rouge">out</code> <em>Bit</em></li>
  </ul>

  <h6 id="example-87">Example</h6>

  <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- Slice at default threshold 0.0</span>
<span class="kd">local</span> <span class="n">slicer</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">SlicerBlock</span><span class="p">()</span>

<span class="c1">-- Slice at threshold 0.5</span>
<span class="kd">local</span> <span class="n">slicer</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">SlicerBlock</span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">5</span><span class="p">)</span>
</code></pre></div>  </div>

</div>
<hr />

<h3 id="type-conversion">Type Conversion</h3>

<div class="block">
  <h4 id="complextofloatblock">ComplexToFloatBlock</h4>

  <p>Decompose the real and imaginary parts of a complex-valued signal.</p>

\[y_{real}[n],\, y_{imag}[n] = \text{Re}(x[n]),\, \text{Im}(x[n])\]

  <h5 id="radiocomplextofloatblock"><code class="language-plaintext highlighter-rouge">radio.ComplexToFloatBlock()</code></h5>

  <h6 id="type-signatures-83">Type Signatures</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">in</code> <em>ComplexFloat32</em> ➔❑➔ <code class="language-plaintext highlighter-rouge">real</code> <em>Float32</em>, <code class="language-plaintext highlighter-rouge">imag</code> <em>Float32</em></li>
  </ul>

  <h6 id="example-88">Example</h6>

  <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">local</span> <span class="n">complextofloat</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">ComplexToFloatBlock</span><span class="p">()</span>
</code></pre></div>  </div>

</div>
<hr />

<div class="block">
  <h4 id="complextoimagblock">ComplexToImagBlock</h4>

  <p>Decompose the imaginary part of a complex-valued signal.</p>

\[y[n] = \text{Im}(x[n])\]

  <h5 id="radiocomplextoimagblock"><code class="language-plaintext highlighter-rouge">radio.ComplexToImagBlock()</code></h5>

  <h6 id="type-signatures-84">Type Signatures</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">in</code> <em>ComplexFloat32</em> ➔❑➔ <code class="language-plaintext highlighter-rouge">out</code> <em>Float32</em></li>
  </ul>

  <h6 id="example-89">Example</h6>

  <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">local</span> <span class="n">complextoimag</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">ComplexToImagBlock</span><span class="p">()</span>
</code></pre></div>  </div>

</div>
<hr />

<div class="block">
  <h4 id="complextorealblock">ComplexToRealBlock</h4>

  <p>Decompose the real part of a complex-valued signal.</p>

\[y[n] = \text{Re}(x[n])\]

  <h5 id="radiocomplextorealblock"><code class="language-plaintext highlighter-rouge">radio.ComplexToRealBlock()</code></h5>

  <h6 id="type-signatures-85">Type Signatures</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">in</code> <em>ComplexFloat32</em> ➔❑➔ <code class="language-plaintext highlighter-rouge">out</code> <em>Float32</em></li>
  </ul>

  <h6 id="example-90">Example</h6>

  <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">local</span> <span class="n">complextoreal</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">ComplexToRealBlock</span><span class="p">()</span>
</code></pre></div>  </div>

</div>
<hr />

<div class="block">
  <h4 id="floattocomplexblock">FloatToComplexBlock</h4>

  <p>Compose two real-valued signals into the real and imaginary parts of a
complex-valued signal.</p>

\[y[n] = x_{real}[n] + j \, x_{imag}[n]\]

  <h5 id="radiofloattocomplexblock"><code class="language-plaintext highlighter-rouge">radio.FloatToComplexBlock()</code></h5>

  <h6 id="type-signatures-86">Type Signatures</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">real</code> <em>Float32</em>, <code class="language-plaintext highlighter-rouge">imag</code> <em>Float32</em> ➔❑➔ <code class="language-plaintext highlighter-rouge">out</code> <em>ComplexFloat32</em></li>
  </ul>

  <h6 id="example-91">Example</h6>

  <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">local</span> <span class="n">floattocomplex</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">FloatToComplexBlock</span><span class="p">()</span>
</code></pre></div>  </div>

</div>
<hr />

<div class="block">
  <h4 id="realtocomplexblock">RealToComplexBlock</h4>

  <p>Compose a complex-valued signal from a real-valued signal and a zero-valued
imaginary part.</p>

\[y[n] = x[n] + 0 \, j\]

  <h5 id="radiorealtocomplexblock"><code class="language-plaintext highlighter-rouge">radio.RealToComplexBlock()</code></h5>

  <h6 id="type-signatures-87">Type Signatures</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">in</code> <em>Float32</em> ➔❑➔ <code class="language-plaintext highlighter-rouge">out</code> <em>ComplexFloat32</em></li>
  </ul>

  <h6 id="example-92">Example</h6>

  <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">local</span> <span class="n">realtocomplex</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">RealToComplexBlock</span><span class="p">()</span>
</code></pre></div>  </div>

</div>
<hr />

<h3 id="miscellaneous">Miscellaneous</h3>

<div class="block">
  <h4 id="deinterleaveblock">DeinterleaveBlock</h4>

  <p>Deinterleave a complex or real valued signal.</p>

\[y_1[n],\, y_2[n],\, ... = x[Nn+0],\, x[Nn+1],\, ...\]

  <h5 id="radiodeinterleaveblocknumchannels2"><code class="language-plaintext highlighter-rouge">radio.DeinterleaveBlock([num_channels=2])</code></h5>

  <h6 id="arguments-74">Arguments</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">num_channels</code> (<em>int</em>): Number of channels</li>
  </ul>

  <h6 id="type-signatures-88">Type Signatures</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">in</code> <em>Float32</em> ➔❑➔ <code class="language-plaintext highlighter-rouge">out1</code> <em>Float32</em>, <code class="language-plaintext highlighter-rouge">out2</code> <em>Float32</em>, <code class="language-plaintext highlighter-rouge">...</code></li>
    <li><code class="language-plaintext highlighter-rouge">in</code> <em>ComplexFloat32</em> ➔❑➔ <code class="language-plaintext highlighter-rouge">out1</code> <em>ComplexFloat32</em>, <code class="language-plaintext highlighter-rouge">out2</code> <em>ComplexFloat32</em>, <code class="language-plaintext highlighter-rouge">...</code></li>
  </ul>

  <h6 id="example-93">Example</h6>

  <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- Deinterleave two channels</span>
<span class="kd">local</span> <span class="n">deinterleaver</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">DeinterleaveBlock</span><span class="p">()</span>

<span class="c1">-- Deinterleave four channels</span>
<span class="kd">local</span> <span class="n">deinterleaver</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">DeinterleaveBlock</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
</code></pre></div>  </div>

</div>
<hr />

<div class="block">
  <h4 id="delayblock">DelayBlock</h4>

  <p>Delay a signal by a fixed number of samples.</p>

\[y[n] = x[n-d]\]

  <h5 id="radiodelayblocknumsamples"><code class="language-plaintext highlighter-rouge">radio.DelayBlock(num_samples)</code></h5>

  <h6 id="arguments-75">Arguments</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">num_samples</code> (<em>int</em>): Number of samples to delay</li>
  </ul>

  <h6 id="type-signatures-89">Type Signatures</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">in</code> <em>ComplexFloat32</em> ➔❑➔ <code class="language-plaintext highlighter-rouge">out</code> <em>ComplexFloat32</em></li>
    <li><code class="language-plaintext highlighter-rouge">in</code> <em>Float32</em> ➔❑➔ <code class="language-plaintext highlighter-rouge">out</code> <em>Float32</em></li>
    <li><code class="language-plaintext highlighter-rouge">in</code> <em>Byte</em> ➔❑➔ <code class="language-plaintext highlighter-rouge">out</code> <em>Byte</em></li>
    <li><code class="language-plaintext highlighter-rouge">in</code> <em>Bit</em> ➔❑➔ <code class="language-plaintext highlighter-rouge">out</code> <em>Bit</em></li>
  </ul>

  <h6 id="example-94">Example</h6>

  <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- Delay by 128 samples</span>
<span class="kd">local</span> <span class="n">delay</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">DelayBlock</span><span class="p">(</span><span class="mi">128</span><span class="p">)</span>
</code></pre></div>  </div>

</div>
<hr />

<div class="block">
  <h4 id="interleaveblock">InterleaveBlock</h4>

  <p>Interleave a complex or real valued signal.</p>

\[y[n] = \left\{x_1[0],\, x_2[0],\, ...,\, x_N[0],\, x_1[1],\, x_2[1],\, ...,\, x_N[1],\, ...\right\}\]

  <h5 id="radiointerleaveblocknumchannels2"><code class="language-plaintext highlighter-rouge">radio.InterleaveBlock([num_channels=2])</code></h5>

  <h6 id="arguments-76">Arguments</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">num_channels</code> (<em>int</em>): Number of channels</li>
  </ul>

  <h6 id="type-signatures-90">Type Signatures</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">in1</code> <em>Float32</em>, <code class="language-plaintext highlighter-rouge">in2</code> <em>Float32</em>, <code class="language-plaintext highlighter-rouge">...</code> ➔❑➔ <code class="language-plaintext highlighter-rouge">out</code> <em>Float32</em></li>
    <li><code class="language-plaintext highlighter-rouge">in1</code> <em>ComplexFloat32</em>, <code class="language-plaintext highlighter-rouge">in2</code> <em>ComplexFloat32</em>, <code class="language-plaintext highlighter-rouge">...</code> ➔❑➔ <code class="language-plaintext highlighter-rouge">out</code> <em>ComplexFloat32</em></li>
  </ul>

  <h6 id="example-95">Example</h6>

  <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- Interleave two channels</span>
<span class="kd">local</span> <span class="n">interleaver</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">InterleaveBlock</span><span class="p">()</span>

<span class="c1">-- Interleave four channels</span>
<span class="kd">local</span> <span class="n">interleaver</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">InterleaveBlock</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
</code></pre></div>  </div>

</div>
<hr />

<div class="block">
  <h4 id="nopblock">NopBlock</h4>

  <p>Pass a signal through, performing no operation.</p>

\[y[n] = x[n]\]

  <h5 id="radionopblock"><code class="language-plaintext highlighter-rouge">radio.NopBlock()</code></h5>

  <h6 id="type-signatures-91">Type Signatures</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">in</code> <em>any</em> ➔❑➔ <code class="language-plaintext highlighter-rouge">out</code> <em>copy</em></li>
  </ul>

  <h6 id="example-96">Example</h6>

  <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">local</span> <span class="n">nop</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">NopBlock</span><span class="p">()</span>
<span class="n">top</span><span class="p">:</span><span class="n">connect</span><span class="p">(</span><span class="n">src</span><span class="p">,</span> <span class="n">nop</span><span class="p">,</span> <span class="n">snk</span><span class="p">)</span>
</code></pre></div>  </div>

</div>
<hr />

<div class="block">
  <h4 id="throttleblock">ThrottleBlock</h4>

  <p>Throttle a signal to limit CPU usage and pace plotting sinks.</p>

\[y[n] = x[n]\]

  <h5 id="radiothrottleblock"><code class="language-plaintext highlighter-rouge">radio.ThrottleBlock()</code></h5>

  <h6 id="type-signatures-92">Type Signatures</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">in</code> <em>any</em> ➔❑➔ <code class="language-plaintext highlighter-rouge">out</code> <em>copy</em></li>
  </ul>

  <h6 id="example-97">Example</h6>

  <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">local</span> <span class="n">throttle</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">ThrottleBlock</span><span class="p">()</span>
<span class="n">top</span><span class="p">:</span><span class="n">connect</span><span class="p">(</span><span class="n">src</span><span class="p">,</span> <span class="n">throttle</span><span class="p">,</span> <span class="n">snk</span><span class="p">)</span>
</code></pre></div>  </div>

</div>
<hr />

<h3 id="modulation">Modulation</h3>

<div class="block">
  <h4 id="frequencymodulatorblock">FrequencyModulatorBlock</h4>

  <p>Frequency modulate a real-valued signal into a baseband complex-valued
signal.</p>

\[y[n] = e^{j 2 \pi k \sum x[n]}\]

  <h5 id="radiofrequencymodulatorblockmodulationindex"><code class="language-plaintext highlighter-rouge">radio.FrequencyModulatorBlock(modulation_index)</code></h5>

  <h6 id="arguments-77">Arguments</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">modulation_index</code> (<em>number</em>): Modulation index (Carrier Deviation / Maximum Modulation Frequency)</li>
  </ul>

  <h6 id="type-signatures-93">Type Signatures</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">in</code> <em>Float32</em> ➔❑➔ <code class="language-plaintext highlighter-rouge">out</code> <em>ComplexFloat32</em></li>
  </ul>

  <h6 id="example-98">Example</h6>

  <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- Frequency modulator with modulation index 0.2</span>
<span class="kd">local</span> <span class="n">fm_mod</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">FrequencyModulatorBlock</span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">2</span><span class="p">)</span>
</code></pre></div>  </div>

</div>
<hr />

<div class="block">
  <h4 id="pulseamplitudemodulatorblock">PulseAmplitudeModulatorBlock</h4>

  <p>Pulse amplitude modulate bits into a baseband real-valued signal. The
resulting signal is non-return-to-zero, bipolar, with normalized energy.</p>

\[y[n] = \text{PAM}(x[n], \text{symbol_rate}, \text{sample_rate}, \text{levels})\]

  <h5 id="radiopulseamplitudemodulatorblocksymbolrate-samplerate-levels-options"><code class="language-plaintext highlighter-rouge">radio.PulseAmplitudeModulatorBlock(symbol_rate, sample_rate, levels[, options={}])</code></h5>

  <h6 id="arguments-78">Arguments</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">symbol_rate</code> (<em>number</em>): Symbol rate in Hz</li>
    <li><code class="language-plaintext highlighter-rouge">sample_rate</code> (<em>number</em>): Sample rate in Hz</li>
    <li><code class="language-plaintext highlighter-rouge">levels</code> (<em>number</em>): Number of amplitude levels (must be power of 2)</li>
    <li><code class="language-plaintext highlighter-rouge">options</code> (<em>table</em>): Additional options, specifying:
      <ul>
        <li><code class="language-plaintext highlighter-rouge">msb_first</code> (boolean, default true)</li>
        <li><code class="language-plaintext highlighter-rouge">amplitudes</code> (table, mapping of symbol value
to amplitude)</li>
      </ul>
    </li>
  </ul>

  <h6 id="type-signatures-94">Type Signatures</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">in</code> <em>Bit</em> ➔❑➔ <code class="language-plaintext highlighter-rouge">out</code> <em>Float32</em></li>
  </ul>

  <h6 id="example-99">Example</h6>

  <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- 4-PAM modulator with 1200 Hz symbol rate, 96 kHz sample rate</span>
<span class="kd">local</span> <span class="n">modulator</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">PulseAmplitudeModulatorBlock</span><span class="p">(</span><span class="mi">1200</span><span class="p">,</span> <span class="mi">96000</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
</code></pre></div>  </div>

</div>
<hr />

<div class="block">
  <h4 id="quadratureamplitudemodulatorblock">QuadratureAmplitudeModulatorBlock</h4>

  <p>Quadrature amplitude modulate bits into a baseband complex-valued signal.</p>

\[y[n] = \text{QAM}(x[n], \text{symbol_rate}, \text{sample_rate}, \text{points})\]

  <h5 id="radioquadratureamplitudemodulatorblocksymbolrate-samplerate-points-options"><code class="language-plaintext highlighter-rouge">radio.QuadratureAmplitudeModulatorBlock(symbol_rate, sample_rate, points[, options={}])</code></h5>

  <h6 id="arguments-79">Arguments</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">symbol_rate</code> (<em>number</em>): Symbol rate in Hz</li>
    <li><code class="language-plaintext highlighter-rouge">sample_rate</code> (<em>number</em>): Sample rate in Hz</li>
    <li><code class="language-plaintext highlighter-rouge">points</code> (<em>number</em>): Number of constellation points (must be power of 2)</li>
    <li><code class="language-plaintext highlighter-rouge">options</code> (<em>table</em>): Additional options, specifying:
      <ul>
        <li><code class="language-plaintext highlighter-rouge">msb_first</code> (boolean, default true)</li>
        <li><code class="language-plaintext highlighter-rouge">constellation</code> (table, mapping of symbol
value to complex amplitude)</li>
      </ul>
    </li>
  </ul>

  <h6 id="type-signatures-95">Type Signatures</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">in</code> <em>Bit</em> ➔❑➔ <code class="language-plaintext highlighter-rouge">out</code> <em>ComplexFloat32</em></li>
  </ul>

  <h6 id="example-100">Example</h6>

  <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- 4-QAM modulator with 1200 Hz symbol rate, 96 kHz sample rate</span>
<span class="kd">local</span> <span class="n">modulator</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">QuadratureAmplitudeModulatorBlock</span><span class="p">(</span><span class="mi">1200</span><span class="p">,</span> <span class="mi">96000</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
</code></pre></div>  </div>

</div>
<hr />

<div class="block">
  <h4 id="ssbmodulator">SSBModulator</h4>

  <p>Modulate a real-valued signal into a baseband, single-sideband amplitude
modulated complex-valued signal.</p>

\[y[n] = \text{SSBModulate}(x[n], \text{sideband}, \text{bandwidth})\]

  <h5 id="radiossbmodulatorsideband-bandwidth3e3"><code class="language-plaintext highlighter-rouge">radio.SSBModulator(sideband[, bandwidth=3e3])</code></h5>

  <h6 id="arguments-80">Arguments</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">sideband</code> (<em>string</em>): Sideband, choice of “lsb” or “usb”.</li>
    <li><code class="language-plaintext highlighter-rouge">bandwidth</code> (<em>number</em>): Bandwidth in Hz</li>
  </ul>

  <h6 id="type-signatures-96">Type Signatures</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">in</code> <em>Float32</em> ➔❑➔ <code class="language-plaintext highlighter-rouge">out</code> <em>ComplexFloat32</em></li>
  </ul>

  <h6 id="example-101">Example</h6>

  <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- SSB LSB modulator with 3 kHz bandwidth</span>
<span class="kd">local</span> <span class="n">mod</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">SSBModulator</span><span class="p">(</span><span class="s2">"lsb"</span><span class="p">,</span> <span class="mf">3e3</span><span class="p">)</span>
</code></pre></div>  </div>

</div>
<hr />

<h3 id="demodulation">Demodulation</h3>

<div class="block">
  <h4 id="amenvelopedemodulator">AMEnvelopeDemodulator</h4>

  <p>Demodulate a baseband, double-sideband amplitude modulated complex-valued
signal with an envelope detector.</p>

\[y[n] = \text{AMDemodulate}(x[n], \text{bandwidth})\]

  <h5 id="radioamenvelopedemodulatorbandwidth5e3"><code class="language-plaintext highlighter-rouge">radio.AMEnvelopeDemodulator([bandwidth=5e3])</code></h5>

  <h6 id="arguments-81">Arguments</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">bandwidth</code> (<em>number</em>): Bandwidth in Hz</li>
  </ul>

  <h6 id="type-signatures-97">Type Signatures</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">in</code> <em>ComplexFloat32</em> ➔❑➔ <code class="language-plaintext highlighter-rouge">out</code> <em>Float32</em></li>
  </ul>

  <h6 id="example-102">Example</h6>

  <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- AM demodulator with 5 kHz bandwidth</span>
<span class="kd">local</span> <span class="n">demod</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">AMEnvelopeDemodulator</span><span class="p">(</span><span class="mf">5e3</span><span class="p">)</span>
</code></pre></div>  </div>

</div>
<hr />

<div class="block">
  <h4 id="amsynchronousdemodulator">AMSynchronousDemodulator</h4>

  <p>Demodulate a double-sideband amplitude modulated complex-valued signal with
a synchronous detector. The input signal should be centered on the specified
intermediate frequency.</p>

\[y[n] = \text{AMDemodulate}(x[n], \text{IF}, \text{bandwidth})\]

  <h5 id="radioamsynchronousdemodulatorifreq-bandwidth5e3"><code class="language-plaintext highlighter-rouge">radio.AMSynchronousDemodulator(ifreq[, bandwidth=5e3])</code></h5>

  <h6 id="arguments-82">Arguments</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">ifreq</code> (<em>number</em>): Intermediate frequency in Hz</li>
    <li><code class="language-plaintext highlighter-rouge">bandwidth</code> (<em>number</em>): Bandwidth in Hz</li>
  </ul>

  <h6 id="type-signatures-98">Type Signatures</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">in</code> <em>ComplexFloat32</em> ➔❑➔ <code class="language-plaintext highlighter-rouge">out</code> <em>Float32</em></li>
  </ul>

  <h6 id="example-103">Example</h6>

  <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- AM demodulator with 100 kHz IF, 5 kHz bandwidth</span>
<span class="kd">local</span> <span class="n">demod</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">AMSynchronousDemodulator</span><span class="p">(</span><span class="mf">100e3</span><span class="p">,</span> <span class="mf">5e3</span><span class="p">)</span>
</code></pre></div>  </div>

</div>
<hr />

<div class="block">
  <h4 id="frequencydiscriminatorblock">FrequencyDiscriminatorBlock</h4>

  <p>Frequency discriminate a complex-valued signal. This is a method of
frequency demodulation.</p>

\[y[n] = \frac{\text{arg}(x[n] \; x^*[n-1])}{2 \pi k}\]

  <h5 id="radiofrequencydiscriminatorblockmodulationindex"><code class="language-plaintext highlighter-rouge">radio.FrequencyDiscriminatorBlock(modulation_index)</code></h5>

  <h6 id="arguments-83">Arguments</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">modulation_index</code> (<em>number</em>): Modulation index (Carrier Deviation / Maximum Modulation Frequency)</li>
  </ul>

  <h6 id="type-signatures-99">Type Signatures</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">in</code> <em>ComplexFloat32</em> ➔❑➔ <code class="language-plaintext highlighter-rouge">out</code> <em>Float32</em></li>
  </ul>

  <h6 id="example-104">Example</h6>

  <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- Frequency discriminator with modulation index 1.25</span>
<span class="kd">local</span> <span class="n">fm_demod</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">FrequencyDiscriminatorBlock</span><span class="p">(</span><span class="mi">1</span><span class="p">.</span><span class="mi">25</span><span class="p">)</span>
</code></pre></div>  </div>

</div>
<hr />

<div class="block">
  <h4 id="nbfmdemodulator">NBFMDemodulator</h4>

  <p>Demodulate a baseband, narrowband FM modulated complex-valued signal.</p>

\[y[n] = \text{NBFMDemodulate}(x[n], \text{deviation}, \text{bandwidth})\]

  <p>The input signal will be band-limited by the specified deviation and
bandwidth with a cutoff frequency calculated by Carson’s rule.</p>

  <h5 id="radionbfmdemodulatordeviation5e3-bandwidth4e3"><code class="language-plaintext highlighter-rouge">radio.NBFMDemodulator([deviation=5e3, bandwidth=4e3])</code></h5>

  <h6 id="arguments-84">Arguments</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">deviation</code> (<em>number</em>): Deviation in Hz</li>
    <li><code class="language-plaintext highlighter-rouge">bandwidth</code> (<em>number</em>): Bandwidth in Hz</li>
  </ul>

  <h6 id="type-signatures-100">Type Signatures</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">in</code> <em>ComplexFloat32</em> ➔❑➔ <code class="language-plaintext highlighter-rouge">out</code> <em>Float32</em></li>
  </ul>

  <h6 id="example-105">Example</h6>

  <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- NBFM demodulator with 5 kHz deviation and 4 kHz bandwidth</span>
<span class="kd">local</span> <span class="n">demod</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">NBFMDemodulator</span><span class="p">(</span><span class="mf">5e3</span><span class="p">,</span> <span class="mf">4e3</span><span class="p">)</span>
</code></pre></div>  </div>

</div>
<hr />

<div class="block">
  <h4 id="ssbdemodulator">SSBDemodulator</h4>

  <p>Demodulate a baseband, single-sideband amplitude modulated complex-valued
signal.</p>

\[y[n] = \text{SSBDemodulate}(x[n], \text{sideband}, \text{bandwidth})\]

  <h5 id="radiossbdemodulatorsideband-bandwidth3e3"><code class="language-plaintext highlighter-rouge">radio.SSBDemodulator(sideband[, bandwidth=3e3])</code></h5>

  <h6 id="arguments-85">Arguments</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">sideband</code> (<em>string</em>): Sideband, choice of “lsb” or “usb”.</li>
    <li><code class="language-plaintext highlighter-rouge">bandwidth</code> (<em>number</em>): Bandwidth in Hz</li>
  </ul>

  <h6 id="type-signatures-101">Type Signatures</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">in</code> <em>ComplexFloat32</em> ➔❑➔ <code class="language-plaintext highlighter-rouge">out</code> <em>Float32</em></li>
  </ul>

  <h6 id="example-106">Example</h6>

  <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- SSB LSB demodulator with 3 kHz bandwidth</span>
<span class="kd">local</span> <span class="n">demod</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">SSBDemodulator</span><span class="p">(</span><span class="s2">"lsb"</span><span class="p">,</span> <span class="mf">3e3</span><span class="p">)</span>
</code></pre></div>  </div>

</div>
<hr />

<div class="block">
  <h4 id="wbfmmonodemodulator">WBFMMonoDemodulator</h4>

  <p>Demodulate a baseband, broadcast radio wideband FM modulated complex-valued
signal into the real-valued mono channel (L+R) signal.</p>

\[y[n] = \text{WBFMMonoDemodulate}(x[n], \tau)\]

  <h5 id="radiowbfmmonodemodulatortau75e-6"><code class="language-plaintext highlighter-rouge">radio.WBFMMonoDemodulator([tau=75e-6])</code></h5>

  <h6 id="arguments-86">Arguments</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">tau</code> (<em>number</em>): FM de-emphasis time constant</li>
  </ul>

  <h6 id="type-signatures-102">Type Signatures</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">in</code> <em>ComplexFloat32</em> ➔❑➔ <code class="language-plaintext highlighter-rouge">out</code> <em>Float32</em></li>
  </ul>

  <h6 id="example-107">Example</h6>

  <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">local</span> <span class="n">demod</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">WBFMMonoDemodulator</span><span class="p">()</span>
</code></pre></div>  </div>

</div>
<hr />

<div class="block">
  <h4 id="wbfmstereodemodulator">WBFMStereoDemodulator</h4>

  <p>Demodulate a baseband, broadcast radio wideband FM modulated complex-valued
signal into the real-valued stereo channel (L and R) signals.</p>

\[y_{left}[n], y_{right}[n] = \text{WBFMStereoDemodulate}(x[n], \tau)\]

  <h5 id="radiowbfmstereodemodulatortau75e-6"><code class="language-plaintext highlighter-rouge">radio.WBFMStereoDemodulator([tau=75e-6])</code></h5>

  <h6 id="arguments-87">Arguments</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">tau</code> (<em>number</em>): FM de-emphasis time constant</li>
  </ul>

  <h6 id="type-signatures-103">Type Signatures</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">in</code> <em>ComplexFloat32</em> ➔❑➔ <code class="language-plaintext highlighter-rouge">left</code> <em>Float32</em>, <code class="language-plaintext highlighter-rouge">right</code> <em>Float32</em></li>
  </ul>

  <h6 id="example-108">Example</h6>

  <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">local</span> <span class="n">demod</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">WBFMStereoDemodulator</span><span class="p">()</span>
</code></pre></div>  </div>

</div>
<hr />

<h3 id="protocol">Protocol</h3>

<div class="block">
  <h4 id="ax25framerblock">AX25FramerBlock</h4>

  <p>Validate and extract AX.25 frames from a bit stream.</p>

  <h5 id="radioax25framerblock"><code class="language-plaintext highlighter-rouge">radio.AX25FramerBlock()</code></h5>

  <h6 id="type-signatures-104">Type Signatures</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">in</code> <em>Bit</em> ➔❑➔ <code class="language-plaintext highlighter-rouge">out</code> <em>AX25FrameType</em></li>
  </ul>

  <h6 id="example-109">Example</h6>

  <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">local</span> <span class="n">framer</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">AX25FramerBlock</span><span class="p">()</span>
</code></pre></div>  </div>

  <div class="class">
    <h4 id="ax25framerblockax25frametype">AX25FramerBlock.AX25FrameType</h4>

    <h5 id="radioax25framerblockax25frametypeaddresses-control-pid-payload"><code class="language-plaintext highlighter-rouge">radio.AX25FramerBlock.AX25FrameType(addresses, control, pid, payload)</code></h5>

    <p>AX.25 frame type, a Lua object with properties:</p>

    <div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{
  addresses = {
    {
      callsign = &lt;string&gt;,
      ssid = &lt;integer&gt;
    },
    ...
  },
  control = &lt;integer&gt;,
  pid = &lt;integer&gt;,
  payload = &lt;byte string&gt;,
}
</code></pre></div>    </div>

    <h6 id="arguments-88">Arguments</h6>

    <ul>
      <li><code class="language-plaintext highlighter-rouge">addresses</code> (<em>array</em>): Array of addresses, each a table with key <code class="language-plaintext highlighter-rouge">callsign</code>
                       containing a 6-character string callsign and key
                       <code class="language-plaintext highlighter-rouge">ssid</code> containing a 7-bit wide integer SSID</li>
      <li><code class="language-plaintext highlighter-rouge">control</code> (<em>int</em>): Control field, 8-bits wide</li>
      <li><code class="language-plaintext highlighter-rouge">pid</code> (<em>int</em>): PID field, 8-bits wide</li>
      <li><code class="language-plaintext highlighter-rouge">payload</code> (<em>string</em>): Payload byte string (variable length)</li>
    </ul>

  </div>
</div>
<hr />

<div class="block">
  <h4 id="idmframerblock">IDMFramerBlock</h4>

  <p>Validate and extract IDM frames from a bit stream.</p>

  <h5 id="radioidmframerblock"><code class="language-plaintext highlighter-rouge">radio.IDMFramerBlock()</code></h5>

  <h6 id="type-signatures-105">Type Signatures</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">in</code> <em>Bit</em> ➔❑➔ <code class="language-plaintext highlighter-rouge">out</code> <em>IDMFrameType</em></li>
  </ul>

  <h6 id="example-110">Example</h6>

  <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">local</span> <span class="n">framer</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">IDMFramerBlock</span><span class="p">()</span>
</code></pre></div>  </div>

  <div class="class">
    <h4 id="idmframerblockidmframetype">IDMFramerBlock.IDMFrameType</h4>

    <h5 id="radioidmframerblockidmframetypetype-applicationversion-erttype-ertid-consumptionintervalcount-moduleprogrammingstate-tampercount-asynccount-poweroutageflags-lastconsumptioncount-differentialconsumptionintervals-transmittimeoffset-serialcrc-packetcrc"><code class="language-plaintext highlighter-rouge">radio.IDMFramerBlock.IDMFrameType(type, application_version, ert_type, ert_id, consumption_interval_count, module_programming_state, tamper_count, async_count, power_outage_flags, last_consumption_count, differential_consumption_intervals, transmit_time_offset, serial_crc, packet_crc)</code></h5>

    <p>IDM frame type, a Lua object with properties:</p>

    <div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{
  type = "idm",
  application_version = &lt;8-bit integer&gt;,
  ert_type = &lt;8-bit integer&gt;,
  ert_id = &lt;32-bit integer&gt;,
  consumption_interval_count = &lt;8-bit integer&gt;,
  module_programming_state = &lt;8-bit integer&gt;,
  tamper_count = &lt;6-byte string&gt;,
  async_count = &lt;2-byte string&gt;,
  power_outage_flags = &lt;6-byte string&gt;,
  last_consumption_count = &lt;32-bit integer&gt;,
  differential_consumption_intervals = &lt;53-byte string&gt;,
  transmit_time_offset = &lt;16-bit integer&gt;,
  serial_crc = &lt;16-bit integer&gt;,
  packet_crc = &lt;16-bit integer&gt;,
}
</code></pre></div>    </div>

    <h6 id="arguments-89">Arguments</h6>

    <ul>
      <li><code class="language-plaintext highlighter-rouge">type</code> (<em>string</em>): Protocol type, constant “idm”</li>
      <li><code class="language-plaintext highlighter-rouge">application_version</code> (<em>int</em>): Application version field, 8-bits wide</li>
      <li><code class="language-plaintext highlighter-rouge">ert_type</code> (<em>int</em>): ERT Type field, 8-bits wide</li>
      <li><code class="language-plaintext highlighter-rouge">ert_id</code> (<em>int</em>): ERT ID field, 32-bits wide</li>
      <li><code class="language-plaintext highlighter-rouge">consumption_interval_count</code> (<em>int</em>): Consumption interval count field, 8-bits wide</li>
      <li><code class="language-plaintext highlighter-rouge">module_programming_state</code> (<em>int</em>): Module programming state field, 8-bits wide</li>
      <li><code class="language-plaintext highlighter-rouge">tamper_count</code> (<em>string</em>): Tamper count bytes, 6 bytes long</li>
      <li><code class="language-plaintext highlighter-rouge">async_count</code> (<em>string</em>): Async count bytes, 2 bytes long</li>
      <li><code class="language-plaintext highlighter-rouge">power_outage_flags</code> (<em>string</em>): Power outage bytes, 6 bytes long</li>
      <li><code class="language-plaintext highlighter-rouge">last_consumption_count</code> (<em>int</em>): Last consumption count field, 32-bits wide</li>
      <li><code class="language-plaintext highlighter-rouge">differential_consumption_intervals</code> (<em>string</em>): Differential consumption intevals string, 53 bytes long</li>
      <li><code class="language-plaintext highlighter-rouge">transmit_time_offset</code> (<em>int</em>): Transmit time offset field, 16-bits wide</li>
      <li><code class="language-plaintext highlighter-rouge">serial_crc</code> (<em>int</em>): Serial CRC field, 16-bits wide</li>
      <li><code class="language-plaintext highlighter-rouge">packet_crc</code> (<em>int</em>): Packet CRC field, 16-bits wide</li>
    </ul>

  </div>
</div>
<hr />

<div class="block">
  <h4 id="pocsagdecoderblock">POCSAGDecoderBlock</h4>

  <p>Decode POCSAG frames into POCSAG messages. This block decodes alphanumeric
strings, numeric strings, or both.</p>

  <h5 id="radiopocsagdecoderblockmodealphanumeric"><code class="language-plaintext highlighter-rouge">radio.POCSAGDecoderBlock([mode='alphanumeric'])</code></h5>

  <h6 id="arguments-90">Arguments</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">mode</code> (<em>string</em>): Decoding mode, choice of
                                       “alphanumeric”, “numeric”, or
                                       “both”.</li>
  </ul>

  <h6 id="type-signatures-106">Type Signatures</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">in</code> <em>POCSAGFrameType</em> ➔❑➔ <code class="language-plaintext highlighter-rouge">out</code> <em>POCSAGMessageType</em></li>
  </ul>

  <h6 id="example-111">Example</h6>

  <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">local</span> <span class="n">decoder</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">POCSAGDecoderBlock</span><span class="p">()</span>
</code></pre></div>  </div>

  <div class="class">
    <h4 id="pocsagdecoderblockpocsagmessagetype">POCSAGDecoderBlock.POCSAGMessageType</h4>

    <h5 id="radiopocsagdecoderblockpocsagmessagetypeaddress-func-alphanumeric-numeric"><code class="language-plaintext highlighter-rouge">radio.POCSAGDecoderBlock.POCSAGMessageType(address, func, alphanumeric, numeric)</code></h5>

    <p>POCSAG message type, a Lua object with properties:</p>

    <div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{
  address = &lt;21-bit integer&gt;,
  func = &lt;2-bit integer&gt;,
  alphanumeric = &lt;string&gt;,
  numeric = &lt;string&gt;,
}
</code></pre></div>    </div>

    <h6 id="arguments-91">Arguments</h6>

    <ul>
      <li><code class="language-plaintext highlighter-rouge">address</code> (<em>int</em>): Address bits, 21-bits wide</li>
      <li><code class="language-plaintext highlighter-rouge">func</code> (<em>int</em>): Function bits, 2-bits wide</li>
      <li><code class="language-plaintext highlighter-rouge">alphanumeric</code> (<em>string</em>): Decoded alphanumeric string</li>
      <li><code class="language-plaintext highlighter-rouge">numeric</code> (<em>string</em>): Decoded numeric string</li>
    </ul>

  </div>
</div>
<hr />

<div class="block">
  <h4 id="pocsagframerblock">POCSAGFramerBlock</h4>

  <p>Detect, correct, validate, and extract POCSAG frames from a bit stream.
Each frame contains a single message with address, function bits, and data,
so a POCSAG transmission of several batches may yield several frames.</p>

  <h5 id="radiopocsagframerblock"><code class="language-plaintext highlighter-rouge">radio.POCSAGFramerBlock()</code></h5>

  <h6 id="type-signatures-107">Type Signatures</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">in</code> <em>Bit</em> ➔❑➔ <code class="language-plaintext highlighter-rouge">out</code> <em>POCSAGFrameType</em></li>
  </ul>

  <h6 id="example-112">Example</h6>

  <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">local</span> <span class="n">framer</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">POCSAGFramerBlock</span><span class="p">()</span>
</code></pre></div>  </div>

  <div class="class">
    <h4 id="pocsagframerblockpocsagframetype">POCSAGFramerBlock.POCSAGFrameType</h4>

    <h5 id="radiopocsagframerblockpocsagframetypeaddress-func-data"><code class="language-plaintext highlighter-rouge">radio.POCSAGFramerBlock.POCSAGFrameType(address, func, data)</code></h5>

    <p>POCSAG frame type, a Lua object with properties:</p>

    <div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{
  address = &lt;21-bit integer&gt;,
  func = &lt;2-bit integer&gt;,
  data = {&lt;20-bit integer&gt;, ...},
}
</code></pre></div>    </div>

    <h6 id="arguments-92">Arguments</h6>

    <ul>
      <li><code class="language-plaintext highlighter-rouge">address</code> (<em>int</em>): Address bits, 21-bits wide</li>
      <li><code class="language-plaintext highlighter-rouge">func</code> (<em>int</em>): Function bits, 2-bits wide</li>
      <li><code class="language-plaintext highlighter-rouge">data</code> (<em>array</em>): Array of data words, each 20-bits wide</li>
    </ul>

  </div>
</div>
<hr />

<div class="block">
  <h4 id="rdsdecoderblock">RDSDecoderBlock</h4>

  <p>Decode RDS frames into RDS packets with a header and data payload. The
supported data payloads are basic tuning, radiotext, and datetime.</p>

  <h5 id="radiordsdecoderblock"><code class="language-plaintext highlighter-rouge">radio.RDSDecoderBlock()</code></h5>

  <h6 id="type-signatures-108">Type Signatures</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">in</code> <em>RDSFrameType</em> ➔❑➔ <code class="language-plaintext highlighter-rouge">out</code> <em>RDSPacketType</em></li>
  </ul>

  <h6 id="example-113">Example</h6>

  <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">local</span> <span class="n">decoder</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">RDSDecoderBlock</span><span class="p">()</span>
</code></pre></div>  </div>

  <div class="class">
    <h4 id="rdsdecoderblockrdspackettype">RDSDecoderBlock.RDSPacketType</h4>

    <h5 id="radiordsdecoderblockrdspackettypeheader-data"><code class="language-plaintext highlighter-rouge">radio.RDSDecoderBlock.RDSPacketType(header, data)</code></h5>

    <p>RDS packet type, a Lua object with properties:</p>

    <div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{
  header = {
    pi_code = &lt;16-bit integer&gt;
    group_code = &lt;4-bit integer&gt;
    group_version = &lt;1-bit integer&gt;,
    tp_code = &lt;1-bit integer&gt;,
    pty_code = &lt;5-bit integer&gt;,
  },
  data = &lt;payload object&gt;,
}
</code></pre></div>    </div>

    <p>The payload object can be one of the four below.</p>

    <p>Basic tuning data payload:</p>

    <div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{
  type = "basictuning",
  ta_code = &lt;1-bit integer&gt;,
  ms_code = &lt;1-bit integer&gt;,
  di_position = &lt;2-bit integer&gt;,
  di_value = &lt;1-bit integer&gt;,
  af_code = {&lt;8-bit integer&gt;, &lt;8-bit integer&gt;} or nil,
  text_address = &lt;2-bit integer&gt;,
  text_data = &lt;string, length 2&gt;,
}
</code></pre></div>    </div>

    <p>Radio text data payload:</p>

    <div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{
  type = "radiotext",
  ab_flag = &lt;1-bit integer&gt;,
  text_address = &lt;4-bit integer&gt;,
  text_data = &lt;string, length 4 or 2&gt;,
}
</code></pre></div>    </div>

    <p>Datetime data payload:</p>

    <div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{
  type = "datetime",
  date = {year = &lt;integer&gt;, month = &lt;integer&gt;, day = &lt;integer&gt;},
  time = {hour = &lt;integer&gt;, minute = &lt;integer&gt;, offset = &lt;integer&gt;},
}
</code></pre></div>    </div>

    <p>Raw data payload (for unsupported group/version codes):</p>

    <div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{
  type = "raw",
  frame = {&lt;16-bit integer&gt;, &lt;16-bit integer&gt;, &lt;16-bit integer&gt;, &lt;16-bit integer&gt;},
}
</code></pre></div>    </div>

    <h6 id="arguments-93">Arguments</h6>

    <ul>
      <li><code class="language-plaintext highlighter-rouge">header</code> (<em>table</em>): Header table, as outlined above</li>
      <li><code class="language-plaintext highlighter-rouge">data</code> (<em>table</em>): Data payload table, as outlined above</li>
    </ul>

  </div>
</div>
<hr />

<div class="block">
  <h4 id="rdsframerblock">RDSFramerBlock</h4>

  <p>Correct, validate, and extract 104-bit RDS data groups from a bit stream
into frames.</p>

  <h5 id="radiordsframerblock"><code class="language-plaintext highlighter-rouge">radio.RDSFramerBlock()</code></h5>

  <h6 id="type-signatures-109">Type Signatures</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">in</code> <em>Bit</em> ➔❑➔ <code class="language-plaintext highlighter-rouge">out</code> <em>RDSFrameType</em></li>
  </ul>

  <h6 id="example-114">Example</h6>

  <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">local</span> <span class="n">framer</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">RDSFramerBlock</span><span class="p">()</span>
</code></pre></div>  </div>

  <div class="class">
    <h4 id="rdsframerblockrdsframetype">RDSFramerBlock.RDSFrameType</h4>

    <h5 id="radiordsframerblockrdsframetypedata"><code class="language-plaintext highlighter-rouge">radio.RDSFramerBlock.RDSFrameType(data)</code></h5>

    <p>RDS frame type, a C structure defined as:</p>

    <div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">typedef</span> <span class="k">struct</span> <span class="p">{</span>
    <span class="kt">uint16_t</span> <span class="n">blocks</span><span class="p">[</span><span class="mi">4</span><span class="p">];</span>
<span class="p">}</span> <span class="n">rds_frame_t</span><span class="p">;</span>
</code></pre></div>    </div>

    <h6 id="arguments-94">Arguments</h6>

    <ul>
      <li><code class="language-plaintext highlighter-rouge">data</code> (<em>table</em>): Array of four data words, e.g. <code class="language-plaintext highlighter-rouge">{{0x3aab, 0x02c9, 0x0608, 0x6469}}</code></li>
    </ul>

  </div>
</div>
<hr />

<div class="block">
  <h4 id="scmframerblock">SCMFramerBlock</h4>

  <p>Validate and extract SCM frames from a bit stream.</p>

  <h5 id="radioscmframerblock"><code class="language-plaintext highlighter-rouge">radio.SCMFramerBlock()</code></h5>

  <h6 id="type-signatures-110">Type Signatures</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">in</code> <em>Bit</em> ➔❑➔ <code class="language-plaintext highlighter-rouge">out</code> <em>SCMFrameType</em></li>
  </ul>

  <h6 id="example-115">Example</h6>

  <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">local</span> <span class="n">framer</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">SCMFramerBlock</span><span class="p">()</span>
</code></pre></div>  </div>

  <div class="class">
    <h4 id="scmframerblockscmframetype">SCMFramerBlock.SCMFrameType</h4>

    <h5 id="radioscmframerblockscmframetypetype-erttype-ertid-consumption-physicaltamper-encodertamper-reserved-crc"><code class="language-plaintext highlighter-rouge">radio.SCMFramerBlock.SCMFrameType(type, ert_type, ert_id, consumption, physical_tamper, encoder_tamper, reserved, crc)</code></h5>

    <p>SCM frame type, a Lua object with properties:</p>

    <div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{
  type = "scm",
  ert_type = &lt;4-bit integer&gt;,
  ert_id = &lt;26-bit integer&gt;,
  consumption = &lt;24-bit integer&gt;,
  physical_tamper = &lt;2-bit integer&gt;,
  encoder_tamper = &lt;2-bit integer&gt;,
  reserved = &lt;1-bit integer&gt;,
  crc = &lt;16-bit integer&gt;,
}
</code></pre></div>    </div>

    <h6 id="arguments-95">Arguments</h6>

    <ul>
      <li><code class="language-plaintext highlighter-rouge">type</code> (<em>string</em>): Protocol type, constant “scm”</li>
      <li><code class="language-plaintext highlighter-rouge">ert_type</code> (<em>int</em>): ERT Type field, 4-bits wide</li>
      <li><code class="language-plaintext highlighter-rouge">ert_id</code> (<em>int</em>): ERT ID Field, 26-bits wide</li>
      <li><code class="language-plaintext highlighter-rouge">consumption</code> (<em>int</em>): Consumption field, 24-bits wide</li>
      <li><code class="language-plaintext highlighter-rouge">physical_tamper</code> (<em>int</em>): Physcal tamper field, 2-bits wide</li>
      <li><code class="language-plaintext highlighter-rouge">encoder_tamper</code> (<em>int</em>): Encoder tamper field, 2-bits wide</li>
      <li><code class="language-plaintext highlighter-rouge">reserved</code> (<em>int</em>): Reserved field, 1-bit wide</li>
      <li><code class="language-plaintext highlighter-rouge">crc</code> (<em>int</em>): CRC field, 16-bits wide</li>
    </ul>

  </div>
</div>
<hr />

<div class="block">
  <h4 id="scmplusframerblock">SCMPlusFramerBlock</h4>

  <p>Validate and extract SCM+ frames from a bit stream.</p>

  <h5 id="radioscmplusframerblock"><code class="language-plaintext highlighter-rouge">radio.SCMPlusFramerBlock()</code></h5>

  <h6 id="type-signatures-111">Type Signatures</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">in</code> <em>Bit</em> ➔❑➔ <code class="language-plaintext highlighter-rouge">out</code> <em>SCMPlusFrameType</em></li>
  </ul>

  <h6 id="example-116">Example</h6>

  <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">local</span> <span class="n">framer</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">SCMPlusFramerBlock</span><span class="p">()</span>
</code></pre></div>  </div>

  <div class="class">
    <h4 id="scmplusframerblockscmplusframetype">SCMPlusFramerBlock.SCMPlusFrameType</h4>

    <h5 id="radioscmplusframerblockscmplusframetypetype-protocolid-erttype-ertid-consumption-tamper-crc"><code class="language-plaintext highlighter-rouge">radio.SCMPlusFramerBlock.SCMPlusFrameType(type, protocol_id, ert_type, ert_id, consumption, tamper, crc)</code></h5>

    <p>SCM+ frame type, a Lua object with properties:</p>

    <div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{
  type = "scm+",
  protocol_id = &lt;8-bit integer&gt;,
  ert_type = &lt;8-bit integer&gt;,
  ert_id = &lt;32-bit integer&gt;,
  consumption = &lt;32-bit integer&gt;,
  tamper = &lt;16-bit integer&gt;,
  crc = &lt;16-bit integer&gt;,
}
</code></pre></div>    </div>

    <h6 id="arguments-96">Arguments</h6>

    <ul>
      <li><code class="language-plaintext highlighter-rouge">type</code> (<em>string</em>): Protocol type, constant “scm+”</li>
      <li><code class="language-plaintext highlighter-rouge">protocol_id</code> (<em>int</em>): Protocol ID field, 8-bits wide</li>
      <li><code class="language-plaintext highlighter-rouge">ert_type</code> (<em>int</em>): ERT Type field, 8-bits wide</li>
      <li><code class="language-plaintext highlighter-rouge">ert_id</code> (<em>int</em>): ERT ID field, 32-bits wide</li>
      <li><code class="language-plaintext highlighter-rouge">consumption</code> (<em>int</em>): Consumption field, 32-bits wide</li>
      <li><code class="language-plaintext highlighter-rouge">tamper</code> (<em>int</em>): Tamper field, 16-bits wide</li>
      <li><code class="language-plaintext highlighter-rouge">crc</code> (<em>int</em>): CRC field, 16-bits wide</li>
    </ul>

  </div>
</div>
<hr />

<div class="block">
  <h4 id="varicodedecoderblock">VaricodeDecoderBlock</h4>

  <p>Decode a Varicode encoded bit stream into bytes.</p>

  <h5 id="radiovaricodedecoderblock"><code class="language-plaintext highlighter-rouge">radio.VaricodeDecoderBlock()</code></h5>

  <h6 id="type-signatures-112">Type Signatures</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">in</code> <em>Bit</em> ➔❑➔ <code class="language-plaintext highlighter-rouge">out</code> <em>Byte</em></li>
  </ul>

  <h6 id="example-117">Example</h6>

  <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">local</span> <span class="n">decoder</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">VaricodeDecoderBlock</span><span class="p">()</span>
</code></pre></div>  </div>

</div>
<hr />

<h3 id="receivers">Receivers</h3>

<div class="block">
  <h4 id="ax25receiver">AX25Receiver</h4>

  <p>Demodulate and decode AX.25 frames from a baseband, narrowband FM, Bell 202
AFSK modulated complex-valued signal.</p>

  <h5 id="radioax25receiver"><code class="language-plaintext highlighter-rouge">radio.AX25Receiver()</code></h5>

  <h6 id="type-signatures-113">Type Signatures</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">in</code> <em>ComplexFloat32</em> ➔❑➔ <code class="language-plaintext highlighter-rouge">out</code> <em>AX25FrameType</em></li>
  </ul>

  <h6 id="example-118">Example</h6>

  <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">local</span> <span class="n">receiver</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">AX25Receiver</span><span class="p">()</span>
<span class="kd">local</span> <span class="n">snk</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">JSONSink</span><span class="p">()</span>
<span class="n">top</span><span class="p">:</span><span class="n">connect</span><span class="p">(</span><span class="n">src</span><span class="p">,</span> <span class="n">receiver</span><span class="p">,</span> <span class="n">snk</span><span class="p">)</span>
</code></pre></div>  </div>

</div>
<hr />

<div class="block">
  <h4 id="bpsk31receiver">BPSK31Receiver</h4>

  <p>Demodulate and decode bytes from a baseband BPSK31 modulated complex-valued
signal.</p>

  <h5 id="radiobpsk31receiver"><code class="language-plaintext highlighter-rouge">radio.BPSK31Receiver()</code></h5>

  <h6 id="type-signatures-114">Type Signatures</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">in</code> <em>ComplexFloat32</em> ➔❑➔ <code class="language-plaintext highlighter-rouge">out</code> <em>Byte</em></li>
  </ul>

  <h6 id="example-119">Example</h6>

  <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">local</span> <span class="n">receiver</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">BPSK31Receiver</span><span class="p">()</span>
<span class="kd">local</span> <span class="n">snk</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">RawFileSink</span><span class="p">(</span><span class="nb">io.stdout</span><span class="p">)</span>
<span class="n">top</span><span class="p">:</span><span class="n">connect</span><span class="p">(</span><span class="n">src</span><span class="p">,</span> <span class="n">receiver</span><span class="p">,</span> <span class="n">snk</span><span class="p">)</span>
</code></pre></div>  </div>

</div>
<hr />

<div class="block">
  <h4 id="ertreceiver">ERTReceiver</h4>

  <p>Demodulate and decode ERT frames from an OOK modulated complex-valued
signal. IDM, SCM, SCM+ protocols are supported.</p>

  <p>This receiver is based on rtlamr’s excellent description:
<a href="https://github.com/bemasher/rtlamr/wiki/Signal-Processing">https://github.com/bemasher/rtlamr/wiki/Signal-Processing</a></p>

  <h5 id="radioertreceiverprotocolsidmscmscm-options"><code class="language-plaintext highlighter-rouge">radio.ERTReceiver([protocols={'idm','scm','scm+'}, options={}])</code></h5>

  <h6 id="arguments-97">Arguments</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">protocols</code> (<em>array</em>): Protocols to decode,
                                                 choice of ‘idm’, ‘scm’,
                                                 ‘scm+’. Default is all
                                                 three.</li>
    <li><code class="language-plaintext highlighter-rouge">options</code> (<em>table</em>): Additional options, specifying:
      <ul>
        <li><code class="language-plaintext highlighter-rouge">decimation</code> Downsampling factor (int, default 6)</li>
      </ul>
    </li>
  </ul>

  <h6 id="type-signatures-115">Type Signatures</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">in</code> <em>ComplexFloat32</em> ➔❑➔ <code class="language-plaintext highlighter-rouge">out1</code> <em>IDMFrameType</em>, <code class="language-plaintext highlighter-rouge">out2</code> <em>SCMFrameType</em>, <code class="language-plaintext highlighter-rouge">...</code></li>
  </ul>

  <h6 id="example-120">Example</h6>

  <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">local</span> <span class="n">receiver</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">ERTReceiver</span><span class="p">({</span><span class="s1">'scm'</span><span class="p">,</span> <span class="s1">'scm+'</span><span class="p">})</span>
<span class="kd">local</span> <span class="n">scm_sink</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">PrintSink</span><span class="p">()</span>
<span class="kd">local</span> <span class="n">scm_plus_sink</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">PrintSink</span><span class="p">()</span>
<span class="n">top</span><span class="p">:</span><span class="n">connect</span><span class="p">(</span><span class="n">src</span><span class="p">,</span> <span class="n">receiver</span><span class="p">)</span>
<span class="n">top</span><span class="p">:</span><span class="n">connect</span><span class="p">(</span><span class="n">receiver</span><span class="p">,</span> <span class="s1">'out1'</span><span class="p">,</span> <span class="n">scm_sink</span><span class="p">,</span> <span class="s1">'in'</span><span class="p">)</span>
<span class="n">top</span><span class="p">:</span><span class="n">connect</span><span class="p">(</span><span class="n">receiver</span><span class="p">,</span> <span class="s1">'out2'</span><span class="p">,</span> <span class="n">scm_plus_sink</span><span class="p">,</span> <span class="s1">'in'</span><span class="p">)</span>
</code></pre></div>  </div>

</div>
<hr />

<div class="block">
  <h4 id="pocsagreceiver">POCSAGReceiver</h4>

  <p>Demodulate and decode POCSAG messages from a baseband, 4.5 kHz shift FSK
modulated complex-valued signal.</p>

  <h5 id="radiopocsagreceiver"><code class="language-plaintext highlighter-rouge">radio.POCSAGReceiver()</code></h5>

  <h6 id="type-signatures-116">Type Signatures</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">in</code> <em>ComplexFloat32</em> ➔❑➔ <code class="language-plaintext highlighter-rouge">out</code> <em>POCSAGMessageType</em></li>
  </ul>

  <h6 id="example-121">Example</h6>

  <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">local</span> <span class="n">receiver</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">POCSAGReceiver</span><span class="p">()</span>
<span class="kd">local</span> <span class="n">snk</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">JSONSink</span><span class="p">()</span>
<span class="n">top</span><span class="p">:</span><span class="n">connect</span><span class="p">(</span><span class="n">src</span><span class="p">,</span> <span class="n">receiver</span><span class="p">,</span> <span class="n">snk</span><span class="p">)</span>
</code></pre></div>  </div>

</div>
<hr />

<div class="block">
  <h4 id="rdsreceiver">RDSReceiver</h4>

  <p>Demodulate and decode RDS frames from a baseband, wideband FM broadcast
modulated complex-valued signal.</p>

  <h5 id="radiordsreceiver"><code class="language-plaintext highlighter-rouge">radio.RDSReceiver()</code></h5>

  <h6 id="type-signatures-117">Type Signatures</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">in</code> <em>ComplexFloat32</em> ➔❑➔ <code class="language-plaintext highlighter-rouge">out</code> <em>RDSPacketType</em></li>
  </ul>

  <h6 id="example-122">Example</h6>

  <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">local</span> <span class="n">receiver</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">RDSReceiver</span><span class="p">()</span>
<span class="kd">local</span> <span class="n">snk</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">JSONSink</span><span class="p">()</span>
<span class="n">top</span><span class="p">:</span><span class="n">connect</span><span class="p">(</span><span class="n">src</span><span class="p">,</span> <span class="n">receiver</span><span class="p">,</span> <span class="n">snk</span><span class="p">)</span>
</code></pre></div>  </div>

</div>
<hr />

<h2 id="infrastructure">Infrastructure</h2>

<h3 id="package">Package</h3>

<p>LuaRadio package.</p>

<div class="field">
  <h5 id="radioversion"><code class="language-plaintext highlighter-rouge">radio._VERSION</code></h5>

  <p><em>string</em>: Package version as a string, e.g. “1.0.0”.</p>

</div>
<hr />

<div class="field">
  <h5 id="radioversion-1"><code class="language-plaintext highlighter-rouge">radio.version</code></h5>

  <p><em>string</em>: Package version as a string, e.g. “1.0.0”.</p>

</div>
<hr />

<div class="field">
  <h5 id="radioversionnumber"><code class="language-plaintext highlighter-rouge">radio.version_number</code></h5>

  <p><em>int</em>: Package version as a number, encoded in decimal as xxyyzz, e.g. v1.2.15 would be 10215.</p>

</div>
<hr />

<div class="field">
  <h5 id="radioversioninfo"><code class="language-plaintext highlighter-rouge">radio.version_info</code></h5>

  <p><em>table</em>: Package version as a table, with keys <code class="language-plaintext highlighter-rouge">major</code>, <code class="language-plaintext highlighter-rouge">minor</code>, <code class="language-plaintext highlighter-rouge">patch</code> and integer values.</p>

</div>
<hr />

<div class="field">
  <h5 id="radiotypes"><code class="language-plaintext highlighter-rouge">radio.types</code></h5>

  <p><em>module</em>: Types module.</p>

</div>
<hr />

<div class="field">
  <h5 id="radioblock"><code class="language-plaintext highlighter-rouge">radio.block</code></h5>

  <p><em>module</em>: Block module.</p>

</div>
<hr />

<div class="field">
  <h5 id="radiodebug"><code class="language-plaintext highlighter-rouge">radio.debug</code></h5>

  <p><em>module</em>: Debug module.</p>

</div>
<hr />

<div class="field">
  <h5 id="radioplatform"><code class="language-plaintext highlighter-rouge">radio.platform</code></h5>

  <p><em>module</em>: Platform module.</p>

</div>
<hr />

<h3 id="basic-types">Basic Types</h3>

<div class="class">
  <h4 id="complexfloat32">ComplexFloat32</h4>

  <h5 id="radiotypescomplexfloat32real00-imag00"><code class="language-plaintext highlighter-rouge">radio.types.ComplexFloat32([real=0.0, imag=0.0])</code></h5>

  <p>ComplexFloat32 data type, a C structure defined as:</p>

  <div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">typedef</span> <span class="k">struct</span> <span class="n">complex_float32</span> <span class="p">{</span>
    <span class="kt">float</span> <span class="n">real</span><span class="p">;</span>
    <span class="kt">float</span> <span class="n">imag</span><span class="p">;</span>
<span class="p">}</span> <span class="n">complex_float32_t</span><span class="p">;</span>
</code></pre></div>  </div>

  <h6 id="arguments-98">Arguments</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">real</code> (<em>float</em>): Initial real part</li>
    <li><code class="language-plaintext highlighter-rouge">imag</code> (<em>float</em>): Initial imaginary part</li>
  </ul>

  <div class="function">
    <h5 id="complexfloat32vectornum"><code class="language-plaintext highlighter-rouge">ComplexFloat32.vector(num)</code></h5>

    <p>Construct a zero-initialized ComplexFloat32 vector.</p>

    <h6 id="arguments-99">Arguments</h6>

    <ul>
      <li><code class="language-plaintext highlighter-rouge">num</code> (<em>int</em>): Number of elements in the vector</li>
    </ul>

    <h6 id="returns-6">Returns</h6>

    <ul>
      <li>ComplexFloat32 vector (<em>Vector</em>)</li>
    </ul>

    <h6 id="example-123">Example</h6>

    <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">local</span> <span class="n">vec</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">types</span><span class="p">.</span><span class="n">ComplexFloat32</span><span class="p">.</span><span class="n">vector</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
</code></pre></div>    </div>

  </div>
  <div class="function">
    <h5 id="complexfloat32vectorfromarrayarr"><code class="language-plaintext highlighter-rouge">ComplexFloat32.vector_from_array(arr)</code></h5>

    <p>Construct a ComplexFloat32 vector initialized from an array.</p>

    <h6 id="arguments-100">Arguments</h6>

    <ul>
      <li><code class="language-plaintext highlighter-rouge">arr</code> (<em>array</em>): Array with element initializers</li>
    </ul>

    <h6 id="returns-7">Returns</h6>

    <ul>
      <li>ComplexFloat32 vector (<em>Vector</em>)</li>
    </ul>

    <h6 id="example-124">Example</h6>

    <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">local</span> <span class="n">vec</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">types</span><span class="p">.</span><span class="n">ComplexFloat32</span><span class="p">.</span><span class="n">vector_from_array</span><span class="p">({{</span><span class="mi">1</span><span class="p">.</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">.</span><span class="mi">0</span><span class="p">},</span> <span class="p">{</span><span class="mi">2</span><span class="p">.</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">.</span><span class="mi">0</span><span class="p">},</span> <span class="p">{</span><span class="mi">3</span><span class="p">.</span><span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">.</span><span class="mi">0</span><span class="p">}})</span>
</code></pre></div>    </div>

  </div>
  <div class="function">
    <h5 id="complexfloat32addother"><code class="language-plaintext highlighter-rouge">ComplexFloat32:__add(other)</code></h5>

    <p>Add two ComplexFloat32s.</p>

    <h6 id="arguments-101">Arguments</h6>

    <ul>
      <li><code class="language-plaintext highlighter-rouge">other</code> (<em>ComplexFloat32</em>): Operand</li>
    </ul>

    <h6 id="returns-8">Returns</h6>

    <ul>
      <li>Result (<em>ComplexFloat32</em>)</li>
    </ul>

  </div>
  <div class="function">
    <h5 id="complexfloat32subother"><code class="language-plaintext highlighter-rouge">ComplexFloat32:__sub(other)</code></h5>

    <p>Subtract two ComplexFloat32s.</p>

    <h6 id="arguments-102">Arguments</h6>

    <ul>
      <li><code class="language-plaintext highlighter-rouge">other</code> (<em>ComplexFloat32</em>): Operand</li>
    </ul>

    <h6 id="returns-9">Returns</h6>

    <ul>
      <li>Result (<em>ComplexFloat32</em>)</li>
    </ul>

  </div>
  <div class="function">
    <h5 id="complexfloat32mulother"><code class="language-plaintext highlighter-rouge">ComplexFloat32:__mul(other)</code></h5>

    <p>Multiply two ComplexFloat32s.</p>

    <h6 id="arguments-103">Arguments</h6>

    <ul>
      <li><code class="language-plaintext highlighter-rouge">other</code> (<em>ComplexFloat32</em>): Operand</li>
    </ul>

    <h6 id="returns-10">Returns</h6>

    <ul>
      <li>Result (<em>ComplexFloat32</em>)</li>
    </ul>

  </div>
  <div class="function">
    <h5 id="complexfloat32divother"><code class="language-plaintext highlighter-rouge">ComplexFloat32:__div(other)</code></h5>

    <p>Divide two ComplexFloat32s.</p>

    <h6 id="arguments-104">Arguments</h6>

    <ul>
      <li><code class="language-plaintext highlighter-rouge">other</code> (<em>ComplexFloat32</em>): Operand</li>
    </ul>

    <h6 id="returns-11">Returns</h6>

    <ul>
      <li>Result (<em>ComplexFloat32</em>)</li>
    </ul>

  </div>
  <div class="function">
    <h5 id="complexfloat32eqother"><code class="language-plaintext highlighter-rouge">ComplexFloat32:__eq(other)</code></h5>

    <p>Compare two ComplexFloat32s for equality.</p>

    <h6 id="arguments-105">Arguments</h6>

    <ul>
      <li><code class="language-plaintext highlighter-rouge">other</code> (<em>ComplexFloat32</em>): Other ComplexFloat32</li>
    </ul>

    <h6 id="returns-12">Returns</h6>

    <ul>
      <li>Result (<em>bool</em>)</li>
    </ul>

  </div>
  <div class="function">
    <h5 id="complexfloat32ltother"><code class="language-plaintext highlighter-rouge">ComplexFloat32:__lt(other)</code></h5>

    <p>Compare two ComplexFloat32s for less than.</p>

    <h6 id="arguments-106">Arguments</h6>

    <ul>
      <li><code class="language-plaintext highlighter-rouge">other</code> (<em>ComplexFloat32</em>): Other ComplexFloat32</li>
    </ul>

    <h6 id="returns-13">Returns</h6>

    <ul>
      <li>Result (<em>bool</em>)</li>
    </ul>

  </div>
  <div class="function">
    <h5 id="complexfloat32leother"><code class="language-plaintext highlighter-rouge">ComplexFloat32:__le(other)</code></h5>

    <p>Compare two ComplexFloat32s for less than or equal.</p>

    <h6 id="arguments-107">Arguments</h6>

    <ul>
      <li><code class="language-plaintext highlighter-rouge">other</code> (<em>ComplexFloat32</em>): Other ComplexFloat32</li>
    </ul>

    <h6 id="returns-14">Returns</h6>

    <ul>
      <li>Result (<em>bool</em>)</li>
    </ul>

  </div>
  <div class="function">
    <h5 id="complexfloat32scalarmulother"><code class="language-plaintext highlighter-rouge">ComplexFloat32:scalar_mul(other)</code></h5>

    <p>Multiply a ComplexFloat32 by a scalar.</p>

    <h6 id="arguments-108">Arguments</h6>

    <ul>
      <li><code class="language-plaintext highlighter-rouge">other</code> (<em>number</em>): Scalar</li>
    </ul>

    <h6 id="returns-15">Returns</h6>

    <ul>
      <li>Result (<em>ComplexFloat32</em>)</li>
    </ul>

  </div>
  <div class="function">
    <h5 id="complexfloat32scalardivother"><code class="language-plaintext highlighter-rouge">ComplexFloat32:scalar_div(other)</code></h5>

    <p>Divide a ComplexFloat32 by a scalar.</p>

    <h6 id="arguments-109">Arguments</h6>

    <ul>
      <li><code class="language-plaintext highlighter-rouge">other</code> (<em>number</em>): Scalar</li>
    </ul>

    <h6 id="returns-16">Returns</h6>

    <ul>
      <li>Result (<em>ComplexFloat32</em>)</li>
    </ul>

  </div>
  <div class="function">
    <h5 id="complexfloat32arg"><code class="language-plaintext highlighter-rouge">ComplexFloat32:arg()</code></h5>

    <p>Compute the complex argument, in interval \((-\pi, \pi]\).</p>

\[\angle z = \text{atan2}(\text{Im}(z), \text{Re}(z))\]

    <h6 id="returns-17">Returns</h6>

    <ul>
      <li>Result (<em>number</em>)</li>
    </ul>

  </div>
  <div class="function">
    <h5 id="complexfloat32abs"><code class="language-plaintext highlighter-rouge">ComplexFloat32:abs()</code></h5>

    <p>Compute the complex magnitude.</p>

\[|z| = \sqrt{\text{Re}(z)^2 + \text{Im}(z)^2}\]

    <h6 id="returns-18">Returns</h6>

    <ul>
      <li>Result (<em>number</em>)</li>
    </ul>

  </div>
  <div class="function">
    <h5 id="complexfloat32abssquared"><code class="language-plaintext highlighter-rouge">ComplexFloat32:abs_squared()</code></h5>

    <p>Compute the complex magnitude squared.</p>

\[|z|^2 = \text{Re}(z)^2 + \text{Im}(z)^2\]

    <h6 id="returns-19">Returns</h6>

    <ul>
      <li>Result (<em>number</em>)</li>
    </ul>

  </div>
  <div class="function">
    <h5 id="complexfloat32conj"><code class="language-plaintext highlighter-rouge">ComplexFloat32:conj()</code></h5>

    <p>Get the complex conjugate.</p>

    <h6 id="returns-20">Returns</h6>

    <ul>
      <li>Result (<em>ComplexFloat32</em>)</li>
    </ul>

  </div>
  <div class="function">
    <h5 id="complexfloat32approxequalx-y-epsilon"><code class="language-plaintext highlighter-rouge">ComplexFloat32.approx_equal(x, y, epsilon)</code></h5>

    <p>Compare two ComplexFloat32s for approximate equality within the specified epsilon.</p>

    <h6 id="arguments-110">Arguments</h6>

    <ul>
      <li><code class="language-plaintext highlighter-rouge">x</code> (<em>ComplexFloat32</em>): First ComplexFloat32</li>
      <li><code class="language-plaintext highlighter-rouge">y</code> (<em>ComplexFloat32</em>): Second ComplexFloat32</li>
      <li><code class="language-plaintext highlighter-rouge">epsilon</code> (<em>number</em>): Epsilon</li>
    </ul>

    <h6 id="returns-21">Returns</h6>

    <ul>
      <li>Result (<em>bool</em>)</li>
    </ul>

  </div>
  <div class="function">
    <h5 id="complexfloat32tostring"><code class="language-plaintext highlighter-rouge">ComplexFloat32:__tostring()</code></h5>

    <p>Get a string representation.</p>

    <h6 id="returns-22">Returns</h6>

    <ul>
      <li>String representation (<em>string</em>)</li>
    </ul>

    <h6 id="example-125">Example</h6>

    <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">local</span> <span class="n">x</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">types</span><span class="p">.</span><span class="n">ComplexFloat32</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">))</span> <span class="c1">--&gt; ComplexFloat32&lt;real=0, imag=0&gt;</span>
</code></pre></div>    </div>

  </div>
  <div class="function">
    <h5 id="complexfloat32typename"><code class="language-plaintext highlighter-rouge">ComplexFloat32.type_name</code></h5>

    <p>Type name of ComplexFloat32.</p>

    <h6 id="returns-23">Returns</h6>

    <ul>
      <li>Type name (<em>string</em>)</li>
    </ul>

    <h6 id="example-126">Example</h6>

    <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">print</span><span class="p">(</span><span class="n">radio</span><span class="p">.</span><span class="n">types</span><span class="p">.</span><span class="n">ComplexFloat32</span><span class="p">.</span><span class="n">type_name</span><span class="p">)</span> <span class="c1">--&gt; ComplexFloat32</span>
</code></pre></div>    </div>

  </div>
</div>
<hr />

<div class="class">
  <h4 id="float32">Float32</h4>

  <h5 id="radiotypesfloat32value00"><code class="language-plaintext highlighter-rouge">radio.types.Float32([value=0.0])</code></h5>

  <p>Float32 data type, a C structure defined as:</p>

  <div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">typedef</span> <span class="k">struct</span> <span class="n">float32</span> <span class="p">{</span>
    <span class="kt">float</span> <span class="n">value</span><span class="p">;</span>
<span class="p">}</span> <span class="n">float32_t</span><span class="p">;</span>
</code></pre></div>  </div>

  <h6 id="arguments-111">Arguments</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">value</code> (<em>float</em>): Initial value</li>
  </ul>

  <div class="function">
    <h5 id="float32vectornum"><code class="language-plaintext highlighter-rouge">Float32.vector(num)</code></h5>

    <p>Construct a zero-initialized Float32 vector.</p>

    <h6 id="arguments-112">Arguments</h6>

    <ul>
      <li><code class="language-plaintext highlighter-rouge">num</code> (<em>int</em>): Number of elements in the vector</li>
    </ul>

    <h6 id="returns-24">Returns</h6>

    <ul>
      <li>Float32 vector (<em>Vector</em>)</li>
    </ul>

    <h6 id="example-127">Example</h6>

    <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">local</span> <span class="n">vec</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">types</span><span class="p">.</span><span class="n">Float32</span><span class="p">.</span><span class="n">vector</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
</code></pre></div>    </div>

  </div>
  <div class="function">
    <h5 id="float32vectorfromarrayarr"><code class="language-plaintext highlighter-rouge">Float32.vector_from_array(arr)</code></h5>

    <p>Construct a Float32 vector initialized from an array.</p>

    <h6 id="arguments-113">Arguments</h6>

    <ul>
      <li><code class="language-plaintext highlighter-rouge">arr</code> (<em>array</em>): Array with element initializers</li>
    </ul>

    <h6 id="returns-25">Returns</h6>

    <ul>
      <li>Float32 vector (<em>Vector</em>)</li>
    </ul>

    <h6 id="example-128">Example</h6>

    <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">local</span> <span class="n">vec</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">types</span><span class="p">.</span><span class="n">Float32</span><span class="p">.</span><span class="n">vector_from_array</span><span class="p">({</span><span class="mi">1</span><span class="p">.</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">.</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">.</span><span class="mi">0</span><span class="p">})</span>
</code></pre></div>    </div>

  </div>
  <div class="function">
    <h5 id="float32addother"><code class="language-plaintext highlighter-rouge">Float32:__add(other)</code></h5>

    <p>Add two Float32s.</p>

    <h6 id="arguments-114">Arguments</h6>

    <ul>
      <li><code class="language-plaintext highlighter-rouge">other</code> (<em>Float32</em>): Operand</li>
    </ul>

    <h6 id="returns-26">Returns</h6>

    <ul>
      <li>Result (<em>Float32</em>)</li>
    </ul>

  </div>
  <div class="function">
    <h5 id="float32subother"><code class="language-plaintext highlighter-rouge">Float32:__sub(other)</code></h5>

    <p>Subtract two Float32s.</p>

    <h6 id="arguments-115">Arguments</h6>

    <ul>
      <li><code class="language-plaintext highlighter-rouge">other</code> (<em>Float32</em>): Operand</li>
    </ul>

    <h6 id="returns-27">Returns</h6>

    <ul>
      <li>Result (<em>Float32</em>)</li>
    </ul>

  </div>
  <div class="function">
    <h5 id="float32mulother"><code class="language-plaintext highlighter-rouge">Float32:__mul(other)</code></h5>

    <p>Multiply two Float32s.</p>

    <h6 id="arguments-116">Arguments</h6>

    <ul>
      <li><code class="language-plaintext highlighter-rouge">other</code> (<em>Float32</em>): Operand</li>
    </ul>

    <h6 id="returns-28">Returns</h6>

    <ul>
      <li>Result (<em>Float32</em>)</li>
    </ul>

  </div>
  <div class="function">
    <h5 id="float32divother"><code class="language-plaintext highlighter-rouge">Float32:__div(other)</code></h5>

    <p>Divide two Float32s.</p>

    <h6 id="arguments-117">Arguments</h6>

    <ul>
      <li><code class="language-plaintext highlighter-rouge">other</code> (<em>Float32</em>): Operand</li>
    </ul>

    <h6 id="returns-29">Returns</h6>

    <ul>
      <li>Result (<em>Float32</em>)</li>
    </ul>

  </div>
  <div class="function">
    <h5 id="float32eqother"><code class="language-plaintext highlighter-rouge">Float32:__eq(other)</code></h5>

    <p>Compare two Float32s for equality.</p>

    <h6 id="arguments-118">Arguments</h6>

    <ul>
      <li><code class="language-plaintext highlighter-rouge">other</code> (<em>Float32</em>): Other Float32</li>
    </ul>

    <h6 id="returns-30">Returns</h6>

    <ul>
      <li>Result (<em>bool</em>)</li>
    </ul>

  </div>
  <div class="function">
    <h5 id="float32ltother"><code class="language-plaintext highlighter-rouge">Float32:__lt(other)</code></h5>

    <p>Compare two Float32s for less than.</p>

    <h6 id="arguments-119">Arguments</h6>

    <ul>
      <li><code class="language-plaintext highlighter-rouge">other</code> (<em>Float32</em>): Other Float32</li>
    </ul>

    <h6 id="returns-31">Returns</h6>

    <ul>
      <li>Result (<em>bool</em>)</li>
    </ul>

  </div>
  <div class="function">
    <h5 id="float32leother"><code class="language-plaintext highlighter-rouge">Float32:__le(other)</code></h5>

    <p>Compare two Float32s for less than or equal.</p>

    <h6 id="arguments-120">Arguments</h6>

    <ul>
      <li><code class="language-plaintext highlighter-rouge">other</code> (<em>Float32</em>): Other Float32</li>
    </ul>

    <h6 id="returns-32">Returns</h6>

    <ul>
      <li>Result (<em>bool</em>)</li>
    </ul>

  </div>
  <div class="function">
    <h5 id="float32approxequalx-y-epsilon"><code class="language-plaintext highlighter-rouge">Float32.approx_equal(x, y, epsilon)</code></h5>

    <p>Compare two Float32s for approximate equality within the specified epsilon.</p>

    <h6 id="arguments-121">Arguments</h6>

    <ul>
      <li><code class="language-plaintext highlighter-rouge">x</code> (<em>Float32</em>): First Float32</li>
      <li><code class="language-plaintext highlighter-rouge">y</code> (<em>Float32</em>): Second Float32</li>
      <li><code class="language-plaintext highlighter-rouge">epsilon</code> (<em>number</em>): Epsilon</li>
    </ul>

    <h6 id="returns-33">Returns</h6>

    <ul>
      <li>Result (<em>bool</em>)</li>
    </ul>

  </div>
  <div class="function">
    <h5 id="float32tostring"><code class="language-plaintext highlighter-rouge">Float32:__tostring()</code></h5>

    <p>Get a string representation.</p>

    <h6 id="returns-34">Returns</h6>

    <ul>
      <li>String representation (<em>string</em>)</li>
    </ul>

    <h6 id="example-129">Example</h6>

    <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">local</span> <span class="n">x</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">types</span><span class="p">.</span><span class="n">Float32</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">))</span> <span class="c1">--&gt; Float32&lt;value=0&gt;</span>
</code></pre></div>    </div>

  </div>
  <div class="function">
    <h5 id="float32typename"><code class="language-plaintext highlighter-rouge">Float32.type_name</code></h5>

    <p>Type name of Float32.</p>

    <h6 id="returns-35">Returns</h6>

    <ul>
      <li>Type name (<em>string</em>)</li>
    </ul>

    <h6 id="example-130">Example</h6>

    <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">print</span><span class="p">(</span><span class="n">radio</span><span class="p">.</span><span class="n">types</span><span class="p">.</span><span class="n">Float32</span><span class="p">.</span><span class="n">type_name</span><span class="p">)</span> <span class="c1">--&gt; Float32</span>
</code></pre></div>    </div>

  </div>
</div>
<hr />

<div class="class">
  <h4 id="bit">Bit</h4>

  <h5 id="radiotypesbitvalue0"><code class="language-plaintext highlighter-rouge">radio.types.Bit([value=0])</code></h5>

  <p>Bit data type, a C structure defined as:</p>

  <div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">typedef</span> <span class="k">struct</span> <span class="n">bit</span> <span class="p">{</span>
    <span class="kt">uint8_t</span> <span class="n">value</span><span class="p">;</span>
<span class="p">}</span> <span class="n">bit_t</span><span class="p">;</span>
</code></pre></div>  </div>

  <h6 id="arguments-122">Arguments</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">value</code> (<em>int</em>): Initial value</li>
  </ul>

  <div class="function">
    <h5 id="bitvectornum"><code class="language-plaintext highlighter-rouge">Bit.vector(num)</code></h5>

    <p>Construct a zero-initialized Bit vector.</p>

    <h6 id="arguments-123">Arguments</h6>

    <ul>
      <li><code class="language-plaintext highlighter-rouge">num</code> (<em>int</em>): Number of elements in the vector</li>
    </ul>

    <h6 id="returns-36">Returns</h6>

    <ul>
      <li>Bit vector (<em>Vector</em>)</li>
    </ul>

    <h6 id="example-131">Example</h6>

    <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">local</span> <span class="n">vec</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">types</span><span class="p">.</span><span class="n">Bit</span><span class="p">.</span><span class="n">vector</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
</code></pre></div>    </div>

  </div>
  <div class="function">
    <h5 id="bitvectorfromarrayarr"><code class="language-plaintext highlighter-rouge">Bit.vector_from_array(arr)</code></h5>

    <p>Construct a Bit vector initialized from an array.</p>

    <h6 id="arguments-124">Arguments</h6>

    <ul>
      <li><code class="language-plaintext highlighter-rouge">arr</code> (<em>array</em>): Array with element initializers</li>
    </ul>

    <h6 id="returns-37">Returns</h6>

    <ul>
      <li>Bit vector (<em>Vector</em>)</li>
    </ul>

    <h6 id="example-132">Example</h6>

    <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">local</span> <span class="n">vec</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">types</span><span class="p">.</span><span class="n">Bit</span><span class="p">.</span><span class="n">vector_from_array</span><span class="p">({</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">})</span>
</code></pre></div>    </div>

  </div>
  <div class="function">
    <h5 id="bitbandother"><code class="language-plaintext highlighter-rouge">Bit:band(other)</code></h5>

    <p>Bitwise-AND two Bits.</p>

    <h6 id="arguments-125">Arguments</h6>

    <ul>
      <li><code class="language-plaintext highlighter-rouge">other</code> (<em>Bit</em>): Operand</li>
    </ul>

    <h6 id="returns-38">Returns</h6>

    <ul>
      <li>Result (<em>Bit</em>)</li>
    </ul>

  </div>
  <div class="function">
    <h5 id="bitborother"><code class="language-plaintext highlighter-rouge">Bit:bor(other)</code></h5>

    <p>Bitwise-OR two Bits.</p>

    <h6 id="arguments-126">Arguments</h6>

    <ul>
      <li><code class="language-plaintext highlighter-rouge">other</code> (<em>Bit</em>): Operand</li>
    </ul>

    <h6 id="returns-39">Returns</h6>

    <ul>
      <li>Result (<em>Bit</em>)</li>
    </ul>

  </div>
  <div class="function">
    <h5 id="bitbxorother"><code class="language-plaintext highlighter-rouge">Bit:bxor(other)</code></h5>

    <p>Bitwise-XOR two Bits.</p>

    <h6 id="arguments-127">Arguments</h6>

    <ul>
      <li><code class="language-plaintext highlighter-rouge">other</code> (<em>Bit</em>): Operand</li>
    </ul>

    <h6 id="returns-40">Returns</h6>

    <ul>
      <li>Result (<em>Bit</em>)</li>
    </ul>

  </div>
  <div class="function">
    <h5 id="bitbnot"><code class="language-plaintext highlighter-rouge">Bit:bnot()</code></h5>

    <p>Bitwise-NOT a Bit.</p>

    <h6 id="returns-41">Returns</h6>

    <ul>
      <li>Result (<em>Bit</em>)</li>
    </ul>

  </div>
  <div class="function">
    <h5 id="biteqother"><code class="language-plaintext highlighter-rouge">Bit:__eq(other)</code></h5>

    <p>Compare two Bits for equality.</p>

    <h6 id="arguments-128">Arguments</h6>

    <ul>
      <li><code class="language-plaintext highlighter-rouge">other</code> (<em>Bit</em>): Other bit</li>
    </ul>

    <h6 id="returns-42">Returns</h6>

    <ul>
      <li>Result (<em>bool</em>)</li>
    </ul>

  </div>
  <div class="function">
    <h5 id="bittostring"><code class="language-plaintext highlighter-rouge">Bit:__tostring()</code></h5>

    <p>Get a string representation.</p>

    <h6 id="returns-43">Returns</h6>

    <ul>
      <li>String representation (<em>string</em>)</li>
    </ul>

    <h6 id="example-133">Example</h6>

    <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">local</span> <span class="n">x</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">types</span><span class="p">.</span><span class="n">Bit</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">))</span> <span class="c1">--&gt; Bit&lt;value=0&gt;</span>
</code></pre></div>    </div>

  </div>
  <div class="function">
    <h5 id="bittypename"><code class="language-plaintext highlighter-rouge">Bit.type_name</code></h5>

    <p>Type name of Bit.</p>

    <h6 id="returns-44">Returns</h6>

    <ul>
      <li>Type name (<em>string</em>)</li>
    </ul>

    <h6 id="example-134">Example</h6>

    <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">print</span><span class="p">(</span><span class="n">radio</span><span class="p">.</span><span class="n">types</span><span class="p">.</span><span class="n">Bit</span><span class="p">.</span><span class="n">type_name</span><span class="p">)</span> <span class="c1">--&gt; Bit</span>
</code></pre></div>    </div>

  </div>
  <div class="function">
    <h5 id="bittonumbervec-length-offset0-ordermsb"><code class="language-plaintext highlighter-rouge">Bit.tonumber(vec, length[, offset=0, order="msb"])</code></h5>

    <p>Convert a Bit vector to a number.</p>

    <h6 id="arguments-129">Arguments</h6>

    <ul>
      <li><code class="language-plaintext highlighter-rouge">vec</code> (<em>Vector</em>): Bit vector</li>
      <li><code class="language-plaintext highlighter-rouge">offset</code> (<em>int</em>): Offset in bits</li>
      <li><code class="language-plaintext highlighter-rouge">length</code> (<em>int</em>): Length in bits</li>
      <li><code class="language-plaintext highlighter-rouge">order</code> (<em>string</em>): Bit order. Choice of “msb” or “lsb”.</li>
    </ul>

    <h6 id="returns-45">Returns</h6>

    <ul>
      <li>Extracted number (<em>number</em>)</li>
    </ul>

    <h6 id="example-135">Example</h6>

    <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">local</span> <span class="n">vec</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">types</span><span class="p">.</span><span class="n">Bit</span><span class="p">.</span><span class="n">vector_from_array</span><span class="p">({</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">})</span>
<span class="nb">assert</span><span class="p">(</span><span class="n">radio</span><span class="p">.</span><span class="n">types</span><span class="p">.</span><span class="n">Bit</span><span class="p">.</span><span class="n">tonumber</span><span class="p">(</span><span class="n">vec</span><span class="p">)</span> <span class="o">==</span> <span class="mi">5</span><span class="p">)</span>
<span class="nb">assert</span><span class="p">(</span><span class="n">radio</span><span class="p">.</span><span class="n">types</span><span class="p">.</span><span class="n">Bit</span><span class="p">.</span><span class="n">tonumber</span><span class="p">(</span><span class="n">vec</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="s1">'lsb'</span><span class="p">)</span> <span class="o">==</span> <span class="mi">10</span><span class="p">)</span>
<span class="nb">assert</span><span class="p">(</span><span class="n">radio</span><span class="p">.</span><span class="n">types</span><span class="p">.</span><span class="n">Bit</span><span class="p">.</span><span class="n">tonumber</span><span class="p">(</span><span class="n">vec</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">'msb'</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span>
<span class="nb">assert</span><span class="p">(</span><span class="n">radio</span><span class="p">.</span><span class="n">types</span><span class="p">.</span><span class="n">Bit</span><span class="p">.</span><span class="n">tonumber</span><span class="p">(</span><span class="n">vec</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">'lsb'</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span><span class="p">)</span>
</code></pre></div>    </div>

  </div>
  <div class="function">
    <h5 id="bittobytesvec-length-offset0"><code class="language-plaintext highlighter-rouge">Bit.tobytes(vec, length[, offset=0])</code></h5>

    <p>Convert a Bit vector to a byte string. Assumes MSB bit order.</p>

    <h6 id="arguments-130">Arguments</h6>

    <ul>
      <li><code class="language-plaintext highlighter-rouge">vec</code> (<em>Vector</em>): Bit vector</li>
      <li><code class="language-plaintext highlighter-rouge">offset</code> (<em>int</em>): Offset in bits</li>
      <li><code class="language-plaintext highlighter-rouge">length</code> (<em>int</em>): Length in bits</li>
    </ul>

    <h6 id="returns-46">Returns</h6>

    <ul>
      <li>Extracted bytes (<em>string</em>)</li>
    </ul>

    <h6 id="example-136">Example</h6>

    <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- Convert bits starting at offset 16 to an 8-byte byte string</span>
<span class="kd">local</span> <span class="n">data</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">types</span><span class="p">.</span><span class="n">Bit</span><span class="p">.</span><span class="n">tobytes</span><span class="p">(</span><span class="n">vec</span><span class="p">,</span> <span class="mi">16</span><span class="p">,</span> <span class="mi">10</span><span class="o">*</span><span class="mi">8</span><span class="p">)</span>
</code></pre></div>    </div>

  </div>
  <div class="function">
    <h5 id="bittostringvec-length-offset0"><code class="language-plaintext highlighter-rouge">Bit.tostring(vec, length[, offset=0])</code></h5>

    <p>Format a Bit vector to a string. Assumes MSB bit order.</p>

    <h6 id="arguments-131">Arguments</h6>

    <ul>
      <li><code class="language-plaintext highlighter-rouge">vec</code> (<em>Vector</em>): Bit vector</li>
      <li><code class="language-plaintext highlighter-rouge">offset</code> (<em>int</em>): Offset in bits</li>
      <li><code class="language-plaintext highlighter-rouge">length</code> (<em>int</em>): Length in bits</li>
    </ul>

    <h6 id="returns-47">Returns</h6>

    <ul>
      <li>Formatted bit string (<em>string</em>)</li>
    </ul>

    <h6 id="example-137">Example</h6>

    <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">local</span> <span class="n">vec</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">types</span><span class="p">.</span><span class="n">Bit</span><span class="p">.</span><span class="n">vector_from_array</span><span class="p">({</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">})</span>
<span class="nb">print</span><span class="p">(</span><span class="n">radio</span><span class="p">.</span><span class="n">types</span><span class="p">.</span><span class="n">Bit</span><span class="p">.</span><span class="n">tostring</span><span class="p">(</span><span class="n">vec</span><span class="p">))</span> <span class="c1">--&gt; '010111'</span>
<span class="nb">print</span><span class="p">(</span><span class="n">radio</span><span class="p">.</span><span class="n">types</span><span class="p">.</span><span class="n">Bit</span><span class="p">.</span><span class="n">tostring</span><span class="p">(</span><span class="n">vec</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span> <span class="c1">--&gt; '1011'</span>
</code></pre></div>    </div>

  </div>
</div>
<hr />

<div class="class">
  <h4 id="byte">Byte</h4>

  <h5 id="radiotypesbytevalue0"><code class="language-plaintext highlighter-rouge">radio.types.Byte([value=0])</code></h5>

  <p>Byte data type, a C structure defined as:</p>

  <div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">typedef</span> <span class="k">struct</span> <span class="n">byte</span> <span class="p">{</span>
    <span class="kt">uint8_t</span> <span class="n">value</span><span class="p">;</span>
<span class="p">}</span> <span class="n">byte_t</span><span class="p">;</span>
</code></pre></div>  </div>

  <h6 id="arguments-132">Arguments</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">value</code> (<em>int</em>): Initial value</li>
  </ul>

  <div class="function">
    <h5 id="bytevectornum"><code class="language-plaintext highlighter-rouge">Byte.vector(num)</code></h5>

    <p>Construct a zero-initialized Byte vector.</p>

    <h6 id="arguments-133">Arguments</h6>

    <ul>
      <li><code class="language-plaintext highlighter-rouge">num</code> (<em>int</em>): Number of elements in the vector</li>
    </ul>

    <h6 id="returns-48">Returns</h6>

    <ul>
      <li>Byte vector (<em>Vector</em>)</li>
    </ul>

    <h6 id="example-138">Example</h6>

    <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">local</span> <span class="n">vec</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">types</span><span class="p">.</span><span class="n">Byte</span><span class="p">.</span><span class="n">vector</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
</code></pre></div>    </div>

  </div>
  <div class="function">
    <h5 id="bytevectorfromarrayarr"><code class="language-plaintext highlighter-rouge">Byte.vector_from_array(arr)</code></h5>

    <p>Construct a Byte vector initialized from an array.</p>

    <h6 id="arguments-134">Arguments</h6>

    <ul>
      <li><code class="language-plaintext highlighter-rouge">arr</code> (<em>array</em>): Array with element initializers</li>
    </ul>

    <h6 id="returns-49">Returns</h6>

    <ul>
      <li>Byte vector (<em>Vector</em>)</li>
    </ul>

    <h6 id="example-139">Example</h6>

    <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">local</span> <span class="n">vec</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">types</span><span class="p">.</span><span class="n">Byte</span><span class="p">.</span><span class="n">vector_from_array</span><span class="p">({</span><span class="mh">0xde</span><span class="p">,</span> <span class="mh">0xad</span><span class="p">,</span> <span class="mh">0xbe</span><span class="p">,</span> <span class="mh">0xef</span><span class="p">})</span>
</code></pre></div>    </div>

  </div>
  <div class="function">
    <h5 id="byteaddother"><code class="language-plaintext highlighter-rouge">Byte:__add(other)</code></h5>

    <p>Add two Bytes.</p>

    <h6 id="arguments-135">Arguments</h6>

    <ul>
      <li><code class="language-plaintext highlighter-rouge">other</code> (<em>Bit</em>): Operand</li>
    </ul>

    <h6 id="returns-50">Returns</h6>

    <ul>
      <li>Result (<em>Byte</em>)</li>
    </ul>

  </div>
  <div class="function">
    <h5 id="bytesubother"><code class="language-plaintext highlighter-rouge">Byte:__sub(other)</code></h5>

    <p>Subtract two Bytes.</p>

    <h6 id="arguments-136">Arguments</h6>

    <ul>
      <li><code class="language-plaintext highlighter-rouge">other</code> (<em>Bit</em>): Operand</li>
    </ul>

    <h6 id="returns-51">Returns</h6>

    <ul>
      <li>Result (<em>Byte</em>)</li>
    </ul>

  </div>
  <div class="function">
    <h5 id="bytemulother"><code class="language-plaintext highlighter-rouge">Byte:__mul(other)</code></h5>

    <p>Multiply two Bytes.</p>

    <h6 id="arguments-137">Arguments</h6>

    <ul>
      <li><code class="language-plaintext highlighter-rouge">other</code> (<em>Bit</em>): Operand</li>
    </ul>

    <h6 id="returns-52">Returns</h6>

    <ul>
      <li>Result (<em>Byte</em>)</li>
    </ul>

  </div>
  <div class="function">
    <h5 id="bytedivother"><code class="language-plaintext highlighter-rouge">Byte:__div(other)</code></h5>

    <p>Divide two Bytes.</p>

    <h6 id="arguments-138">Arguments</h6>

    <ul>
      <li><code class="language-plaintext highlighter-rouge">other</code> (<em>Bit</em>): Operand</li>
    </ul>

    <h6 id="returns-53">Returns</h6>

    <ul>
      <li>Result (<em>Byte</em>)</li>
    </ul>

  </div>
  <div class="function">
    <h5 id="byteeqother"><code class="language-plaintext highlighter-rouge">Byte:__eq(other)</code></h5>

    <p>Compare two Bytes for equality.</p>

    <h6 id="arguments-139">Arguments</h6>

    <ul>
      <li><code class="language-plaintext highlighter-rouge">other</code> (<em>Bit</em>): Other byte</li>
    </ul>

    <h6 id="returns-54">Returns</h6>

    <ul>
      <li>Result (<em>bool</em>)</li>
    </ul>

  </div>
  <div class="function">
    <h5 id="byteltother"><code class="language-plaintext highlighter-rouge">Byte:__lt(other)</code></h5>

    <p>Compare two Bytes for less than.</p>

    <h6 id="arguments-140">Arguments</h6>

    <ul>
      <li><code class="language-plaintext highlighter-rouge">other</code> (<em>Bit</em>): Other byte</li>
    </ul>

    <h6 id="returns-55">Returns</h6>

    <ul>
      <li>Result (<em>bool</em>)</li>
    </ul>

  </div>
  <div class="function">
    <h5 id="byteleother"><code class="language-plaintext highlighter-rouge">Byte:__le(other)</code></h5>

    <p>Compare two Bytes for less than or equal.</p>

    <h6 id="arguments-141">Arguments</h6>

    <ul>
      <li><code class="language-plaintext highlighter-rouge">other</code> (<em>Bit</em>): Other byte</li>
    </ul>

    <h6 id="returns-56">Returns</h6>

    <ul>
      <li>Result (<em>bool</em>)</li>
    </ul>

  </div>
  <div class="function">
    <h5 id="bytetostring"><code class="language-plaintext highlighter-rouge">Byte:__tostring()</code></h5>

    <p>Get a string representation.</p>

    <h6 id="returns-57">Returns</h6>

    <ul>
      <li>String representation (<em>string</em>)</li>
    </ul>

    <h6 id="example-140">Example</h6>

    <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">local</span> <span class="n">x</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">types</span><span class="p">.</span><span class="n">Byte</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">))</span> <span class="c1">--&gt; Byte&lt;value=0&gt;</span>
</code></pre></div>    </div>

  </div>
  <div class="function">
    <h5 id="bytetypename"><code class="language-plaintext highlighter-rouge">Byte.type_name</code></h5>

    <p>Type name of Byte.</p>

    <h6 id="returns-58">Returns</h6>

    <ul>
      <li>Type name (<em>string</em>)</li>
    </ul>

    <h6 id="example-141">Example</h6>

    <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">print</span><span class="p">(</span><span class="n">radio</span><span class="p">.</span><span class="n">types</span><span class="p">.</span><span class="n">Byte</span><span class="p">.</span><span class="n">type_name</span><span class="p">)</span> <span class="c1">--&gt; Byte</span>
</code></pre></div>    </div>

  </div>
</div>
<hr />

<h3 id="type-factories">Type Factories</h3>

<div class="class">
  <h4 id="cstructtype">CStructType</h4>

  <h5 id="radiotypescstructtype"><code class="language-plaintext highlighter-rouge">radio.types.CStructType()</code></h5>

  <p>CStruct data type base class.</p>

  <div class="function">
    <h5 id="cstructtypefactoryctype-methods"><code class="language-plaintext highlighter-rouge">CStructType.factory(ctype[, methods={}])</code></h5>

    <p>Construct a new data type based on a C structure type. The data type will be
serializable between blocks in a flow graph.</p>

    <h6 id="arguments-142">Arguments</h6>

    <ul>
      <li><code class="language-plaintext highlighter-rouge">ctype</code> (<em>string</em>|<em>ctype</em>): C type</li>
      <li><code class="language-plaintext highlighter-rouge">methods</code> (<em>table</em>): Table of methods and metamethods</li>
    </ul>

    <h6 id="returns-59">Returns</h6>

    <ul>
      <li>Data type (<em>class</em>)</li>
    </ul>

  </div>
  <div class="function">
    <h5 id="cstructtypenew"><code class="language-plaintext highlighter-rouge">CStructType.new(...)</code></h5>

    <p>Construct a new instance of this type.</p>

    <h6 id="arguments-143">Arguments</h6>

    <ul>
      <li><code class="language-plaintext highlighter-rouge">...</code>: Arguments</li>
    </ul>

  </div>
  <div class="function">
    <h5 id="cstructtypevectornum"><code class="language-plaintext highlighter-rouge">CStructType.vector(num)</code></h5>

    <p>Construct a zero-initialized vector of this type.</p>

    <h6 id="arguments-144">Arguments</h6>

    <ul>
      <li><code class="language-plaintext highlighter-rouge">num</code> (<em>int</em>): Number of elements in the vector</li>
    </ul>

    <h6 id="returns-60">Returns</h6>

    <ul>
      <li>Vector (<em>Vector</em>)</li>
    </ul>

  </div>
  <div class="function">
    <h5 id="cstructtypevectorfromarrayarr"><code class="language-plaintext highlighter-rouge">CStructType.vector_from_array(arr)</code></h5>

    <p>Construct a vector of this type initialized from an array.</p>

    <h6 id="arguments-145">Arguments</h6>

    <ul>
      <li><code class="language-plaintext highlighter-rouge">arr</code> (<em>array</em>): Array with element initializers</li>
    </ul>

    <h6 id="returns-61">Returns</h6>

    <ul>
      <li>Vector (<em>Vector</em>)</li>
    </ul>

  </div>
  <div class="function">
    <h5 id="cstructtypeeqother"><code class="language-plaintext highlighter-rouge">CStructType:__eq(other)</code></h5>

    <p>Compare two instances of this type.</p>

    <h6 id="arguments-146">Arguments</h6>

    <ul>
      <li><code class="language-plaintext highlighter-rouge">other</code> (<em>CStructType</em>): Other instance</li>
    </ul>

    <h6 id="returns-62">Returns</h6>

    <ul>
      <li>Result (<em>bool</em>)</li>
    </ul>

  </div>
  <div class="function">
    <h5 id="cstructtypetypename"><code class="language-plaintext highlighter-rouge">CStructType.type_name</code></h5>

    <p>Type name of this CStructType.</p>

    <h6 id="returns-63">Returns</h6>

    <ul>
      <li>Type name (<em>string</em>)</li>
    </ul>

  </div>
</div>
<hr />

<div class="class">
  <h4 id="objecttype">ObjectType</h4>

  <h5 id="radiotypesobjecttype"><code class="language-plaintext highlighter-rouge">radio.types.ObjectType()</code></h5>

  <p>Object data type base class.</p>

  <div class="function">
    <h5 id="objecttypefactorymethods"><code class="language-plaintext highlighter-rouge">ObjectType.factory([methods={}])</code></h5>

    <p>Construct a new data type based on a Lua object. The data type will be
serializable between blocks in a flow graph.</p>

    <p>The <code class="language-plaintext highlighter-rouge">new()</code> constructor must be provided by the implementation.</p>

    <h6 id="arguments-147">Arguments</h6>

    <ul>
      <li><code class="language-plaintext highlighter-rouge">methods</code> (<em>table</em>): Table of methods and metamethods</li>
    </ul>

    <h6 id="returns-64">Returns</h6>

    <ul>
      <li>Data type (<em>class</em>)</li>
    </ul>

  </div>
  <div class="function">
    <h5 id="objecttypevectornum"><code class="language-plaintext highlighter-rouge">ObjectType.vector(num)</code></h5>

    <p>Construct a vector of this type.</p>

    <h6 id="arguments-148">Arguments</h6>

    <ul>
      <li><code class="language-plaintext highlighter-rouge">num</code> (<em>int</em>): Number of elements in the vector</li>
    </ul>

    <h6 id="returns-65">Returns</h6>

    <ul>
      <li>Vector (<em>ObjectVector</em>)</li>
    </ul>

  </div>
  <div class="function">
    <h5 id="objecttypevectorfromarrayarr"><code class="language-plaintext highlighter-rouge">ObjectType.vector_from_array(arr)</code></h5>

    <p>Construct a vector of this type initialized from an array.</p>

    <h6 id="arguments-149">Arguments</h6>

    <ul>
      <li><code class="language-plaintext highlighter-rouge">arr</code> (<em>array</em>): Array with element initializers</li>
    </ul>

    <h6 id="returns-66">Returns</h6>

    <ul>
      <li>Vector (<em>ObjectVector</em>)</li>
    </ul>

  </div>
  <div class="function">
    <h5 id="objecttypetomsgpack"><code class="language-plaintext highlighter-rouge">ObjectType:to_msgpack()</code></h5>

    <p>Serialize this object with MessagePack.</p>

    <h6 id="returns-67">Returns</h6>

    <ul>
      <li>MessagePack serialized object (<em>string</em>)</li>
    </ul>

  </div>
  <div class="function">
    <h5 id="objecttypetojson"><code class="language-plaintext highlighter-rouge">ObjectType:to_json()</code></h5>

    <p>Serialize this object with JSON.</p>

    <h6 id="returns-68">Returns</h6>

    <ul>
      <li>JSON serialized object (<em>string</em>)</li>
    </ul>

  </div>
  <div class="function">
    <h5 id="objecttypefrommsgpackstr"><code class="language-plaintext highlighter-rouge">ObjectType:from_msgpack(str)</code></h5>

    <p>Deserialize an instance of this type with MessagePack.</p>

    <h6 id="arguments-150">Arguments</h6>

    <ul>
      <li><code class="language-plaintext highlighter-rouge">str</code> (<em>string</em>): MessagePack serialized object</li>
    </ul>

    <h6 id="returns-69">Returns</h6>

    <ul>
      <li>Deserialized object (<em>ObjectType</em>)</li>
    </ul>

  </div>
  <div class="function">
    <h5 id="objecttypefromjsonstr"><code class="language-plaintext highlighter-rouge">ObjectType:from_json(str)</code></h5>

    <p>Deserialize an instance of this type with JSON.</p>

    <h6 id="arguments-151">Arguments</h6>

    <ul>
      <li><code class="language-plaintext highlighter-rouge">str</code> (<em>string</em>): JSON serialized object</li>
    </ul>

    <h6 id="returns-70">Returns</h6>

    <ul>
      <li>Deserialized object (<em>ObjectType</em>)</li>
    </ul>

  </div>
  <div class="function">
    <h5 id="objecttypetypename"><code class="language-plaintext highlighter-rouge">ObjectType.type_name</code></h5>

    <p>Type name of this ObjectType.</p>

    <h6 id="returns-71">Returns</h6>

    <ul>
      <li>Type name (<em>string</em>)</li>
    </ul>

  </div>
</div>
<hr />

<h3 id="vector">Vector</h3>

<p>Vector classes.</p>

<div class="class">
  <h4 id="vector">Vector</h4>

  <h5 id="radiovectorvectorctype-num0"><code class="language-plaintext highlighter-rouge">radio.vector.Vector(ctype[, num=0])</code></h5>

  <p>A dynamic array of a C structure type.</p>

  <h6 id="arguments-152">Arguments</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">ctype</code> (<em>ctype</em>): C type</li>
    <li><code class="language-plaintext highlighter-rouge">num</code> (<em>int</em>): Length</li>
  </ul>

  <div class="function">
    <h5 id="vectoreqother"><code class="language-plaintext highlighter-rouge">Vector:__eq(other)</code></h5>

    <p>Compare two vectors for equality.</p>

    <h6 id="arguments-153">Arguments</h6>

    <ul>
      <li><code class="language-plaintext highlighter-rouge">other</code> (<em>vector</em>): Other vector</li>
    </ul>

    <h6 id="returns-72">Returns</h6>

    <ul>
      <li>Result (<em>bool</em>)</li>
    </ul>

  </div>
  <div class="function">
    <h5 id="vectortostring"><code class="language-plaintext highlighter-rouge">Vector:__tostring()</code></h5>

    <p>Get a string representation.</p>

    <h6 id="returns-73">Returns</h6>

    <ul>
      <li>String representation (<em>string</em>)</li>
    </ul>

  </div>
  <div class="function">
    <h5 id="vectorresizenum"><code class="language-plaintext highlighter-rouge">Vector:resize(num)</code></h5>

    <p>Resize the vector.</p>

    <h6 id="arguments-154">Arguments</h6>

    <ul>
      <li><code class="language-plaintext highlighter-rouge">num</code> (<em>int</em>): New length</li>
    </ul>

    <h6 id="returns-74">Returns</h6>

    <ul>
      <li>self (<em>Vector</em>)</li>
    </ul>

  </div>
  <div class="function">
    <h5 id="vectorappendelem"><code class="language-plaintext highlighter-rouge">Vector:append(elem)</code></h5>

    <p>Append an element to the vector.</p>

    <h6 id="arguments-155">Arguments</h6>

    <ul>
      <li><code class="language-plaintext highlighter-rouge">elem</code>: Element</li>
    </ul>

    <h6 id="returns-75">Returns</h6>

    <ul>
      <li>self (<em>Vector</em>)</li>
    </ul>

  </div>
  <div class="function">
    <h5 id="vectorfillelem"><code class="language-plaintext highlighter-rouge">Vector:fill(elem)</code></h5>

    <p>Fill a vector with an element.</p>

    <h6 id="arguments-156">Arguments</h6>

    <ul>
      <li><code class="language-plaintext highlighter-rouge">elem</code>: Element</li>
    </ul>

    <h6 id="returns-76">Returns</h6>

    <ul>
      <li>self (<em>Vector</em>)</li>
    </ul>

  </div>
</div>
<hr />

<div class="class">
  <h4 id="objectvector">ObjectVector</h4>

  <h5 id="radiovectorobjectvectortype-num0"><code class="language-plaintext highlighter-rouge">radio.vector.ObjectVector(type[, num=0])</code></h5>

  <p>A dynamic array of a Lua object type.</p>

  <h6 id="arguments-157">Arguments</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">type</code> (<em>type</em>): Lua class</li>
    <li><code class="language-plaintext highlighter-rouge">num</code> (<em>int</em>): Length</li>
  </ul>

  <div class="function">
    <h5 id="objectvectortostring"><code class="language-plaintext highlighter-rouge">ObjectVector:__tostring()</code></h5>

    <p>Get a string representation.</p>

    <h6 id="returns-77">Returns</h6>

    <ul>
      <li>String representation (<em>string</em>)</li>
    </ul>

  </div>
  <div class="function">
    <h5 id="objectvectorresizenum"><code class="language-plaintext highlighter-rouge">ObjectVector:resize(num)</code></h5>

    <p>Resize the vector.</p>

    <h6 id="arguments-158">Arguments</h6>

    <ul>
      <li><code class="language-plaintext highlighter-rouge">num</code> (<em>int</em>): New length</li>
    </ul>

    <h6 id="returns-78">Returns</h6>

    <ul>
      <li>self (<em>Vector</em>)</li>
    </ul>

  </div>
  <div class="function">
    <h5 id="objectvectorappendelem"><code class="language-plaintext highlighter-rouge">ObjectVector:append(elem)</code></h5>

    <p>Append an element to the vector.</p>

    <h6 id="arguments-159">Arguments</h6>

    <ul>
      <li><code class="language-plaintext highlighter-rouge">elem</code>: Element</li>
    </ul>

    <h6 id="returns-79">Returns</h6>

    <ul>
      <li>self (<em>Vector</em>)</li>
    </ul>

  </div>
</div>
<hr />

<h3 id="block">Block</h3>

<p>Support classes for creating blocks.</p>

<div class="class">
  <h4 id="input">Input</h4>

  <h5 id="radioblockinputname-datatype"><code class="language-plaintext highlighter-rouge">radio.block.Input(name, data_type)</code></h5>

  <p>Block input port descriptor. This contains the name and data type of a block
input port.</p>

  <h6 id="arguments-160">Arguments</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">name</code> (<em>string</em>): Name</li>
    <li><code class="language-plaintext highlighter-rouge">data_type</code> (<em>type</em>|<em>function</em>): Data type, e.g. <code class="language-plaintext highlighter-rouge">radio.types.ComplexFloat32</code>, or a function predicate</li>
  </ul>

  <h6 id="example-142">Example</h6>

  <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">local</span> <span class="n">inputs</span> <span class="o">=</span> <span class="p">{</span><span class="n">radio</span><span class="p">.</span><span class="n">block</span><span class="p">.</span><span class="n">Input</span><span class="p">(</span><span class="s2">"in1"</span><span class="p">,</span> <span class="n">radio</span><span class="p">.</span><span class="n">types</span><span class="p">.</span><span class="n">ComplexFloat32</span><span class="p">),</span>
                <span class="n">radio</span><span class="p">.</span><span class="n">block</span><span class="p">.</span><span class="n">Input</span><span class="p">(</span><span class="s2">"in2"</span><span class="p">,</span> <span class="n">radio</span><span class="p">.</span><span class="n">types</span><span class="p">.</span><span class="n">ComplexFloat32</span><span class="p">)}</span>
<span class="kd">local</span> <span class="n">outputs</span> <span class="o">=</span> <span class="p">{</span><span class="o">...</span><span class="p">}</span>
<span class="o">...</span>
<span class="n">self</span><span class="p">:</span><span class="n">add_type_signature</span><span class="p">(</span><span class="n">inputs</span><span class="p">,</span> <span class="n">outputs</span><span class="p">)</span>
</code></pre></div>  </div>

</div>
<hr />

<div class="class">
  <h4 id="output">Output</h4>

  <h5 id="radioblockoutputname-datatype"><code class="language-plaintext highlighter-rouge">radio.block.Output(name, data_type)</code></h5>

  <p>Block output port descriptor. This contains the name and data type of
a block output port.</p>

  <h6 id="arguments-161">Arguments</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">name</code> (<em>string</em>): Name</li>
    <li><code class="language-plaintext highlighter-rouge">data_type</code> (<em>type</em>|<em>str</em>): Data type, e.g. <code class="language-plaintext highlighter-rouge">radio.types.ComplexFloat32</code>, or “copy” to copy input data type</li>
  </ul>

  <h6 id="example-143">Example</h6>

  <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">local</span> <span class="n">inputs</span> <span class="o">=</span> <span class="p">{</span><span class="o">...</span><span class="p">}</span>
<span class="kd">local</span> <span class="n">outputs</span> <span class="o">=</span> <span class="p">{</span><span class="n">radio</span><span class="p">.</span><span class="n">block</span><span class="p">.</span><span class="n">Output</span><span class="p">(</span><span class="s2">"out"</span><span class="p">,</span> <span class="n">radio</span><span class="p">.</span><span class="n">types</span><span class="p">.</span><span class="n">ComplexFloat32</span><span class="p">)}</span>
<span class="o">...</span>
<span class="n">self</span><span class="p">:</span><span class="n">add_type_signature</span><span class="p">(</span><span class="n">inputs</span><span class="p">,</span> <span class="n">outputs</span><span class="p">)</span>
</code></pre></div>  </div>

</div>
<hr />

<div class="class">
  <h4 id="block">Block</h4>

  <h5 id="radioblockblock"><code class="language-plaintext highlighter-rouge">radio.block.Block()</code></h5>

  <p>Block base class.</p>

  <div class="function">
    <h5 id="blockaddtypesignatureinputs-outputs-processfuncnil-initializefuncnil"><code class="language-plaintext highlighter-rouge">Block:add_type_signature(inputs, outputs[, process_func=nil, initialize_func=nil])</code></h5>

    <p>Add a type signature.</p>

    <h6 id="arguments-162">Arguments</h6>

    <ul>
      <li><code class="language-plaintext highlighter-rouge">inputs</code> (<em>array</em>): Input ports, array of <code class="language-plaintext highlighter-rouge">radio.block.Input</code> instances</li>
      <li><code class="language-plaintext highlighter-rouge">outputs</code> (<em>array</em>): Output ports, array of <code class="language-plaintext highlighter-rouge">radio.block.Output</code> instances</li>
      <li><code class="language-plaintext highlighter-rouge">process_func</code> (<em>function</em>): Optional process function for this
                                      type signature, defaults to
                                      <code class="language-plaintext highlighter-rouge">process()</code></li>
      <li><code class="language-plaintext highlighter-rouge">initialize_func</code> (<em>function</em>): Optional process initialization
                                         for this type signature, defaults
                                         to <code class="language-plaintext highlighter-rouge">initialize()</code></li>
    </ul>

    <h6 id="raises-3">Raises</h6>

    <ul>
      <li>Invalid input port descriptor error.</li>
      <li>Invalid output port descriptor error.</li>
      <li>Invalid type signature, input count mismatch error.</li>
      <li>Invalid type signature, input name mismatch error.</li>
      <li>Invalid type signature, output count mismatch error.</li>
      <li>Invalid type signature, output name mismatch error.</li>
    </ul>

  </div>
  <div class="function">
    <h5 id="blockdifferentiateinputdatatypes"><code class="language-plaintext highlighter-rouge">Block:differentiate(input_data_types)</code></h5>

    <p>Differentiate this block to a type signature.</p>

    <h6 id="arguments-163">Arguments</h6>

    <ul>
      <li><code class="language-plaintext highlighter-rouge">input_data_types</code> (<em>array</em>): Array of input data types</li>
    </ul>

    <h6 id="raises-4">Raises</h6>

    <ul>
      <li>No compatible type signatures found error.</li>
    </ul>

  </div>
  <div class="function">
    <h5 id="blockgetinputtypeindex1"><code class="language-plaintext highlighter-rouge">Block:get_input_type([index=1])</code></h5>

    <p>Get the differentiated input data type.</p>

    <h6 id="arguments-164">Arguments</h6>

    <ul>
      <li><code class="language-plaintext highlighter-rouge">index</code> (<em>int</em>): Index of input, starting at 1</li>
    </ul>

    <h6 id="returns-80">Returns</h6>

    <ul>
      <li>Array of data types (<em>array</em>)</li>
    </ul>

    <h6 id="raises-5">Raises</h6>

    <ul>
      <li>Block not yet differentiated error.</li>
    </ul>

  </div>
  <div class="function">
    <h5 id="blockgetoutputtypeindex1"><code class="language-plaintext highlighter-rouge">Block:get_output_type([index=1])</code></h5>

    <p>Get the differentiated output data type.</p>

    <h6 id="arguments-165">Arguments</h6>

    <ul>
      <li><code class="language-plaintext highlighter-rouge">index</code> (<em>int</em>): Index of output, starting at 1</li>
    </ul>

    <h6 id="returns-81">Returns</h6>

    <ul>
      <li>Data type (<em>data_type</em>)</li>
    </ul>

    <h6 id="raises-6">Raises</h6>

    <ul>
      <li>Block not yet differentiated error.</li>
    </ul>

  </div>
  <div class="function">
    <h5 id="blockgetrate"><code class="language-plaintext highlighter-rouge">Block:get_rate()</code></h5>

    <p>Get the block rate.</p>

    <h6 id="returns-82">Returns</h6>

    <ul>
      <li>Block rate in samples per second (<em>number</em>)</li>
    </ul>

    <h6 id="raises-7">Raises</h6>

    <ul>
      <li>Block not yet differentiated error.</li>
    </ul>

  </div>
  <div class="function">
    <h5 id="blocktostring"><code class="language-plaintext highlighter-rouge">Block:__tostring()</code></h5>

    <p>Get a string representation with the block name and port connectivity.</p>

    <h6 id="returns-83">Returns</h6>

    <ul>
      <li>String representation (<em>string</em>)</li>
    </ul>

  </div>
  <div class="function">
    <h5 id="blockinstantiate"><code class="language-plaintext highlighter-rouge">Block:instantiate()</code></h5>

    <p>Instantiate hook, default no-op implementation.</p>

  </div>
  <div class="function">
    <h5 id="blockinitialize"><code class="language-plaintext highlighter-rouge">Block:initialize()</code></h5>

    <p>Initialize hook, default no-op implementation.</p>

  </div>
  <div class="function">
    <h5 id="blockprocess"><code class="language-plaintext highlighter-rouge">Block:process()</code></h5>

    <p>Process hook, default implementation raises a not implemented error.</p>

  </div>
  <div class="function">
    <h5 id="blockcleanup"><code class="language-plaintext highlighter-rouge">Block:cleanup()</code></h5>

    <p>Cleanup hook, default no-op implementation.</p>

  </div>
</div>
<hr />

<div class="function">
  <h5 id="radioblockfactoryname-parentclassnil"><code class="language-plaintext highlighter-rouge">radio.block.factory(name[, parent_class=nil])</code></h5>

  <p>Block class factory.</p>

  <h6 id="arguments-166">Arguments</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">name</code> (<em>string</em>): Block name</li>
    <li><code class="language-plaintext highlighter-rouge">parent_class</code> (<em>class</em>): Inherited parent class</li>
  </ul>

  <h6 id="example-144">Example</h6>

  <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">local</span> <span class="n">MyBlock</span> <span class="o">=</span> <span class="n">radio</span><span class="p">.</span><span class="n">block</span><span class="p">.</span><span class="n">factory</span><span class="p">(</span><span class="s2">"MyBlock"</span><span class="p">)</span>

<span class="k">function</span> <span class="nf">MyBlock</span><span class="p">:</span><span class="n">instantiate</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>
    <span class="n">self</span><span class="p">.</span><span class="n">param</span> <span class="o">=</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span>

    <span class="n">self</span><span class="p">:</span><span class="n">add_type_signature</span><span class="p">({</span><span class="n">radio</span><span class="p">.</span><span class="n">block</span><span class="p">.</span><span class="n">Input</span><span class="p">(</span><span class="s2">"in"</span><span class="p">,</span> <span class="n">radio</span><span class="p">.</span><span class="n">types</span><span class="p">.</span><span class="n">Float32</span><span class="p">)},</span>
                            <span class="p">{</span><span class="n">radio</span><span class="p">.</span><span class="n">block</span><span class="p">.</span><span class="n">Output</span><span class="p">(</span><span class="s2">"out"</span><span class="p">,</span> <span class="n">radio</span><span class="p">.</span><span class="n">types</span><span class="p">.</span><span class="n">Float32</span><span class="p">)})</span>
<span class="k">end</span>

<span class="k">function</span> <span class="nf">MyBlock</span><span class="p">:</span><span class="n">initialize</span><span class="p">()</span>
    <span class="c1">-- Differentiated data type and sample rate dependent initialization</span>
<span class="k">end</span>

<span class="k">function</span> <span class="nf">MyBlock</span><span class="p">:</span><span class="n">process</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">x</span>
<span class="k">end</span>
</code></pre></div>  </div>

</div>
<hr />

<h3 id="debug">Debug</h3>

<p>Debug logging support.</p>

<div class="field">
  <h5 id="radiodebugenabled"><code class="language-plaintext highlighter-rouge">radio.debug.enabled</code></h5>

  <p><em>bool</em>: Debug logging enabled.</p>

</div>
<hr />

<div class="function">
  <h5 id="radiodebugprints"><code class="language-plaintext highlighter-rouge">radio.debug.print(s)</code></h5>

  <p>Debug print.</p>

  <h6 id="arguments-167">Arguments</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">s</code> (<em>string</em>): String to print</li>
  </ul>

</div>
<hr />

<div class="function">
  <h5 id="radiodebugprintf"><code class="language-plaintext highlighter-rouge">radio.debug.printf(...)</code></h5>

  <p>Debug formatted print.</p>

  <h6 id="arguments-168">Arguments</h6>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">...</code>: Format string and arguments</li>
  </ul>

</div>
<hr />

<h3 id="platform">Platform</h3>

<p>Platform constants.</p>

<div class="field">
  <h5 id="radioplatformluajitversion"><code class="language-plaintext highlighter-rouge">radio.platform.luajit_version</code></h5>

  <p><em>string</em>: LuaJIT version (e.g. “LuaJIT 2.0.4”).</p>

</div>
<hr />

<div class="field">
  <h5 id="radioplatformos"><code class="language-plaintext highlighter-rouge">radio.platform.os</code></h5>

  <p><em>string</em>: Operating System (e.g. “Linux”, “OSX”, “BSD”).</p>

</div>
<hr />

<div class="field">
  <h5 id="radioplatformarch"><code class="language-plaintext highlighter-rouge">radio.platform.arch</code></h5>

  <p><em>string</em>: Architecture (e.g. “x64”, “x86”, “arm”).</p>

</div>
<hr />

<div class="field">
  <h5 id="radioplatformpagesize"><code class="language-plaintext highlighter-rouge">radio.platform.page_size</code></h5>

  <p><em>int</em>: Page size (e.g. 4096).</p>

</div>
<hr />

<div class="field">
  <h5 id="radioplatformcpucount"><code class="language-plaintext highlighter-rouge">radio.platform.cpu_count</code></h5>

  <p><em>int</em>: CPU count (e.g. 4).</p>

</div>
<hr />

<div class="field">
  <h5 id="radioplatformcpumodel"><code class="language-plaintext highlighter-rouge">radio.platform.cpu_model</code></h5>

  <p><em>int</em>: CPU model (e.g. “Intel(R) Core(TM) i5-4570T CPU @ 2.90GHz”).</p>

</div>
<hr />

<div class="field">
  <h5 id="radioplatformalloc"><code class="language-plaintext highlighter-rouge">radio.platform.alloc</code></h5>

  <p><em>function</em>: Platform page-aligned allocator function.</p>

</div>
<hr />

<div class="field">
  <h5 id="radioplatformload"><code class="language-plaintext highlighter-rouge">radio.platform.load</code></h5>

  <p><em>function</em>: Platform FFI load library helper function.</p>

</div>
<hr />

<div class="field">
  <h5 id="radioplatformtimeus"><code class="language-plaintext highlighter-rouge">radio.platform.time_us</code></h5>

  <p><em>function</em>: Platform timestamp function.</p>

</div>
<hr />

<div class="field">
  <h5 id="radioplatformfeaturesliquid"><code class="language-plaintext highlighter-rouge">radio.platform.features.liquid</code></h5>

  <p><em>bool</em>: Liquid-dsp library found and enabled.</p>

</div>
<hr />

<div class="field">
  <h5 id="radioplatformfeaturesvolk"><code class="language-plaintext highlighter-rouge">radio.platform.features.volk</code></h5>

  <p><em>bool</em>: VOLK library found and enabled.</p>

</div>
<hr />

<div class="field">
  <h5 id="radioplatformfeaturesfftw3f"><code class="language-plaintext highlighter-rouge">radio.platform.features.fftw3f</code></h5>

  <p><em>bool</em>: FFTW3F library found and enabled.</p>

</div>
<hr />

<div class="field">
  <h5 id="radioplatformversionsliquid"><code class="language-plaintext highlighter-rouge">radio.platform.versions.liquid</code></h5>

  <p><em>string</em>: Liquid-dsp library version.</p>

</div>
<hr />

<div class="field">
  <h5 id="radioplatformversionsvolk"><code class="language-plaintext highlighter-rouge">radio.platform.versions.volk</code></h5>

  <p><em>string</em>: VOLK library version.</p>

</div>
<hr />

<div class="field">
  <h5 id="radioplatformversionsfftw3f"><code class="language-plaintext highlighter-rouge">radio.platform.versions.fftw3f</code></h5>

  <p><em>string</em>: FFTW3F library version.</p>

</div>
<hr />



      <div class="footer">
        <div class="disclaimer">
  <p>
    © Vanya A. Sergeev, 2016-2021 &mdash; built with <a href="http://jekyllrb.com/">Jekyll</a>, theme based on <a href="https://github.com/swanson/lagom">Lagom</a>
  </p>
</div>

      </div>
    </div>
  </div>
  </div>
  </div>
</body>
</html>
